/*! For license information please see main.183acc5a.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);h&&(o=o.concat(h(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=f(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Pe(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==xe||null!==Se)&&(Pe(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function je(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,Ve=null,Ue={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,a,o,s,u){Le=!1,Me=null,je.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,Tt=!1,Ct=[],It=null,Pt=null,Nt=null,At=new Map,Rt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Tt=!1,null!==It&&Ft(It)&&(It=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Nt&&Ft(Nt)&&(Nt=null),At.forEach(Vt),Rt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Pt&&Bt(Pt,e),null!==Nt&&Bt(Nt,e),At.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var zt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),hn=M({},cn,{view:0,detail:0}),fn=an(hn),dn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},hn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Tn=M({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),In=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(An),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,jn=null;l&&"documentMode"in document&&(jn=document.documentMode);var Ln=l&&"TextEvent"in window&&!jn,Mn=l&&(!On||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Cr=Er("animationiteration"),Ir=Er("animationstart"),Pr=Er("transitionend"),Nr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Or=Ar[Dr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Tr:case Cr:case Ir:u=yn;break;case Pr:u=Nn;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Re(p,f))&&l.push(Kr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(h=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=f;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Gr(l),f=Gr(f)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==h&&Qr(o,h,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Wn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Re(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ci={},Ii=Si(Ci),Pi=Si(!1),Ni=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Pi),Ei(Ii)}function Oi(e,t,n){if(Ii.current!==Ci)throw Error(a(168));Ti(Ii,t),Ti(Pi,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ii.current,Ti(Ii,e),Ti(Pi,Pi.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ji(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Pi),Ei(Ii),Ti(Ii,e)):Ei(Pi),Ti(Pi,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,qi),i}finally{kt=t,Ui=!1}}return null}var zi=[],Wi=0,Ki=null,Hi=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){zi[Wi++]=Hi,zi[Wi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=zi[--Wi],zi[Wi]=null,Hi=zi[--Wi],zi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ca(e){null===Ta?Ta=[e]:Ta.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function ja(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,l=c=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=M({},h,f);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=h}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),ja(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),ja(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?Ni:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?Ni:Ii.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case _:return(t=Vc(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:h(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return h(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var y=d(i,h,s[v],u);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,h=m}if(v===s.length)return n(i,h),ia&&Ji(i,v),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return ia&&Ji(i,v),c}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=j(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===h?l=k:h.sibling=k,h=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=f(i,g.value,c))&&(s=o(g,s,m),null===h?l=g:h.sibling=g,h=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===h?l=g:h.sibling=g,h=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=jc(o.type,o.key,o.props,null,r.mode,u)).ref=Ha(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(j(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,ho.current=cs,e=n(r,i)}while(ko)}if(ho.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var h=l.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,vo.lanes|=h,Mu|=h}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Ro(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Wo(jo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function jo(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Pa(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Co().memoizedState}function Bo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function zo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Ko(e,t){return qo(4,2,e,t)}function Ho(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{kt=n,fo.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(jo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Nu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:Po,useRef:Uo,useState:function(){return Po(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Co(),mo.memoizedState,e)},useTransition:function(){return[Po(Io)[0],Co().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],Co().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Hu=r),fs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ou,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ou,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ou,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ou,Du),Du|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Ri(n)?Ni:Ii.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Is(e,t,n,r,i){if(Ri(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ws(e,t),za(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ai(t,c=Ri(n)?Ni:Ii.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Na=!1;var f=t.memoizedState;o.state=f,Ma(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Pi.current||Na?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=Na||qa(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Ai(t,u=Ri(n)?Ni:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&Wa(t,o,r,u),Na=!1,f=t.memoizedState,o.state=f,Ma(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Pi.current||Na?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Na||qa(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ks(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Ds,Os,js,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Vs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),rc(r,e,i,-1))}return mc(),Us(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ri(t.type)&&Di(),Gs(t),null;case 3:return r=t.stateNode,io(),Ei(Pi),Ei(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ds(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Vr(jr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Vr(jr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)js(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===ju&&(ju=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Ds(e,t),null===e&&qr(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==ju||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Pi),Ei(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},js=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var hu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=hu,i=fu;hu=null,du(e,t,n),fu=i,null!==(hu=r)&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(hu,n.stateNode));break;case 4:r=hu,i=fu,hu=n.stateNode.containerInfo,fu=!0,du(e,t,n),hu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,fu=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===hu)throw Error(a(160));pu(o,s,i),hu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):k(i,h,f,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Xe())),4&r&&vu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||h,mu(t,e),Xs=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Zs=e,h=e.child;null!==h;){for(f=Zs=h;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(f);continue}}null!==p?(p.return=d,Zs=p):_u(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,bu(a,t,n),a=a.sibling;Zs=i,$s=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&qt(f)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,Eu=Math.ceil,Tu=b.ReactCurrentDispatcher,Cu=b.ReactCurrentOwner,Iu=b.ReactCurrentBatchConfig,Pu=0,Nu=null,Au=null,Ru=0,Du=0,Ou=Si(0),ju=0,Lu=null,Mu=0,Fu=0,Vu=0,Uu=null,Bu=null,qu=0,zu=1/0,Wu=null,Ku=!1,Hu=null,Gu=null,Qu=!1,Yu=null,$u=0,Xu=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Pu)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Pu)&&e===Nu||(e===Nu&&(0===(2&Pu)&&(Fu|=n),4===ju&&uc(e,Ru)),ic(e,r),1===n&&0===Pu&&0===(1&t.mode)&&(zu=Xe()+500,Vi&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Nu?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Pu)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Pu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ft(e,e===Nu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Pu;Pu|=2;var o=vc();for(Nu===e&&Ru===t||(Wu=null,zu=Xe()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),Tu.current=o,Pu=i,null!==Au?t=0:(Nu=null,Ru=0,t=ju)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Lu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Bu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qu+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Bu,Wu),t);break}_c(e,Bu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Bu,Wu),r);break}_c(e,Bu,Wu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bu,Bu=n,null!==t&&sc(t)),e}function sc(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function uc(e,t){for(t&=~Vu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Pu))throw Error(a(327));xc();var t=ft(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Bu,Wu),ic(e,Xe()),null}function lc(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(zu=Xe()+500,Vi&&qi())}}function hc(e){null!==Yu&&0===Yu.tag&&0===(6&Pu)&&xc();var t=Pu;Pu|=1;var n=Iu.transition,r=kt;try{if(Iu.transition=null,kt=1,e)return e()}finally{kt=r,Iu.transition=n,0===(6&(Pu=t))&&qi()}}function fc(){Du=Ou.current,Ei(Ou)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Pi),Ei(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nu=e,Au=e=Oc(e.current,null),Ru=Du=t,ju=0,Lu=null,Vu=Fu=Mu=0,Bu=Uu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=Au;try{if(wa(),ho.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Cu.current=null,null===n||null===n.return){ju=1,Lu=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==ju&&(ju=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function vc(){var e=Tu.current;return Tu.current=os,null===e?os:e}function mc(){0!==ju&&3!==ju&&2!==ju||(ju=4),null===Nu||0===(268435455&Mu)&&0===(268435455&Fu)||uc(Nu,Ru)}function yc(e,t){var n=Pu;Pu|=2;var r=vc();for(Nu===e&&Ru===t||(Wu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Pu=n,Tu.current=r,null!==Au)throw Error(a(261));return Nu=null,Ru=0,ju}function gc(){for(;null!==Au;)bc(Au)}function kc(){for(;null!==Au&&!Ye();)bc(Au)}function bc(e){var t=Su(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?wc(e):Au=t,Cu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Du)))return void(Au=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return ju=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===ju&&(ju=5)}function _c(e,t,n){var r=kt,i=Iu.transition;try{Iu.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Yu);if(0!==(6&Pu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Au=Nu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=kt;kt=1;var u=Pu;Pu|=4,Cu.current=null,function(e,t){if(ei=Wt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),$e(),Pu=u,kt=s,Iu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Hu,Hu=null,e;0!==(1&$u)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,qi()}(e,t,n,r)}finally{Iu.transition=i,kt=r}return null}function xc(){if(null!==Yu){var e=bt($u),t=Iu.transition,n=kt;try{if(Iu.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Pu))throw Error(a(331));var i=Pu;for(Pu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:ru(8,h,o)}var f=h.child;if(null!==f)f.return=h,Zs=f;else for(;null!==Zs;){var d=(h=Zs).sibling,p=h.return;if(ou(h),h===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Ec(u,u.return,_)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Pu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Iu.transition=t}}return!1}function Sc(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Ru&n)===n&&(4===ju||3===ju&&(130023424&Ru)===Ru&&500>Xe()-qu?dc(e,0):Vu|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Pa(e,t))&&(yt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Rc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case P:return(e=Rc(13,n,t,i)).elementType=P,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case I:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function qc(e){if(!e)return Ci;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return ji(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Bc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),ja(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(so,1&so.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ks(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Pi.current){t=Ks(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Sa(t,n),za(t,r,i),Ka(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Pu)&&(zu=Xe()+500,qi()))}break;case 13:hc((function(){var t=Pa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Pa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=lc,Pe=hc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ce,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(hc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=P(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(_);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!P());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),b(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&O(w,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,T=-1,C=5,I=-1;function P(){return!(t.unstable_now()-I<C)}function N(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=N,x=function(){R.postMessage(null)}}else x=function(){y(N,0)};function D(e){E=e,S||(S=!0,x())}function O(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=s(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,h[0],h[1]);return u((function(){f.hasValue=!0,f.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".54985e20.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="ecomproj:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ReactEcomProject/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkecomproj=self.webpackChunkecomproj||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Hv},SDK_VERSION:function(){return fy},_DEFAULT_ENTRY_NAME:function(){return Zm},_addComponent:function(){return ry},_addOrOverwriteComponent:function(){return iy},_apps:function(){return ty},_clearComponents:function(){return uy},_components:function(){return ny},_getProvider:function(){return oy},_registerComponent:function(){return ay},_removeServiceInstance:function(){return sy},deleteApp:function(){return my},getApp:function(){return py},getApps:function(){return vy},initializeApp:function(){return dy},onLog:function(){return ky},registerVersion:function(){return gy},setLogLevel:function(){return by}});var t=n(791),r=n.t(t,2),i=n(250);function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function u(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var c=n(613),l=n.n(c),h="-ms-",f="-moz-",d="-webkit-",p="comm",v="rule",m="decl",y="@import",g="@keyframes",k="@layer",b=Math.abs,w=String.fromCharCode,_=Object.assign;function x(e){return e.trim()}function S(e,t){return(e=t.exec(e))?e[0]:e}function E(e,t,n){return e.replace(t,n)}function T(e,t){return e.indexOf(t)}function C(e,t){return 0|e.charCodeAt(t)}function I(e,t,n){return e.slice(t,n)}function P(e){return e.length}function N(e){return e.length}function A(e,t){return t.push(e),e}function R(e,t){return e.filter((function(e){return!S(e,t)}))}var D=1,O=1,j=0,L=0,M=0,F="";function V(e,t,n,r,i,a,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:D,column:O,length:o,return:"",siblings:s}}function U(e,t){return _(V("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function B(e){for(;e.root;)e=U(e.root,{children:[e]});A(e,e.siblings)}function q(){return M=L>0?C(F,--L):0,O--,10===M&&(O=1,D--),M}function z(){return M=L<j?C(F,L++):0,O++,10===M&&(O=1,D++),M}function W(){return C(F,L)}function K(){return L}function H(e,t){return I(F,e,t)}function G(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Q(e){return D=O=1,j=P(F=e),L=0,[]}function Y(e){return F="",e}function $(e){return x(H(L-1,Z(91===e?e+2:40===e?e+1:e)))}function X(e){for(;(M=W())&&M<33;)z();return G(e)>2||G(M)>3?"":" "}function J(e,t){for(;--t&&z()&&!(M<48||M>102||M>57&&M<65||M>70&&M<97););return H(e,K()+(t<6&&32==W()&&32==z()))}function Z(e){for(;z();)switch(M){case e:return L;case 34:case 39:34!==e&&39!==e&&Z(M);break;case 40:41===e&&Z(e);break;case 92:z()}return L}function ee(e,t){for(;z()&&e+M!==57&&(e+M!==84||47!==W()););return"/*"+H(t,L-1)+"*"+w(47===e?e:z())}function te(e){for(;!G(W());)z();return H(e,L)}function ne(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function re(e,t,n,r){switch(e.type){case k:if(e.children.length)break;case y:case m:return e.return=e.return||e.value;case p:return"";case g:return e.return=e.value+"{"+ne(e.children,r)+"}";case v:if(!P(e.value=e.props.join(",")))return""}return P(n=ne(e.children,r))?e.return=e.value+"{"+n+"}":""}function ie(e,t,n){switch(function(e,t){return 45^C(e,0)?(((t<<2^C(e,0))<<2^C(e,1))<<2^C(e,2))<<2^C(e,3):0}(e,t)){case 5103:return d+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return d+e+e;case 4789:return f+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return d+e+f+e+h+e+e;case 5936:switch(C(e,t+11)){case 114:return d+e+h+E(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return d+e+h+E(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return d+e+h+E(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return d+e+h+e+e;case 6165:return d+e+h+"flex-"+e+e;case 5187:return d+e+E(e,/(\w+).+(:[^]+)/,d+"box-$1$2"+h+"flex-$1$2")+e;case 5443:return d+e+h+"flex-item-"+E(e,/flex-|-self/g,"")+(S(e,/flex-|baseline/)?"":h+"grid-row-"+E(e,/flex-|-self/g,""))+e;case 4675:return d+e+h+"flex-line-pack"+E(e,/align-content|flex-|-self/g,"")+e;case 5548:return d+e+h+E(e,"shrink","negative")+e;case 5292:return d+e+h+E(e,"basis","preferred-size")+e;case 6060:return d+"box-"+E(e,"-grow","")+d+e+h+E(e,"grow","positive")+e;case 4554:return d+E(e,/([^-])(transform)/g,"$1"+d+"$2")+e;case 6187:return E(E(E(e,/(zoom-|grab)/,d+"$1"),/(image-set)/,d+"$1"),e,"")+e;case 5495:case 3959:return E(e,/(image-set\([^]*)/,d+"$1$`$1");case 4968:return E(E(e,/(.+:)(flex-)?(.*)/,d+"box-pack:$3"+h+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+d+e+e;case 4200:if(!S(e,/flex-|baseline/))return h+"grid-column-align"+I(e,t)+e;break;case 2592:case 3360:return h+E(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,S(e.props,/grid-\w+-end/)}))?~T(e+(n=n[t].value),"span")?e:h+E(e,"-start","")+e+h+"grid-row-span:"+(~T(n,"span")?S(n,/\d+/):+S(n,/\d+/)-+S(e,/\d+/))+";":h+E(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return S(e.props,/grid-\w+-start/)}))?e:h+E(E(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return E(e,/(.+)-inline(.+)/,d+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(P(e)-1-t>6)switch(C(e,t+1)){case 109:if(45!==C(e,t+4))break;case 102:return E(e,/(.+:)(.+)-([^]+)/,"$1"+d+"$2-$3$1"+f+(108==C(e,t+3)?"$3":"$2-$3"))+e;case 115:return~T(e,"stretch")?ie(E(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return E(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,a,o,s){return h+n+":"+r+s+(i?h+n+"-span:"+(a?o:+o-+r)+s:"")+e}));case 4949:if(121===C(e,t+6))return E(e,":",":"+d)+e;break;case 6444:switch(C(e,45===C(e,14)?18:11)){case 120:return E(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+d+(45===C(e,14)?"inline-":"")+"box$3$1"+d+"$2$3$1"+h+"$2box$3")+e;case 100:return E(e,":",":"+h)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return E(e,"scroll-","scroll-snap-")+e}return e}function ae(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case m:return void(e.return=ie(e.value,e.length,n));case g:return ne([U(e,{value:E(e.value,"@","@"+d)})],r);case v:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(S(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":B(U(e,{props:[E(t,/:(read-\w+)/,":"+f+"$1")]})),B(U(e,{props:[t]})),_(e,{props:R(n,r)});break;case"::placeholder":B(U(e,{props:[E(t,/:(plac\w+)/,":"+d+"input-$1")]})),B(U(e,{props:[E(t,/:(plac\w+)/,":"+f+"$1")]})),B(U(e,{props:[E(t,/:(plac\w+)/,h+"input-$1")]})),B(U(e,{props:[t]})),_(e,{props:R(n,r)})}return""}))}}function oe(e){return Y(se("",null,null,null,[""],e=Q(e),0,[0],e))}function se(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,h=o,f=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,_=a,x=r,S=k;m;)switch(p=g,g=z()){case 40:if(108!=p&&58==C(S,h-1)){-1!=T(S+=E($(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=$(g);break;case 9:case 10:case 13:case 32:S+=X(p);break;case 92:S+=J(K()-1,7);continue;case 47:switch(W()){case 42:case 47:A(ce(ee(z(),K()),t,n,u),u);break;default:S+="/"}break;case 123*v:s[c++]=P(S)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:-1==y&&(S=E(S,/\f/g,"")),d>0&&P(S)-h&&A(d>32?le(S+";",r,n,h-1,u):le(E(S," ","")+";",r,n,h-2,u),u);break;case 59:S+=";";default:if(A(x=ue(S,t,n,c,l,i,s,k,b=[],_=[],h,a),a),123===g)if(0===l)se(S,t,x,x,b,a,h,s,_);else switch(99===f&&110===C(S,3)?100:f){case 100:case 108:case 109:case 115:se(e,x,x,r&&A(ue(e,x,x,0,0,i,s,k,i,b=[],h,_),_),i,_,h,s,r?b:_);break;default:se(S,x,x,x,[""],_,0,s,_)}}c=l=d=0,v=y=1,k=S="",h=o;break;case 58:h=1+P(S),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==q())continue;switch(S+=w(g),g*v){case 38:y=l>0?1:(S+="\f",-1);break;case 44:s[c++]=(P(S)-1)*y,y=1;break;case 64:45===W()&&(S+=$(z())),f=W(),l=h=P(k=S+=te(K())),g++;break;case 45:45===p&&2==P(S)&&(v=0)}}return a}function ue(e,t,n,r,i,a,o,s,u,c,l,h){for(var f=i-1,d=0===i?a:[""],p=N(d),m=0,y=0,g=0;m<r;++m)for(var k=0,w=I(e,f+1,f=b(y=o[m])),_=e;k<p;++k)(_=x(y>0?d[k]+" "+w:E(w,/&\f/g,d[k])))&&(u[g++]=_);return V(e,t,n,0===i?v:s,u,c,l,h)}function ce(e,t,n,r){return V(e,t,n,p,w(M),I(e,2,-2),0,r)}function le(e,t,n,r,i){return V(e,t,n,m,I(e,0,r),I(e,r+1,-1),r,i)}var he={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fe="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",de="undefined"!=typeof window&&"HTMLElement"in window,pe=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),ve={},me=(new Set,Object.freeze([])),ye=Object.freeze({});function ge(e,t,n){return void 0===n&&(n=ye),e.theme!==n.theme&&e.theme||t||n.theme}var ke=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g;function _e(e){return e.replace(be,"-").replace(we,"")}var xe=/(a)(d)/gi,Se=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ee(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Se(t%52)+n;return(Se(t%52)+n).replace(xe,"$1-$2")}var Te,Ce=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ie=function(e){return Ce(5381,e)};function Pe(e){return Ee(Ie(e)>>>0)}function Ne(e){return"string"==typeof e&&!0}var Ae="function"==typeof Symbol&&Symbol.for,Re=Ae?Symbol.for("react.memo"):60115,De=Ae?Symbol.for("react.forward_ref"):60112,Oe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},je={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Le={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Me=((Te={})[De]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Te[Re]=Le,Te);function Fe(e){return("type"in(t=e)&&t.type.$$typeof)===Re?Le:"$$typeof"in e?Me[e.$$typeof]:Oe;var t}var Ve=Object.defineProperty,Ue=Object.getOwnPropertyNames,Be=Object.getOwnPropertySymbols,qe=Object.getOwnPropertyDescriptor,ze=Object.getPrototypeOf,We=Object.prototype;function Ke(e,t,n){if("string"!=typeof t){if(We){var r=ze(t);r&&r!==We&&Ke(e,r,n)}var i=Ue(t);Be&&(i=i.concat(Be(t)));for(var a=Fe(e),o=Fe(t),s=0;s<i.length;++s){var u=i[s];if(!(u in je||n&&n[u]||o&&u in o||a&&u in a)){var c=qe(t,u);try{Ve(e,u,c)}catch(e){}}}}return e}function He(e){return"function"==typeof e}function Ge(e){return"object"==typeof e&&"styledComponentId"in e}function Qe(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Ye(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function $e(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Xe(e,t,n){if(void 0===n&&(n=!1),!n&&!$e(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Xe(e[r],t[r]);else if($e(t))for(var r in t)e[r]=Xe(e[r],t[r]);return e}function Je(e,t){Object.defineProperty(e,"toString",{value:t})}function Ze(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var et=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw Ze(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=(a=0,t.length);a<s;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+="".concat(this.tag.getRule(a)).concat("/*!sc*/\n");return t},e}(),tt=new Map,nt=new Map,rt=1,it=function(e){if(tt.has(e))return tt.get(e);for(;nt.has(rt);)rt++;var t=rt++;return tt.set(e,t),nt.set(t,e),t},at=function(e,t){tt.set(e,t),nt.set(t,e)},ot="style[".concat(fe,"][").concat("data-styled-version",'="').concat("6.1.0",'"]'),st=new RegExp("^".concat(fe,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ut=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},ct=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split("/*!sc*/\n"),i=[],a=0,o=r.length;a<o;a++){var s=r[a].trim();if(s){var u=s.match(st);if(u){var c=0|parseInt(u[1],10),l=u[2];0!==c&&(at(l,c),ut(e,l,u[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}};function lt(){return n.nc}var ht=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(fe,"]")));return t[t.length-1]}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(fe,"active"),r.setAttribute("data-styled-version","6.1.0");var o=lt();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},ft=function(){function e(e){this.element=ht(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw Ze(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),dt=function(){function e(e){this.element=ht(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),pt=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),vt=de,mt={isServer:!de,useCSSOMInjection:!pe},yt=function(){function e(e,t,n){void 0===e&&(e=ye),void 0===t&&(t={});var r=this;this.options=o(o({},mt),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&de&&vt&&(vt=!1,function(e){for(var t=document.querySelectorAll(ot),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(fe)&&(ct(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),Je(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return nt.get(e)}(n);if(void 0===i)return"continue";var a=e.names.get(i),o=t.getGroup(n);if(void 0===a||0===o.length)return"continue";var s="".concat(fe,".g").concat(n,'[id="').concat(i,'"]'),u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+="".concat(e,","))})),r+="".concat(o).concat(s,'{content:"').concat(u,'"}').concat("/*!sc*/\n")},a=0;a<n;a++)i(a);return r}(r)}))}return e.registerId=function(e){return it(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(o(o({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new pt(n):t?new ft(n):new dt(n)}(this.options),new et(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(it(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(it(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(it(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),gt=/&/g,kt=/^\s*\/\/.*$/gm;function bt(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=bt(e.children,t)),e}))}function wt(e){var t,n,r,i=void 0===e?ye:e,a=i.options,o=void 0===a?ye:a,s=i.plugins,u=void 0===s?me:s,c=function(e,r,i){return i===n||i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},l=u.slice();l.push((function(e){e.type===v&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(gt,n).replace(r,c))})),o.prefix&&l.push(ae),l.push(re);var h=function(e,i,a,s){void 0===i&&(i=""),void 0===a&&(a=""),void 0===s&&(s="&"),t=s,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var u=e.replace(kt,""),c=oe(a||i?"".concat(a," ").concat(i," { ").concat(u," }"):u);o.namespace&&(c=bt(c,o.namespace));var h,f=[];return ne(c,function(e){var t=N(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(l.concat((h=function(e){return f.push(e)},function(e){e.root||(e=e.return)&&h(e)})))),f};return h.hash=u.length?u.reduce((function(e,t){return t.name||Ze(15),Ce(e,t.name)}),5381).toString():"",h}var _t=new yt,xt=wt(),St=t.createContext({shouldForwardProp:void 0,styleSheet:_t,stylis:xt}),Et=(St.Consumer,t.createContext(void 0));function Tt(){return(0,t.useContext)(St)}function Ct(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=Tt().styleSheet,o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,a]),s=(0,t.useMemo)((function(){return wt({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})}),[e.enableVendorPrefixes,e.namespace,r]);(0,t.useEffect)((function(){l()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var u=(0,t.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:s}}),[e.shouldForwardProp,o,s]);return t.createElement(St.Provider,{value:u},t.createElement(Et.Provider,{value:s},e.children))}var It=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=xt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Je(this,(function(){throw Ze(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=xt),this.name+e.hash},e}(),Pt=function(e){return e>="A"&&e<="Z"};function Nt(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Pt(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var At=function(e){return null==e||!1===e||""===e},Rt=function e(t){var n,r,i=[];for(var a in t){var o=t[a];t.hasOwnProperty(a)&&!At(o)&&(Array.isArray(o)&&o.isCss||He(o)?i.push("".concat(Nt(a),":"),o,";"):$e(o)?i.push.apply(i,u(u(["".concat(a," {")],e(o),!1),["}"],!1)):i.push("".concat(Nt(a),": ").concat((n=a,null==(r=o)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in he||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return i};function Dt(e,t,n,r){return At(e)?[]:Ge(e)?[".".concat(e.styledComponentId)]:He(e)?!He(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Dt(e(t),t,n,r):e instanceof It?n?(e.inject(n,r),[e.getName(r)]):[e]:$e(e)?Rt(e):Array.isArray(e)?Array.prototype.concat.apply(me,e.map((function(e){return Dt(e,t,n,r)}))):[e.toString()];var i}function Ot(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(He(n)&&!Ge(n))return!1}return!0}var jt=Ie("6.1.0"),Lt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Ot(e),this.componentId=t,this.baseHash=Ce(jt,t),this.baseStyle=n,yt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Qe(r,this.staticRulesId);else{var i=Ye(Dt(this.rules,e,t,n)),a=Ee(Ce(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}r=Qe(r,a),this.staticRulesId=a}else{for(var s=Ce(this.baseHash,n.hash),u="",c=0;c<this.rules.length;c++){var l=this.rules[c];if("string"==typeof l)u+=l;else if(l){var h=Ye(Dt(l,e,t,n));s=Ce(s,h+c),u+=h}}if(u){var f=Ee(s>>>0);t.hasNameForId(this.componentId,f)||t.insertRules(this.componentId,f,n(u,".".concat(f),void 0,this.componentId)),r=Qe(r,f)}}return r},e}(),Mt=t.createContext(void 0);Mt.Consumer;function Ft(e){var n=t.useContext(Mt),r=(0,t.useMemo)((function(){return function(e,t){if(!e)throw Ze(14);if(He(e))return e(t);if(Array.isArray(e)||"object"!=typeof e)throw Ze(8);return t?o(o({},t),e):e}(e.theme,n)}),[e.theme,n]);return e.children?t.createElement(Mt.Provider,{value:r},e.children):null}var Vt={};new Set;function Ut(e,n,r){var i=Ge(e),a=e,s=!Ne(e),u=n.attrs,c=void 0===u?me:u,l=n.componentId,h=void 0===l?function(e,t){var n="string"!=typeof e?"sc":_e(e);Vt[n]=(Vt[n]||0)+1;var r="".concat(n,"-").concat(Pe("6.1.0"+n+Vt[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):l,f=n.displayName,d=(void 0===f&&function(e){Ne(e)?"styled.".concat(e):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(e),")")}(e),n.displayName&&n.componentId?"".concat(_e(n.displayName),"-").concat(n.componentId):n.componentId||h),p=i&&a.attrs?a.attrs.concat(c).filter(Boolean):c,v=n.shouldForwardProp;if(i&&a.shouldForwardProp){var m=a.shouldForwardProp;if(n.shouldForwardProp){var y=n.shouldForwardProp;v=function(e,t){return m(e,t)&&y(e,t)}}else v=m}var g=new Lt(r,d,i?a.componentStyle:void 0);var k=t.forwardRef((function(e,n){return function(e,n,r){var i=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.styledComponentId,l=e.target,h=t.useContext(Mt),f=Tt(),d=e.shouldForwardProp||f.shouldForwardProp,p=function(e,t,n){for(var r,i=o(o({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var s=He(r=e[a])?r(i):r;for(var u in s)i[u]="className"===u?Qe(i[u],s[u]):"style"===u?o(o({},i[u]),s[u]):s[u]}return t.className&&(i.className=Qe(i.className,t.className)),i}(i,n,ge(n,h,s)||ye),v=p.as||l,m={};for(var y in p)void 0===p[y]||"$"===y[0]||"as"===y||"theme"===y||("forwardedAs"===y?m.as=p.forwardedAs:d&&!d(y,v)||(m[y]=p[y]));var g=function(e,t){var n=Tt();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(a,p),k=Qe(u,c);return g&&(k+=" "+g),p.className&&(k+=" "+p.className),m[Ne(v)&&!ke.has(v)?"class":"className"]=k,m.ref=r,(0,t.createElement)(v,m)}(k,e,n)}));return k.attrs=p,k.componentStyle=g,k.shouldForwardProp=v,k.foldedComponentIds=i?Qe(a.foldedComponentIds,a.styledComponentId):"",k.styledComponentId=d,k.target=i?a.target:e,Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)Xe(e,i[r],!0);return e}({},a.defaultProps,e):e}}),Je(k,(function(){return".".concat(k.styledComponentId)})),s&&Ke(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),k}function Bt(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var qt=function(e){return Object.assign(e,{isCss:!0})};function zt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(He(e)||$e(e))return qt(Dt(Bt(me,u([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Dt(r):qt(Dt(Bt(r,t)))}function Wt(e,t,n){if(void 0===n&&(n=ye),!t)throw Ze(1,t);var r=function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return e(t,n,zt.apply(void 0,u([r],i,!1)))};return r.attrs=function(r){return Wt(e,t,o(o({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Wt(e,t,o(o({},n),r))},r}var Kt=function(e){return Wt(Ut,e)},Ht=Kt;ke.forEach((function(e){Ht[e]=Kt(e)}));var Gt=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Ot(e),yt.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var i=r(Ye(Dt(this.rules,t,n,r)),""),a=this.componentId+e;n.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&yt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=lt(),r=Ye([n&&'nonce="'.concat(n,'"'),"".concat(fe,'="true"'),"".concat("data-styled-version",'="').concat("6.1.0",'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw Ze(2);return e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)throw Ze(2);var r=((n={})[fe]="",n["data-styled-version"]="6.1.0",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=lt();return i&&(r.nonce=i),[t.createElement("style",o({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new yt({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw Ze(2);return t.createElement(Ct,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Ze(3)}})(),"__sc-".concat(fe,"__");var Qt,Yt,$t=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=zt.apply(void 0,u([e],n,!1)),a="sc-global-".concat(Pe(JSON.stringify(i))),s=new Gt(i,a),c=function(e){var n=Tt(),r=t.useContext(Mt),i=t.useRef(n.styleSheet.allocateGSInstance(a)).current;return n.styleSheet.server&&l(i,e,n.styleSheet,r,n.stylis),t.useLayoutEffect((function(){if(!n.styleSheet.server)return l(i,e,n.styleSheet,r,n.stylis),function(){return s.removeStyles(i,n.styleSheet)}}),[i,e,n.styleSheet,r,n.stylis]),null};function l(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,ve,n,i);else{var a=o(o({},t),{theme:ge(t,r,c.defaultProps)});s.renderStyles(e,a,n,i)}}return t.memo(c)}(Qt||(Qt=a(['\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-family: "Work Sans", sans-serif;\n}\n\n\nhtml {\n  font-size: 62.5%;\n  /* scroll-behavior: smooth; */\n  /* 1rem = 10px */\n  overflow-x: hidden;\n}\n\nbody {\n  overflow-x: hidden;\n   scrollbar-color: rgb(98 84 243);\n    scrollbar-width: thin;\n}\n\nbody::-webkit-scrollbar {\n  width: 1.5rem;\n}\n\nbody::-webkit-scrollbar-track {\n   background-color: rgb(24 24 29);\n}\n\nbody::-webkit-scrollbar-thumb {\n \n  background: #fff;\n    border: 5px solid transparent;\n    border-radius: 9px;\n    background-clip: content-box;\n}\n\nh1,\nh2,\nh3,\nh4 {\n   font-family: "Work Sans", sans-serif;\n\n}\n\nh1 {\n  color: ',";\n  font-size: 6rem;\n  font-weight: 900;\n}\n\n h2 {\n   color: ",";\n   font-size: 4.4rem;\n   font-weight: 300;\n   white-space: normal;\n  \n  }\n\nh3 {\n  font-size: 1.8rem;\n  font-weight: 400;\n}\n\np, button {\n  color: ",";\n  font-size: 1.65rem;\n  line-height: 1.5;\n  font-weight:400;\n}\n\na {\n  text-decoration: none;\n}\n\nli {\n  list-style: none;\n}\n\n\n","\n\n.container {\n  max-width: 120rem;\n  margin: 0 auto;\n}\n\n.grid {\n  display: grid;\n  gap: 9rem;\n}\n\n.grid-two-column {\n  grid-template-columns: repeat(2, 1fr);\n}\n\n.grid-three-column {\n  grid-template-columns: repeat(3, 1fr);\n}\n\n.grid-four-column{\n   grid-template-columns: 1fr 1.2fr .5fr .8fr ;\n}\n\n.grid-five-column{\n  grid-template-columns: repeat(5, 1fr);\n}\n\n  .common-heading {\n      font-size: 3.8rem;\n      font-weight: 600;\n      margin-bottom: 6rem;\n      text-transform: capitalize;\n    }\n\n     .intro-data {\n      margin-bottom: 0;\n      text-transform: uppercase;\n      color: #5138ee;\n    }\n\n   .caption {\n      position: absolute;\n      top: 15%;\n      right: 10%;\n      text-transform: uppercase;\n      background-color: ",";\n      color: ",";\n      padding: 0.8rem 2rem;\n      font-size: 1.2rem;\n      border-radius: 2rem;\n    }\n\ninput, textarea{\n    max-width: 50rem;\n    color: ",";\n    padding: 1.6rem 2.4rem;\n    text-transform: uppercase;\n   box-shadow: ",';\n}\nform input{\n    color:black !important;\n}\n    input[type="submit"]{\n    max-width: 16rem;\n    margin-top: 2rem;\n    background-color: ',";\n    color: ",";\n    padding: 1.4rem 2.2rem;\n    border-style: solid;\n    border-width: .1rem;\n    text-transform: uppercase;\n    font-size: 1.8rem;\n    cursor: pointer;\n    }\n\n@media (max-width: ",") {\n    .container {\n    max-width: 130rem;\n    padding: 0 3.2rem;\n  }\n  }\n\n   @media (max-width: ",") {\n       html {\n      font-size: 50%;\n    }\n\n.grid{\n  gap: 3.2rem;\n}\n      .grid-two-column , .grid-three-column, .grid-four-column{\n          grid-template-columns: 1fr;\n        }\n    }\n\n"])),(function(e){return e.theme.colors.heading}),(function(e){return e.theme.colors.heading}),(function(e){return e.theme.colors.text}),"",(function(e){return e.theme.colors.bg}),(function(e){return e.theme.colors.helper}),(function(e){return e.theme.colors.black}),(function(e){return e.theme.colors.shadowSupport}),(function(e){return e.theme.colors.btn}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.media.tab}),(function(e){return e.theme.media.mobile}));function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Zt(e,t){if(e){if("string"===typeof e)return Xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(e,t):void 0}}function en(e){return function(e){if(Array.isArray(e))return Xt(e)}(e)||Jt(e)||Zt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}function rn(e){var t=function(e,t){if("object"!==nn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nn(t)?t:String(t)}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rn(r.key),r)}}function on(e,t,n){return t&&an(e.prototype,t),n&&an(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sn(e,t){return sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sn(e,t)}function un(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sn(e,t)}function cn(e){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cn(e)}function ln(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(e){var t=ln();return function(){var n,r=cn(e);if(t){var i=cn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===nn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hn(e)}(this,n)}}function dn(e,t,n){return dn=ln()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&sn(i,n.prototype),i},dn.apply(null,arguments)}function pn(e){var t="function"===typeof Map?new Map:void 0;return pn=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return dn(e,arguments,cn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),sn(n,e)},pn(e)}function vn(e){if(Array.isArray(e))return e}function mn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yn(e,t){return vn(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||Zt(e,t)||mn()}function gn(e){return vn(e)||Jt(e)||Zt(e)||mn()}function kn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Zt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function bn(){return bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bn.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Yt||(Yt={}));var wn,_n="popstate";function xn(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Sn(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function En(e,t){return{usr:e.state,key:e.key,idx:t}}function Tn(e,t,n,r){return void 0===n&&(n=null),bn({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?In(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Cn(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function In(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Pn(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=Yt.Pop,h=null,f=d();function d(){return(c.state||{idx:null}).idx}function p(){l=Yt.Pop;var e=d(),t=null==e?null:e-f;f=e,h&&h({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:Cn(e);return xn(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,c.replaceState(bn({},c.state,{idx:f}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(_n,p),h=e,function(){o.removeEventListener(_n,p),h=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=Yt.Push;var r=Tn(m.location,e,t);n&&n(r,e);var i=En(r,f=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(Pz){if(Pz instanceof DOMException&&"DataCloneError"===Pz.name)throw Pz;o.location.assign(a)}u&&h&&h({action:l,location:m.location,delta:1})},replace:function(e,t){l=Yt.Replace;var r=Tn(m.location,e,t);n&&n(r,e);var i=En(r,f=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&h&&h({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(wn||(wn={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Nn(e,t,n){void 0===n&&(n="/");var r=Wn(("string"===typeof t?In(t):t).pathname||"/",n);if(null==r)return null;var i=An(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Bn(i[o],zn(r));return a}function An(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(xn(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Qn([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(xn(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),An(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Un(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=kn(Rn(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function Rn(e){var t=e.split("/");if(0===t.length)return[];var n=gn(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=Rn(i.join("/")),u=[];return u.push.apply(u,en(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,en(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var Dn=/^:\w+$/,On=3,jn=2,Ln=1,Mn=10,Fn=-2,Vn=function(e){return"*"===e};function Un(e,t){var n=e.split("/"),r=n.length;return n.some(Vn)&&(r+=Fn),t&&(r+=jn),n.filter((function(e){return!Vn(e)})).reduce((function(e,t){return e+(Dn.test(t)?On:""===t?Ln:Mn)}),r)}function Bn(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=qn({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;a.push({params:r,pathname:Qn([i,l.pathname]),pathnameBase:Yn(Qn([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=Qn([i,l.pathnameBase]))}return a}function qn(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Sn("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=yn(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Pz){return Sn(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Pz+")."),e}}(c[n]||"",t),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function zn(e){try{return decodeURI(e)}catch(Pz){return Sn(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Pz+")."),e}}function Wn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Kn(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Hn(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Gn(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=In(e):(xn(!(i=bn({},e)).pathname||!i.pathname.includes("?"),Kn("?","pathname","search",i)),xn(!i.pathname||!i.pathname.includes("#"),Kn("#","pathname","hash",i)),xn(!i.search||!i.search.includes("#"),Kn("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?In(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:$n(a),hash:Xn(s)}}(i,a),h=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!f||(l.pathname+="/"),l}var Qn=function(e){return e.join("/").replace(/\/\/+/g,"/")},Yn=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},$n=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Xn=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Jn=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n)}(pn(Error));function Zn(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var er=["post","put","patch","delete"],tr=(new Set(er),["get"].concat(er));new Set(tr),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}var rr=t.createContext(null);var ir=t.createContext(null);var ar=t.createContext(null);var or=t.createContext(null);var sr=t.createContext(null);var ur=t.createContext({outlet:null,matches:[],isDataRoute:!1});var cr=t.createContext(null);function lr(){return null!=t.useContext(sr)}function hr(){return lr()||xn(!1),t.useContext(sr).location}function fr(e){t.useContext(or).static||t.useLayoutEffect(e)}function dr(){return t.useContext(ur).isDataRoute?function(){var e=xr(wr.UseNavigateStable).router,n=Er(_r.UseNavigateStable),r=t.useRef(!1);fr((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,nr({fromRouteId:n},i)))}),[e,n]);return i}():function(){lr()||xn(!1);var e=t.useContext(rr),n=t.useContext(or),r=n.basename,i=n.navigator,a=t.useContext(ur).matches,o=hr().pathname,s=JSON.stringify(Hn(a).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);return fr((function(){u.current=!0})),t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=Gn(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:Qn([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e])}()}function pr(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ur).matches,a=hr().pathname,o=JSON.stringify(Hn(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return Gn(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function vr(e,n,r){lr()||xn(!1);var i,a=t.useContext(or).navigator,o=t.useContext(ur).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,hr());if(n){var h,f="string"===typeof n?In(n):n;"/"===c||(null==(h=f.pathname)?void 0:h.startsWith(c))||xn(!1),i=f}else i=l;var d=i.pathname||"/",p=Nn(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=br(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Qn([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Qn([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(sr.Provider,{value:{location:nr({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:Yt.Pop}},v):v}function mr(){var e=function(){var e,n=t.useContext(cr),r=Sr(_r.UseRouteError),i=Er(_r.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=Zn(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var yr=t.createElement(mr,null),gr=function(e){un(r,e);var n=fn(r);function r(e){var t;return tn(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return on(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ur.Provider,{value:this.props.routeContext},t.createElement(cr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function kr(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(rr);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ur.Provider,{value:n},i)}function br(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||xn(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||yr);var l=n.concat(o.slice(0,a+1)),h=function(){var n;return n=u?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(kr,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(gr,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:h(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):h()}),null)}var wr=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wr||{}),_r=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_r||{});function xr(e){var n=t.useContext(rr);return n||xn(!1),n}function Sr(e){var n=t.useContext(ir);return n||xn(!1),n}function Er(e){var n=function(e){var n=t.useContext(ur);return n||xn(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||xn(!1),r.route.id}r.startTransition;function Tr(e){var n=e.to,r=e.replace,i=e.state,a=e.relative;lr()||xn(!1);var o=t.useContext(ur).matches,s=hr().pathname,u=dr(),c=Gn(n,Hn(o).map((function(e){return e.pathnameBase})),s,"path"===a),l=JSON.stringify(c);return t.useEffect((function(){return u(JSON.parse(l),{replace:r,state:i,relative:a})}),[u,l,a,r,i]),null}function Cr(e){xn(!1)}function Ir(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?Yt.Pop:s,c=e.navigator,l=e.static,h=void 0!==l&&l;lr()&&xn(!1);var f=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:f,navigator:c,static:h}}),[f,c,h]);"string"===typeof o&&(o=In(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,_=void 0===w?null:w,x=p.key,S=void 0===x?"default":x,E=t.useMemo((function(){var e=Wn(m,f);return null==e?null:{location:{pathname:e,search:g,hash:b,state:_,key:S},navigationType:u}}),[f,m,g,b,_,S,u]);return null==E?null:t.createElement(or.Provider,{value:d},t.createElement(sr.Provider,{children:a,value:E}))}function Pr(e){var t=e.children,n=e.location;return vr(Rr(t),n)}var Nr=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Nr||{}),Ar=new Promise((function(){}));t.Component;function Rr(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(en(n),[i]);if(e.type!==t.Fragment){e.type!==Cr&&xn(!1),e.props.index&&e.props.children&&xn(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Rr(e.props.children,a)),r.push(o)}else r.push.apply(r,Rr(e.props.children,a))}})),r}function Dr(){return Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dr.apply(this,arguments)}function Or(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var jr=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var Lr=r.startTransition;function Mr(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),Pn((function(e,t){var n=e.location;return Tn("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Cn(t)}),null,n)));var u=s.current,c=yn(t.useState({action:u.action,location:u.location}),2),l=c[0],h=c[1],f=(a||{}).v7_startTransition,d=t.useCallback((function(e){f&&Lr?Lr((function(){return h(e)})):h(e)}),[h,f]);return t.useLayoutEffect((function(){return u.listen(d)}),[u,d]),t.createElement(Ir,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:u})}var Fr="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Vr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ur=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,h=e.preventScrollReset,f=Or(e,jr),d=t.useContext(or).basename,p=!1;if("string"===typeof l&&Vr.test(l)&&(r=l,Fr))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=Wn(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(b){}var g=function(e,n){var r=(void 0===n?{}:n).relative;lr()||xn(!1);var i=t.useContext(or),a=i.basename,o=i.navigator,s=pr(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,h=c;return"/"!==a&&(h="/"===c?a:Qn([a,c])),o.createHref({pathname:h,search:l,hash:u})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=dr(),l=hr(),h=pr(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:Cn(l)===Cn(h);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,h,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:h,relative:a});return t.createElement("a",Dr({},f,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var Br,qr;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Br||(Br={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(qr||(qr={}));var zr=n(248),Wr=n(327),Kr=n(164);var Hr=function(e){e()},Gr=function(){return Hr};function Qr(e,t,n){return(t=rn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yr=Symbol.for("react-redux-context"),$r="undefined"!==typeof globalThis?globalThis:{};function Xr(){var e;if(!t.createContext)return{};var n=null!=(e=$r[Yr])?e:$r[Yr]=new Map,r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}var Jr=Xr();function Zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr;return function(){return(0,t.useContext)(e)}}var ei=Zr(),ti=function(){throw new Error("uSES not initialized!")},ni=function(e,t){return e===t};function ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,n=e===Jr?ei:Zr(e);return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="function"===typeof r?{equalityFn:r}:r,a=i.equalityFn,o=void 0===a?ni:a,s=i.stabilityCheck,u=void 0===s?void 0:s;i.noopCheck;var c=n(),l=c.store,h=c.subscription,f=c.getServerState,d=c.stabilityCheck,p=(c.noopCheck,(0,t.useRef)(!0),(0,t.useCallback)(Qr({},e.name,(function(t){return e(t)}))[e.name],[e,d,u])),v=ti(h.addNestedSub,l.getState,f||l.getState,p,o);return(0,t.useDebugValue)(v),v}}var ii=ri();n(110),n(900);var ai={notify:function(){},get:function(){return[]}};function oi(e,t){var n,r=ai,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=Gr(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function u(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=ai)}var c={addNestedSub:function(e){s();var t=r.subscribe(e),n=!1;return function(){n||(n=!0,t(),u())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,u())},getListeners:function(){return r}};return c}var si=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var ui=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=e.stabilityCheck,s=void 0===o?"once":o,u=e.noopCheck,c=void 0===u?"once":u,l=t.useMemo((function(){var e=oi(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:s,noopCheck:c}}),[n,a,s,c]),h=t.useMemo((function(){return n.getState()}),[n]);si((function(){var e=l.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),h!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,h]);var f=r||Jr;return t.createElement(f.Provider,{value:l},i)};function ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=e===Jr?ei:Zr(e);return function(){return t().store}}var li=ci();function hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=e===Jr?li:ci(e);return function(){return t().dispatch}}var fi,di=hi();!function(e){ti=e}(Wr.useSyncExternalStoreWithSelector),function(e){e}(zr.useSyncExternalStore),fi=Kr.unstable_batchedUpdates,Hr=fi;var pi=n(184),vi=function(){var e,n=yn((0,t.useState)(!0),2),r=n[0],i=n[1],a=JSON.parse(localStorage.getItem("user")),o=function(){localStorage.clear("user"),window.location.href="/login"},s=ii((function(e){return e.cart}));return(0,pi.jsx)(pi.Fragment,{children:(0,pi.jsxs)("div",{className:"navbar",children:[(0,pi.jsx)("div",{className:"logo",children:(0,pi.jsx)("img",{src:"https://a.espncdn.com/i/teamlogos/nhl/500-dark/phi.png",alt:"logo"})}),r?(0,pi.jsxs)("div",{className:"links",id:"menu",children:[(0,pi.jsx)("button",{className:"log-btn w",children:(0,pi.jsx)("i",{class:"ri-close-line toggle",onClick:function(){i(!1)}})}),(0,pi.jsx)(Ur,{to:"/",className:"link",children:"Home"}),(0,pi.jsx)(Ur,{to:"/trendyproduct",className:"link",children:"products"}),(0,pi.jsx)(Ur,{to:"/category",className:"link",children:"categories"}),"muskansingh7105@gmail.com"===(null===a||void 0===a||null===(e=a.user)||void 0===e?void 0:e.email)?(0,pi.jsx)(Ur,{to:"/dashboard",className:"link",children:"Admin"}):"",(0,pi.jsx)(Ur,{to:"/order",className:"link",children:"Orders"}),(0,pi.jsxs)("div",{className:"log",children:[(0,pi.jsx)(Ur,{to:"/login",className:"link",children:(0,pi.jsx)("button",{id:"log1",children:"Login"})}),a?(0,pi.jsx)(Ur,{className:"link",children:(0,pi.jsx)("button",{id:"log1",onClick:o,children:"Logout"})}):" "]})]}):null,(0,pi.jsxs)("div",{className:"action",children:[(0,pi.jsxs)("div",{className:"icobtn",children:[(0,pi.jsx)("button",{className:"search-btn",children:(0,pi.jsx)("i",{class:"ri-search-line"})}),(0,pi.jsx)("button",{className:"log-btn",children:(0,pi.jsx)(Ur,{className:"d",to:"/contact",children:(0,pi.jsx)("i",{class:"ri-phone-line"})})}),(0,pi.jsx)("button",{className:"cart cart-trolley--link",children:(0,pi.jsx)(Ur,{className:"d",to:"/cart",children:(0,pi.jsx)("i",{class:"ri-shopping-cart-line cart-trolley"})})}),(0,pi.jsx)("span",{className:"cart-total--item",children:s.length}),(0,pi.jsx)("button",{className:"toggle_btn",children:(0,pi.jsx)("i",{class:"ri-menu-2-line toggle",onClick:function(){return i(!0)}})})]}),(0,pi.jsxs)("div",{className:"log1",children:[(0,pi.jsx)(Ur,{to:"/login",className:"link",children:(0,pi.jsx)("button",{id:"log1",children:"Login"})}),a?(0,pi.jsx)(Ur,{className:"link",children:(0,pi.jsx)("button",{onClick:o,id:"log1",children:"Logout"})}):""]})]})]})})},mi=function(){return(0,pi.jsx)(pi.Fragment,{children:(0,pi.jsxs)("footer",{children:[(0,pi.jsxs)("div",{className:"row",children:[(0,pi.jsxs)("div",{className:"col e",children:[(0,pi.jsx)("img",{src:"",alt:"logo",className:"logo "}),(0,pi.jsx)("p",{children:"shvs u iehf hf q hiwefj huirh ihrkrw dh hiwkd  dhweh khdwdi ehkduiw hwe hruhde  eihd uh ewhdeuhd iehe rhweidhdnew h hdewuh hue whdiu hdefh c hfeufh cdj."})]}),(0,pi.jsxs)("div",{className:"col e",children:[(0,pi.jsx)("h3",{children:"Main Office"}),(0,pi.jsx)("p",{children:"Marine Drive road "}),(0,pi.jsx)("p",{children:"Goregaon, Mumbai"}),(0,pi.jsx)("p",{children:"Maharashtra, PIN 567893, India"}),(0,pi.jsx)("p",{className:"email-id",children:"trends@fashion.com"}),(0,pi.jsx)("h4",{children:"+91 - 0234567892"})]}),(0,pi.jsxs)("div",{className:"col",children:[(0,pi.jsx)("h3",{children:"Menu-Links"}),(0,pi.jsxs)("ul",{children:[(0,pi.jsx)("li",{children:(0,pi.jsx)("a",{href:"",children:"Home"})}),(0,pi.jsx)("li",{children:(0,pi.jsx)("a",{href:"",children:"Products"})}),(0,pi.jsx)("li",{children:(0,pi.jsx)("a",{href:"",children:"Categories"})}),(0,pi.jsx)("li",{children:(0,pi.jsx)("a",{href:"",children:"SignUp"})}),(0,pi.jsx)("li",{children:(0,pi.jsx)("a",{href:"",children:"LogIn"})})]})]}),(0,pi.jsxs)("div",{className:"col",children:[(0,pi.jsx)("h3",{children:"Categories"}),(0,pi.jsxs)("form",{children:[(0,pi.jsx)("i",{class:"ri-mail-open-line"}),(0,pi.jsx)("input",{type:"email",placeholder:"enter your email id"}),(0,pi.jsx)("button",{type:"submit",children:(0,pi.jsx)("i",{class:"ri-arrow-right-line arr"})})]}),(0,pi.jsxs)("div",{className:"social-icons",children:[(0,pi.jsx)("i",{class:"ri-facebook-line a"}),(0,pi.jsx)("i",{class:"ri-instagram-line a"}),(0,pi.jsx)("i",{class:"ri-twitter-line a"}),(0,pi.jsx)("i",{class:"ri-github-line a"})]})]})]}),(0,pi.jsx)("hr",{}),(0,pi.jsx)("p",{className:"copyright",children:"Trends Fashion @ 2023-All RightsReserved"})]})})};var yi=function(e){var t=e.children;return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(vi,{}),(0,pi.jsx)("div",{className:"content",children:t}),(0,pi.jsx)(mi,{})]})},gi=(0,t.createContext)(),ki=function(e){var n=e.images,r=yn((0,t.useState)(0),2),i=r[0],a=r[1],o=yn((0,t.useState)(!0),2),s=o[0],u=o[1],c=null;(0,t.useEffect)((function(){c=s&&setTimeout((function(){l()}),2500)}));var l=function(){a(i===n.length-1?0:i+1)};return(0,pi.jsx)(pi.Fragment,{children:(0,pi.jsx)("div",{className:"Appp",children:(0,pi.jsx)("div",{className:"carousel",onMouseEnter:function(){u(!1),clearTimeout(c)},onMouseLeave:function(){u(!0)},children:(0,pi.jsxs)("div",{className:"carousel_wrapper",children:[n.map((function(e,t){return(0,pi.jsxs)("div",{className:t==i?"carousel_card carousel_card-active":"carousel_card",children:[(0,pi.jsx)("img",{className:"card_image",src:e.image,alt:"crousel"}),(0,pi.jsx)("div",{className:"card_overlay",children:(0,pi.jsx)("h2",{className:"card_title"})})]},t)})),(0,pi.jsx)("div",{className:"carousel_arrow_left",onClick:function(){a(0===i?n.length-1:i-1)},children:"\u2039"}),(0,pi.jsx)("div",{className:"carousel_arrow_right",onClick:l,children:"\u203a"})]})})})})},bi=[{image:"https://images.pexels.com/photos/3062595/pexels-photo-3062595.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},{image:"https://images.pexels.com/photos/2847527/pexels-photo-2847527.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},{image:"https://images.pexels.com/photos/4668542/pexels-photo-4668542.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},{image:"https://images.pexels.com/photos/3867527/pexels-photo-3867527.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},{image:"https://images.pexels.com/photos/6567356/pexels-photo-6567356.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"}];function wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(n),!0).forEach((function(t){Qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xi=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),Si=(0,t.createContext)({}),Ei=(0,t.createContext)(null),Ti="undefined"!==typeof document,Ci=Ti?t.useLayoutEffect:t.useEffect,Ii=(0,t.createContext)({strict:!1});function Pi(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Ni(e){return"string"===typeof e||Array.isArray(e)}function Ai(e){return"object"===typeof e&&"function"===typeof e.start}var Ri=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Di=["initial"].concat(Ri);function Oi(e){return Ai(e.animate)||Di.some((function(t){return Ni(e[t])}))}function ji(e){return Boolean(Oi(e)||e.variants)}function Li(e){var n=function(e,t){if(Oi(e)){var n=e.initial,r=e.animate;return{initial:!1===n||Ni(n)?n:void 0,animate:Ni(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(Si)),r=n.initial,i=n.animate;return(0,t.useMemo)((function(){return{initial:r,animate:i}}),[Mi(r),Mi(i)])}function Mi(e){return Array.isArray(e)?e.join(" "):e}var Fi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vi={},Ui=function(e){Vi[e]={isEnabled:function(t){return Fi[e].some((function(e){return!!t[e]}))}}};for(var Bi in Fi)Ui(Bi);var qi=(0,t.createContext)({}),zi=(0,t.createContext)({}),Wi=Symbol.for("motionComponentSymbol");function Ki(e){var n=e.preloadedFeatures,r=e.createVisualElement,i=e.useRender,a=e.useVisualState,o=e.Component;n&&function(e){for(var t in e)Vi[t]=_i(_i({},Vi[t]),e[t])}(n);var s=(0,t.forwardRef)((function(e,s){var u,c=_i(_i(_i({},(0,t.useContext)(xi)),e),{},{layoutId:Hi(e)}),l=c.isStatic,h=Li(e),f=a(e,l);if(!l&&Ti){h.visualElement=function(e,n,r,i){var a=(0,t.useContext)(Si).visualElement,o=(0,t.useContext)(Ii),s=(0,t.useContext)(Ei),u=(0,t.useContext)(xi).reducedMotion,c=(0,t.useRef)();i=i||o.renderer,!c.current&&i&&(c.current=i(e,{visualState:n,parent:a,props:r,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));var l=c.current;(0,t.useInsertionEffect)((function(){l&&l.update(r,s)}));var h=(0,t.useRef)(Boolean(window.HandoffAppearAnimations));return Ci((function(){l&&(l.render(),h.current&&l.animationState&&l.animationState.animateChanges())})),(0,t.useEffect)((function(){l&&(l.updateFeatures(),!h.current&&l.animationState&&l.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,h.current=!1)})),l}(o,f,c,r);var d=(0,t.useContext)(zi),p=(0,t.useContext)(Ii).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,p,n,d))}return t.createElement(Si.Provider,{value:h},u&&h.visualElement?t.createElement(u,_i({visualElement:h.visualElement},c)):null,i(o,e,function(e,n,r){return(0,t.useCallback)((function(t){t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):Pi(r)&&(r.current=t))}),[n])}(f,h.visualElement,s),f,l,h.visualElement))}));return s[Wi]=o,s}function Hi(e){var n=e.layoutId,r=(0,t.useContext)(qi).id;return r&&void 0!==n?r+"-"+n:n}function Gi(e){function t(t){return Ki(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var Qi=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yi(e){return"string"===typeof e&&!e.includes("-")&&!!(Qi.indexOf(e)>-1||/[A-Z]/.test(e))}var $i={};var Xi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ji=new Set(Xi);function Zi(e,t){var n=t.layout,r=t.layoutId;return Ji.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!$i[e]||"opacity"===e)}var ea=function(e){return Boolean(e&&e.getVelocity)},ta={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},na=Xi.length;var ra=function(e){return function(t){return"string"===typeof t&&t.startsWith(e)}},ia=ra("--"),aa=ra("var(--"),oa=function(e,t){return t&&"number"===typeof e?t.transform(e):e},sa=function(e,t,n){return Math.min(Math.max(n,e),t)},ua={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},ca=_i(_i({},ua),{},{transform:function(e){return sa(0,1,e)}}),la=_i(_i({},ua),{},{default:1}),ha=function(e){return Math.round(1e5*e)/1e5},fa=/(-)?([\d]*\.?[\d])+/g,da=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pa=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function va(e){return"string"===typeof e}var ma=function(e){return{test:function(t){return va(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},ya=ma("deg"),ga=ma("%"),ka=ma("px"),ba=ma("vh"),wa=ma("vw"),_a=_i(_i({},ga),{},{parse:function(e){return ga.parse(e)/100},transform:function(e){return ga.transform(100*e)}}),xa=_i(_i({},ua),{},{transform:Math.round}),Sa={borderWidth:ka,borderTopWidth:ka,borderRightWidth:ka,borderBottomWidth:ka,borderLeftWidth:ka,borderRadius:ka,radius:ka,borderTopLeftRadius:ka,borderTopRightRadius:ka,borderBottomRightRadius:ka,borderBottomLeftRadius:ka,width:ka,maxWidth:ka,height:ka,maxHeight:ka,size:ka,top:ka,right:ka,bottom:ka,left:ka,padding:ka,paddingTop:ka,paddingRight:ka,paddingBottom:ka,paddingLeft:ka,margin:ka,marginTop:ka,marginRight:ka,marginBottom:ka,marginLeft:ka,rotate:ya,rotateX:ya,rotateY:ya,rotateZ:ya,scale:la,scaleX:la,scaleY:la,scaleZ:la,skew:ya,skewX:ya,skewY:ya,distance:ka,translateX:ka,translateY:ka,translateZ:ka,x:ka,y:ka,z:ka,perspective:ka,transformPerspective:ka,opacity:ca,originX:_a,originY:_a,originZ:ka,zIndex:xa,fillOpacity:ca,strokeOpacity:ca,numOctaves:xa};function Ea(e,t,n,r){var i=e.style,a=e.vars,o=e.transform,s=e.transformOrigin,u=!1,c=!1,l=!0;for(var h in t){var f=t[h];if(ia(h))a[h]=f;else{var d=Sa[h],p=oa(f,d);if(Ji.has(h)){if(u=!0,o[h]=p,!l)continue;f!==(d.default||0)&&(l=!1)}else h.startsWith("origin")?(c=!0,s[h]=p):i[h]=p}}if(t.transform||(u||r?i.transform=function(e,t,n,r){for(var i=t.enableHardwareAcceleration,a=void 0===i||i,o=t.allowTransformNone,s=void 0===o||o,u="",c=0;c<na;c++){var l=Xi[c];if(void 0!==e[l]){var h=ta[l]||l;u+="".concat(h,"(").concat(e[l],") ")}}return a&&!e.z&&(u+="translateZ(0)"),u=u.trim(),r?u=r(e,n?"":u):s&&n&&(u="none"),u}(e.transform,n,l,r):i.transform&&(i.transform="none")),c){var v=s.originX,m=void 0===v?"50%":v,y=s.originY,g=void 0===y?"50%":y,k=s.originZ,b=void 0===k?0:k;i.transformOrigin="".concat(m," ").concat(g," ").concat(b)}}var Ta=function(){return{style:{},transform:{},transformOrigin:{},vars:{}}};function Ca(e,t,n){for(var r in t)ea(t[r])||Zi(r,n)||(e[r]=t[r])}function Ia(e,n,r){var i={};return Ca(i,e.style||{},e),Object.assign(i,function(e,n,r){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e=Ta();return Ea(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(e,n,r)),e.transformValues?e.transformValues(i):i}function Pa(e,t,n){var r={},i=Ia(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}var Na=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Aa(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||Na.has(e)}var Ra,Da=function(e){return!Aa(e)};try{(Ra=require("@emotion/is-prop-valid").default)&&(Da=function(e){return e.startsWith("on")?!Aa(e):Ra(e)})}catch(h$){}function Oa(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ja(e,t,n){return"string"===typeof e?e:ka.transform(t+n*e)}var La={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ma={offset:"strokeDashoffset",array:"strokeDasharray"};var Fa=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Va(e,t,n,r,i){var a=t.attrX,o=t.attrY,s=t.attrScale,u=t.originX,c=t.originY,l=t.pathLength,h=t.pathSpacing,f=void 0===h?1:h,d=t.pathOffset,p=void 0===d?0:d;if(Ea(e,Oa(t,Fa),n,i),r)e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);else{e.attrs=e.style,e.style={};var v=e.attrs,m=e.style,y=e.dimensions;v.transform&&(y&&(m.transform=v.transform),delete v.transform),y&&(void 0!==u||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){var r=ja(t,e.x,e.width),i=ja(n,e.y,e.height);return"".concat(r," ").concat(i)}(y,void 0!==u?u:.5,void 0!==c?c:.5)),void 0!==a&&(v.x=a),void 0!==o&&(v.y=o),void 0!==s&&(v.scale=s),void 0!==l&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?La:Ma;e[a.offset]=ka.transform(-r);var o=ka.transform(t),s=ka.transform(n);e[a.array]="".concat(o," ").concat(s)}(v,l,f,p,!1)}}var Ua=function(){return _i(_i({},Ta()),{},{attrs:{}})},Ba=function(e){return"string"===typeof e&&"svg"===e.toLowerCase()};function qa(e,n,r,i){var a=(0,t.useMemo)((function(){var t=Ua();return Va(t,n,{enableHardwareAcceleration:!1},Ba(i),e.transformTemplate),_i(_i({},t.attrs),{},{style:_i({},t.style)})}),[n]);if(e.style){var o={};Ca(o,e.style,e),a.style=_i(_i({},o),a.style)}return a}function za(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,r,i,a,o){var s=a.latestValues,u=(Yi(n)?qa:Pa)(r,s,o,n),c=function(e,t,n){var r={};for(var i in e)"values"===i&&"object"===typeof e.values||(Da(i)||!0===n&&Aa(i)||!t&&!Aa(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,e),l=_i(_i(_i({},c),u),{},{ref:i}),h=r.children,f=(0,t.useMemo)((function(){return ea(h)?h.get():h}),[h]);return(0,t.createElement)(n,_i(_i({},l),{},{children:f}))}}var Wa=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function Ka(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var Ha=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ga(e,t,n,r){for(var i in Ka(e,t,void 0,r),t.attrs)e.setAttribute(Ha.has(i)?i:Wa(i),t.attrs[i])}function Qa(e,t){var n=e.style,r={};for(var i in n)(ea(n[i])||t.style&&ea(t.style[i])||Zi(i,e))&&(r[i]=n[i]);return r}function Ya(e,t){var n=Qa(e,t);for(var r in e){if(ea(e[r])||ea(t[r]))n[-1!==Xi.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function $a(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var Xa=function(e){return Array.isArray(e)},Ja=function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)},Za=function(e){return Xa(e)?e[e.length-1]||0:e};function eo(e){var t=ea(e)?e.get():e;return Ja(t)?t.toValue():t}var to=["transitionEnd","transition"];var no=function(e){return function(n,r){var i=(0,t.useContext)(Si),a=(0,t.useContext)(Ei),o=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:ro(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}(e,n,i,a)};return r?o():function(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}(o)}};function ro(e,t,n,r){var i={},a=r(e,{});for(var o in a)i[o]=eo(a[o]);var s=e.initial,u=e.animate,c=Oi(e),l=ji(e);t&&l&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));var h=!!n&&!1===n.initial,f=(h=h||!1===s)?u:s;f&&"boolean"!==typeof f&&!Ai(f)&&(Array.isArray(f)?f:[f]).forEach((function(t){var n=$a(e,t);if(n){var r=n.transitionEnd,a=(n.transition,Oa(n,to));for(var o in a){var s=a[o];if(Array.isArray(s))s=s[h?s.length-1:0];null!==s&&(i[o]=s)}for(var u in r)i[u]=r[u]}}));return i}var io=function(e){return e},ao=function(){function e(){tn(this,e),this.order=[],this.scheduled=new Set}return on(e,[{key:"add",value:function(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}},{key:"remove",value:function(e){var t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}},{key:"clear",value:function(){this.order.length=0,this.scheduled.clear()}}]),e}();var oo=["prepare","read","update","preRender","render","postRender"];var so=function(e,t){var n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=oo.reduce((function(e,t){return e[t]=function(e){var t=new ao,n=new ao,r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),s.add(e)&&a&&i&&(r=t.order.length),e},cancel:function(e){n.remove(e),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).clear(),r=t.order.length)for(var l=0;l<r;l++){var h=t.order[l];h(u),o.has(h)&&(s.schedule(h),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return n=!0})),e}),{}),o=function(e){return a[e].process(i)},s=function a(){var s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,oo.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},u=oo.reduce((function(t,o){var u=a[o];return t[o]=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(s)),u.schedule(t,a,o)},t}),{});return{schedule:u,cancel:function(e){return oo.forEach((function(t){return a[t].cancel(e)}))},state:i,steps:a}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:io,!0),uo=so.schedule,co=so.cancel,lo=so.state,ho=so.steps,fo={useVisualState:no({scrapeMotionValuesFromProps:Ya,createRenderState:Ua,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;uo.read((function(){try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}})),uo.render((function(){Va(r,i,{enableHardwareAcceleration:!1},Ba(t.tagName),e.transformTemplate),Ga(t,r)}))}})},po={useVisualState:no({scrapeMotionValuesFromProps:Qa,createRenderState:Ta})};function vo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}var mo=function(e){return"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary};function yo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var go=function(e){return function(t){return mo(t)&&e(t,yo(t))}};function ko(e,t,n,r){return vo(e,t,go(n),r)}var bo=function(e,t){return function(n){return t(e(n))}},wo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(bo)};function _o(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var xo=_o("dragHorizontal"),So=_o("dragVertical");function Eo(e){var t=!1;if("y"===e)t=So();else if("x"===e)t=xo();else{var n=xo(),r=So();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function To(){var e=Eo(!0);return!e||(e(),!1)}var Co=function(){function e(t){tn(this,e),this.isMounted=!1,this.node=t}return on(e,[{key:"update",value:function(){}}]),e}();function Io(e,t){var n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return ko(e.current,n,(function(n,i){if("touch"!==n.type&&!To()){var a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&uo.update((function(){return a[r](n,i)}))}}),{passive:!e.getProps()[r]})}var Po=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"mount",value:function(){this.unmount=wo(Io(this.node,!0),Io(this.node,!1))}},{key:"unmount",value:function(){}}]),n}(Co),No=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.apply(this,arguments)).isActive=!1,e}return on(n,[{key:"onFocus",value:function(){var e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}},{key:"onBlur",value:function(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}},{key:"mount",value:function(){var e=this;this.unmount=wo(vo(this.node.current,"focus",(function(){return e.onFocus()})),vo(this.node.current,"blur",(function(){return e.onBlur()})))}},{key:"unmount",value:function(){}}]),n}(Co),Ao=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function Ro(e,t){if(t){var n=new PointerEvent("pointer"+e);t(n,yo(n))}}var Do=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.apply(this,arguments)).removeStartListeners=io,e.removeEndListeners=io,e.removeAccessibleListeners=io,e.startPointerPress=function(t,n){if(e.removeEndListeners(),!e.isPressing){var r=e.node.getProps(),i=ko(window,"pointerup",(function(t,n){if(e.checkPressEnd()){var r=e.node.getProps(),i=r.onTap,a=r.onTapCancel;uo.update((function(){Ao(e.node.current,t.target)?i&&i(t,n):a&&a(t,n)}))}}),{passive:!(r.onTap||r.onPointerUp)}),a=ko(window,"pointercancel",(function(t,n){return e.cancelPress(t,n)}),{passive:!(r.onTapCancel||r.onPointerCancel)});e.removeEndListeners=wo(i,a),e.startPress(t,n)}},e.startAccessiblePress=function(){var t=vo(e.node.current,"keydown",(function(t){if("Enter"===t.key&&!e.isPressing){e.removeEndListeners(),e.removeEndListeners=vo(e.node.current,"keyup",(function(t){"Enter"===t.key&&e.checkPressEnd()&&Ro("up",(function(t,n){var r=e.node.getProps().onTap;r&&uo.update((function(){return r(t,n)}))}))})),Ro("down",(function(t,n){e.startPress(t,n)}))}})),n=vo(e.node.current,"blur",(function(){e.isPressing&&Ro("cancel",(function(t,n){return e.cancelPress(t,n)}))}));e.removeAccessibleListeners=wo(t,n)},e}return on(n,[{key:"startPress",value:function(e,t){this.isPressing=!0;var n=this.node.getProps(),r=n.onTapStart;n.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&uo.update((function(){return r(e,t)}))}},{key:"checkPressEnd",value:function(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!To()}},{key:"cancelPress",value:function(e,t){if(this.checkPressEnd()){var n=this.node.getProps().onTapCancel;n&&uo.update((function(){return n(e,t)}))}}},{key:"mount",value:function(){var e=this.node.getProps(),t=ko(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=vo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wo(t,n)}},{key:"unmount",value:function(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}]),n}(Co),Oo=["root"],jo=new WeakMap,Lo=new WeakMap,Mo=function(e){var t=jo.get(e.target);t&&t(e)},Fo=function(e){e.forEach(Mo)};function Vo(e,t,n){var r=function(e){var t=e.root,n=Oa(e,Oo),r=t||document;Lo.has(r)||Lo.set(r,{});var i=Lo.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(Fo,_i({root:t},n))),i[a]}(t);return jo.set(e,n),r.observe(e),function(){jo.delete(e),r.unobserve(e)}}var Uo={some:0,all:1},Bo=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.apply(this,arguments)).hasEnteredView=!1,e.isInView=!1,e}return on(n,[{key:"startObserver",value:function(){var e=this;this.unmount();var t=this.node.getProps().viewport,n=void 0===t?{}:t,r=n.root,i=n.margin,a=n.amount,o=void 0===a?"some":a,s=n.once,u={root:r?r.current:void 0,rootMargin:i,threshold:"number"===typeof o?o:Uo[o]};return Vo(this.node.current,u,(function(t){var n=t.isIntersecting;if(e.isInView!==n&&(e.isInView=n,!s||n||!e.hasEnteredView)){n&&(e.hasEnteredView=!0),e.node.animationState&&e.node.animationState.setActive("whileInView",n);var r=e.node.getProps(),i=r.onViewportEnter,a=r.onViewportLeave,o=n?i:a;o&&o(t)}}))}},{key:"mount",value:function(){this.startObserver()}},{key:"update",value:function(){if("undefined"!==typeof IntersectionObserver){var e=this.node,t=e.props,n=e.prevProps,r=["amount","margin","root"].some(function(e){var t=e.viewport,n=void 0===t?{}:t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.viewport,a=void 0===i?{}:i;return function(e){return n[e]!==a[e]}}(t,n));r&&this.startObserver()}}},{key:"unmount",value:function(){}}]),n}(Co);var qo={inView:{Feature:Bo},tap:{Feature:Do},focus:{Feature:No},hover:{Feature:Po}};function zo(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Wo(e,t,n){var r=e.getProps();return $a(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var Ko="data-"+Wa("framerAppearId"),Ho=io,Go=io;var Qo=function(e){return 1e3*e},Yo=function(e){return e/1e3},$o=!1,Xo=function(e){return Array.isArray(e)&&"number"===typeof e[0]};function Jo(e){return Boolean(!e||"string"===typeof e&&es[e]||Xo(e)||Array.isArray(e)&&e.every(Jo))}var Zo=function(e){var t=yn(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return"cubic-bezier(".concat(n,", ").concat(r,", ").concat(i,", ").concat(a,")")},es={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zo([0,.65,.55,1]),circOut:Zo([.55,0,1,.45]),backIn:Zo([.31,.01,.66,-.59]),backOut:Zo([.33,1.53,.69,.99])};function ts(e){if(e)return Xo(e)?Zo(e):Array.isArray(e)?e.map(ts):es[e]}var ns=function(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e},rs=1e-7,is=12;function as(e,t,n,r){if(e===t&&n===r)return io;var i=function(t){return function(e,t,n,r,i){var a,o,s=0;do{(a=ns(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>rs&&++s<is);return o}(t,0,1,e,n)};return function(e){return 0===e||1===e?e:ns(i(e),t,r)}}var os=as(.42,0,1,1),ss=as(0,0,.58,1),us=as(.42,0,.58,1),cs=function(e){return Array.isArray(e)&&"number"!==typeof e[0]},ls=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},hs=function(e){return function(t){return 1-e(1-t)}},fs=function(e){return 1-Math.sin(Math.acos(e))},ds=hs(fs),ps=ls(ds),vs=as(.33,1.53,.69,.99),ms=hs(vs),ys=ls(ms),gs={linear:io,easeIn:os,easeInOut:us,easeOut:ss,circIn:fs,circInOut:ps,circOut:ds,backIn:ms,backInOut:ys,backOut:vs,anticipate:function(e){return(e*=2)<1?.5*ms(e):.5*(2-Math.pow(2,-10*(e-1)))}},ks=function(e){if(Array.isArray(e)){Go(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=yn(e,4);return as(t[0],t[1],t[2],t[3])}return"string"===typeof e?(Go(void 0!==gs[e],"Invalid easing type '".concat(e,"'")),gs[e]):e},bs=function(e,t){return function(n){return Boolean(va(n)&&pa.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},ws=function(e,t,n){return function(r){var i;if(!va(r))return r;var a=yn(r.match(fa),4),o=a[0],s=a[1],u=a[2],c=a[3];return Qr(i={},e,parseFloat(o)),Qr(i,t,parseFloat(s)),Qr(i,n,parseFloat(u)),Qr(i,"alpha",void 0!==c?parseFloat(c):1),i}},_s=_i(_i({},ua),{},{transform:function(e){return Math.round(function(e){return sa(0,255,e)}(e))}}),xs={test:bs("rgb","red"),parse:ws("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+_s.transform(t)+", "+_s.transform(n)+", "+_s.transform(r)+", "+ha(ca.transform(a))+")"}};var Ss={test:bs("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:xs.transform},Es={test:bs("hsl","hue"),parse:ws("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+ga.transform(ha(n))+", "+ga.transform(ha(r))+", "+ha(ca.transform(a))+")"}},Ts={test:function(e){return xs.test(e)||Ss.test(e)||Es.test(e)},parse:function(e){return xs.test(e)?xs.parse(e):Es.test(e)?Es.parse(e):Ss.parse(e)},transform:function(e){return va(e)?e:e.hasOwnProperty("red")?xs.transform(e):Es.transform(e)}},Cs=function(e,t,n){return-n*e+n*t+e};function Is(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var Ps=function(e,t,n){var r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Ns=[Ss,xs,Es];function As(e){var t=function(e){return Ns.find((function(t){return t.test(e)}))}(e);Go(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));var n=t.parse(e);return t===Es&&(n=function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;a=Is(c,u,t+1/3),o=Is(c,u,t),s=Is(c,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(n)),n}var Rs=function(e,t){var n=As(e),r=As(t),i=_i({},n);return function(e){return i.red=Ps(n.red,r.red,e),i.green=Ps(n.green,r.green,e),i.blue=Ps(n.blue,r.blue,e),i.alpha=Cs(n.alpha,r.alpha,e),xs.transform(i)}};var Ds={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:io},Os={regex:da,countKey:"Colors",token:"${c}",parse:Ts.parse},js={regex:fa,countKey:"Numbers",token:"${n}",parse:ua.parse};function Ls(e,t){var n,r=t.regex,i=t.countKey,a=t.token,o=t.parse,s=e.tokenised.match(r);s&&(e["num"+i]=s.length,e.tokenised=e.tokenised.replace(r,a),(n=e.values).push.apply(n,en(s.map(o))))}function Ms(e){var t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ls(n,Ds),Ls(n,Os),Ls(n,js),n}function Fs(e){return Ms(e).values}function Vs(e){var t=Ms(e),n=t.values,r=t.numColors,i=t.numVars,a=t.tokenised,o=n.length;return function(e){for(var t=a,n=0;n<o;n++)t=n<i?t.replace(Ds.token,e[n]):n<i+r?t.replace(Os.token,Ts.transform(e[n])):t.replace(js.token,ha(e[n]));return t}}var Us=function(e){return"number"===typeof e?0:e};var Bs={test:function(e){var t,n;return isNaN(e)&&va(e)&&((null===(t=e.match(fa))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(da))||void 0===n?void 0:n.length)||0)>0},parse:Fs,createTransformer:Vs,getAnimatableNone:function(e){var t=Fs(e);return Vs(e)(t.map(Us))}},qs=function(e,t){return function(n){return"".concat(n>0?t:e)}};function zs(e,t){return"number"===typeof e?function(n){return Cs(e,t,n)}:Ts.test(e)?Rs(e,t):e.startsWith("var(")?qs(e,t):Hs(e,t)}var Ws=function(e,t){var n=en(e),r=n.length,i=e.map((function(e,n){return zs(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},Ks=function(e,t){var n=_i(_i({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=zs(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}},Hs=function(e,t){var n=Bs.createTransformer(t),r=Ms(e),i=Ms(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?wo(Ws(r.values,i.values),n):(Ho(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),qs(e,t))},Gs=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},Qs=function(e,t){return function(n){return Cs(e,t,n)}};function Ys(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?Qs:"string"===typeof e?Ts.test(e)?Rs:Hs:Array.isArray(e)?Ws:"object"===typeof e?Ks:Qs}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]||io:t;s=wo(u,s)}r.push(s)}return r}function $s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;if(Go(s===t.length,"Both input and output ranges must be the same length"),1===s)return function(){return t[0]};e[0]>e[s-1]&&(e=en(e).reverse(),t=en(t).reverse());var u=Ys(t,a,o),c=u.length,l=function(t){var n=0;if(c>1)for(;n<e.length-2&&!(t<e[n+1]);n++);var r=Gs(e[n],e[n+1],t);return u[n](r)};return i?function(t){return l(sa(e[0],e[s-1],t))}:l}function Xs(e){var t=[0];return function(e,t){for(var n=e[e.length-1],r=1;r<=t;r++){var i=Gs(0,t,r);e.push(Cs(n,1,i))}}(t,e.length-1),t}function Js(e){var t,n,r=e.duration,i=void 0===r?300:r,a=e.keyframes,o=e.times,s=e.ease,u=void 0===s?"easeInOut":s,c=cs(u)?u.map(ks):ks(u),l={done:!1,value:a[0]},h=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===a.length?o:Xs(a),i),f=$s(h,a,{ease:Array.isArray(c)?c:(t=a,n=c,t.map((function(){return n||us})).splice(0,t.length-1))});return{calculatedDuration:i,next:function(e){return l.value=f(e),l.done=e>=i,l}}}function Zs(e,t){return t?e*(1e3/t):0}var eu=5;function tu(e,t,n){var r=Math.max(t-eu,0);return Zs(n-e(r),t-r)}var nu=.001,ru=.01,iu=10,au=.05,ou=1;function su(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c;Ho(i<=Qo(iu),"Spring duration must be 10 seconds or less");var h=1-o;h=sa(au,ou,h),i=sa(ru,iu,Yo(i)),h<1?(t=function(e){var t=e*h,n=t*i,r=t-u,a=cu(e,h),o=Math.exp(-n);return nu-r/a*o},n=function(e){var n=e*h*i,r=n*u+u,a=Math.pow(h,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=cu(Math.pow(e,2),h);return(-t(e)+nu>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-nu},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var f=function(e,t,n){for(var r=n,i=1;i<uu;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i=Qo(i),isNaN(f))return{stiffness:100,damping:10,duration:i};var d=Math.pow(f,2)*l;return{stiffness:d,damping:2*h*Math.sqrt(l*d),duration:i}}var uu=12;function cu(e,t){return e*Math.sqrt(1-t*t)}var lu=["keyframes","restDelta","restSpeed"],hu=["duration","bounce"],fu=["stiffness","damping","mass"];function du(e,t){return t.some((function(t){return void 0!==e[t]}))}function pu(e){var t,n=e.keyframes,r=e.restDelta,i=e.restSpeed,a=Oa(e,lu),o=n[0],s=n[n.length-1],u={done:!1,value:o},c=function(e){var t=_i({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!du(e,fu)&&du(e,hu)){var n=su(e);(t=_i(_i(_i({},t),n),{},{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(a),l=c.stiffness,h=c.damping,f=c.mass,d=c.velocity,p=c.duration,v=c.isResolvedFromDuration,m=d?-Yo(d):0,y=h/(2*Math.sqrt(l*f)),g=s-o,k=Yo(Math.sqrt(l/f)),b=Math.abs(g)<5;if(i||(i=b?.01:2),r||(r=b?.005:.5),y<1){var w=cu(k,y);t=function(e){var t=Math.exp(-y*k*e);return s-t*((m+y*k*g)/w*Math.sin(w*e)+g*Math.cos(w*e))}}else if(1===y)t=function(e){return s-Math.exp(-k*e)*(g+(m+k*g)*e)};else{var _=k*Math.sqrt(y*y-1);t=function(e){var t=Math.exp(-y*k*e),n=Math.min(_*e,300);return s-t*((m+y*k*g)*Math.sinh(n)+_*g*Math.cosh(n))/_}}return{calculatedDuration:v&&p||null,next:function(e){var n=t(e);if(v)u.done=e>=p;else{var a=m;0!==e&&(a=y<1?tu(t,e,n):0);var o=Math.abs(a)<=i,c=Math.abs(s-n)<=r;u.done=o&&c}return u.value=u.done?s:n,u}}}function vu(e){var t=e.keyframes,n=e.velocity,r=void 0===n?0:n,i=e.power,a=void 0===i?.8:i,o=e.timeConstant,s=void 0===o?325:o,u=e.bounceDamping,c=void 0===u?10:u,l=e.bounceStiffness,h=void 0===l?500:l,f=e.modifyTarget,d=e.min,p=e.max,v=e.restDelta,m=void 0===v?.5:v,y=e.restSpeed,g=t[0],k={done:!1,value:g},b=function(e){return void 0===d?p:void 0===p||Math.abs(d-e)<Math.abs(p-e)?d:p},w=a*r,_=g+w,x=void 0===f?_:f(_);x!==_&&(w=x-g);var S,E,T=function(e){return-w*Math.exp(-e/s)},C=function(e){return x+T(e)},I=function(e){var t=T(e),n=C(e);k.done=Math.abs(t)<=m,k.value=k.done?x:n},P=function(e){(function(e){return void 0!==d&&e<d||void 0!==p&&e>p})(k.value)&&(S=e,E=pu({keyframes:[k.value,b(k.value)],velocity:tu(C,e,k.value),damping:c,stiffness:h,restDelta:m,restSpeed:y}))};return P(0),{calculatedDuration:null,next:function(e){var t=!1;return E||void 0!==S||(t=!0,I(e),P(e)),void 0!==S&&e>S?E.next(e-S):(!t&&I(e),k)}}}var mu=function(e){var t=function(t){var n=t.timestamp;return e(n)};return{start:function(){return uo.update(t,!0)},stop:function(){return co(t)},now:function(){return lo.isProcessing?lo.timestamp:performance.now()}}},yu=2e4;function gu(e){for(var t=0,n=e.next(t);!n.done&&t<yu;)t+=50,n=e.next(t);return t>=yu?1/0:t}var ku=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],bu={decay:vu,inertia:vu,tween:Js,keyframes:Js,spring:pu};function wu(e){var t,n,r,i=e.autoplay,a=void 0===i||i,o=e.delay,s=void 0===o?0:o,u=e.driver,c=void 0===u?mu:u,l=e.keyframes,h=e.type,f=void 0===h?"keyframes":h,d=e.repeat,p=void 0===d?0:d,v=e.repeatDelay,m=void 0===v?0:v,y=e.repeatType,g=void 0===y?"loop":y,k=e.onPlay,b=e.onStop,w=e.onComplete,_=e.onUpdate,x=Oa(e,ku),S=1,E=!1,T=function(){n=new Promise((function(e){t=e}))};T();var C,I=bu[f]||Js;I!==Js&&"number"!==typeof l[0]&&(C=$s([0,100],l,{clamp:!1}),l=[0,100]);var P,N=I(_i(_i({},x),{},{keyframes:l}));"mirror"===g&&(P=I(_i(_i({},x),{},{keyframes:en(l).reverse(),velocity:-(x.velocity||0)})));var A="idle",R=null,D=null,O=null;null===N.calculatedDuration&&p&&(N.calculatedDuration=gu(N));var j=N.calculatedDuration,L=1/0,M=1/0;null!==j&&(M=(L=j+m)*(p+1)-m);var F=0,V=function(e){if(null!==D){S>0&&(D=Math.min(D,e)),S<0&&(D=Math.min(e-M/S,D));var t=(F=null!==R?R:Math.round(e-D)*S)-s*(S>=0?1:-1),n=S>=0?t<0:t>M;F=Math.max(t,0),"finished"===A&&null===R&&(F=M);var r=F,i=N;if(p){var a=F/L,o=Math.floor(a),u=a%1;!u&&a>=1&&(u=1),1===u&&o--,o=Math.min(o,p+1);var c=Boolean(o%2);c&&("reverse"===g?(u=1-u,m&&(u-=m/L)):"mirror"===g&&(i=P));var h=sa(0,1,u);F>M&&(h="reverse"===g&&c?1:0),r=h*L}var f=n?{done:!1,value:l[0]}:i.next(r);C&&(f.value=C(f.value));var d=f.done;n||null===j||(d=S>=0?F>=M:F<=0);var v=null===R&&("finished"===A||"running"===A&&d);return _&&_(f.value),v&&q(),f}},U=function(){r&&r.stop(),r=void 0},B=function(){A="idle",U(),t(),T(),D=O=null},q=function(){A="finished",w&&w(),U(),t()},z=function(){if(!E){r||(r=c(V));var e=r.now();k&&k(),null!==R?D=e-R:D&&"finished"!==A||(D=e),"finished"===A&&T(),O=D,R=null,A="running",r.start()}};a&&z();var W={then:function(e,t){return n.then(e,t)},get time(){return Yo(F)},set time(e){e=Qo(e),F=e,null===R&&r&&0!==S?D=r.now()-e/S:R=e},get duration(){var e=null===N.calculatedDuration?gu(N):N.calculatedDuration;return Yo(e)},get speed(){return S},set speed(e){e!==S&&r&&(S=e,W.time=Yo(F))},get state(){return A},play:z,pause:function(){A="paused",R=F},stop:function(){E=!0,"idle"!==A&&(A="idle",b&&b(),B())},cancel:function(){null!==O&&V(O),B()},complete:function(){A="finished"},sample:function(e){return D=0,V(e)}};return W}var _u=["onUpdate","onComplete"],xu=function(e){var t;return function(){return void 0===t&&(t=e()),t}}((function(){return Object.hasOwnProperty.call(Element.prototype,"animate")})),Su=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Eu(e,t,n){n.onUpdate;var r=n.onComplete,i=Oa(n,_u);if(!(xu()&&Su.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;var a,o,s=!1,u=function(){o=new Promise((function(e){a=e}))};u();var c=i.keyframes,l=i.duration,h=void 0===l?300:l,f=i.ease,d=i.times;if(function(e,t){return"spring"===t.type||"backgroundColor"===e||!Jo(t.ease)}(t,i)){for(var p=wu(_i(_i({},i),{},{repeat:0,delay:0})),v={done:!1,value:c[0]},m=[],y=0;!v.done&&y<2e4;)v=p.sample(y),m.push(v.value),y+=10;d=void 0,c=m,h=y-10,f="linear"}var g=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.delay,a=void 0===i?0:i,o=r.duration,s=r.repeat,u=void 0===s?0:s,c=r.repeatType,l=void 0===c?"loop":c,h=r.ease,f=r.times,d=Qr({},t,n);f&&(d.offset=f);var p=ts(h);return Array.isArray(p)&&(d.easing=p),e.animate(d,{delay:a,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:u+1,direction:"reverse"===l?"alternate":"normal"})}(e.owner.current,t,c,_i(_i({},i),{},{duration:h,ease:f,times:d}));i.syncStart&&(g.startTime=lo.isProcessing?lo.timestamp:document.timeline?document.timeline.currentTime:performance.now());var k=function(){return g.cancel()},b=function(){uo.update(k),a(),u()};return g.onfinish=function(){e.set(function(e,t){var n=t.repeat,r=t.repeatType;return e[n&&"loop"!==(void 0===r?"loop":r)&&n%2===1?0:e.length-1]}(c,i)),r&&r(),b()},{then:function(e,t){return o.then(e,t)},attachTimeline:function(e){return g.timeline=e,g.onfinish=null,io},get time(){return Yo(g.currentTime||0)},set time(e){g.currentTime=Qo(e)},get speed(){return g.playbackRate},set speed(e){g.playbackRate=e},get duration(){return Yo(h)},play:function(){s||(g.play(),co(k))},pause:function(){return g.pause()},stop:function(){if(s=!0,"idle"!==g.playState){var t=g.currentTime;if(t){var n=wu(_i(_i({},i),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}b()}},complete:function(){return g.finish()},cancel:b}}var Tu={type:"spring",stiffness:500,damping:25,restSpeed:10},Cu={type:"keyframes",duration:.8},Iu={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Pu=function(e,t){var n=t.keyframes;return n.length>2?Cu:Ji.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Tu:Iu},Nu=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Bs.test(t)&&"0"!==t||t.startsWith("url(")))},Au=new Set(["brightness","contrast","saturate","opacity"]);function Ru(e){var t=yn(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=yn(r.match(fa)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=Au.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var Du=/([a-z-]*)\(.*?\)/g,Ou=_i(_i({},Bs),{},{getAnimatableNone:function(e){var t=e.match(Du);return t?t.map(Ru).join(" "):e}}),ju=_i(_i({},Sa),{},{color:Ts,backgroundColor:Ts,outlineColor:Ts,fill:Ts,stroke:Ts,borderColor:Ts,borderTopColor:Ts,borderRightColor:Ts,borderBottomColor:Ts,borderLeftColor:Ts,filter:Ou,WebkitFilter:Ou}),Lu=function(e){return ju[e]};function Mu(e,t){var n=Lu(e);return n!==Ou&&(n=Bs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var Fu=function(e){return/^0[^.\s]+$/.test(e)};function Vu(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Fu(e):void 0}var Uu=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function Bu(e,t){return e[t]||e.default||e}var qu=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){var a=Bu(r,e)||{},o=a.delay||r.delay||0,s=r.elapsed,u=void 0===s?0:s;u-=Qo(o);var c=function(e,t,n,r){var i,a=Nu(t,n);i=Array.isArray(n)?en(n):[null,n];for(var o=void 0!==r.from?r.from:e.get(),s=void 0,u=[],c=0;c<i.length;c++)null===i[c]&&(i[c]=0===c?o:i[c-1]),Vu(i[c])&&u.push(c),"string"===typeof i[c]&&"none"!==i[c]&&"0"!==i[c]&&(s=i[c]);if(a&&u.length&&s)for(var l=0;l<u.length;l++)i[u[l]]=Mu(t,s);return i}(t,e,n,a),l=c[0],h=c[c.length-1],f=Nu(e,l),d=Nu(e,h);Ho(f===d,"You are trying to animate ".concat(e,' from "').concat(l,'" to "').concat(h,'". ').concat(l," is not an animatable value - to enable this animation set ").concat(l," to a value animatable to ").concat(h," via the `style` property."));var p=_i(_i({keyframes:c,velocity:t.getVelocity(),ease:"easeOut"},a),{},{delay:-u,onUpdate:function(e){t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:function(){i(),a.onComplete&&a.onComplete()}});if(function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from,e.elapsed;var t=Oa(e,Uu);return!!Object.keys(t).length}(a)||(p=_i(_i({},p),Pu(e,p))),p.duration&&(p.duration=Qo(p.duration)),p.repeatDelay&&(p.repeatDelay=Qo(p.repeatDelay)),!f||!d||$o||!1===a.type)return function(e){var t=e.keyframes,n=e.delay,r=e.onUpdate,i=e.onComplete,a=function(){return r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:io,pause:io,stop:io,then:function(e){return e(),Promise.resolve()},cancel:io,complete:io}};return n?wu({keyframes:[0,1],duration:0,delay:n,onComplete:a}):a()}($o?_i(_i({},p),{},{delay:0}):p);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){var v=Eu(t,e,p);if(v)return v}return wu(p)}};function zu(e){return Boolean(ea(e)&&e.add)}var Wu=function(e){return/^\-?\d*\.?\d+$/.test(e)};function Ku(e,t){-1===e.indexOf(t)&&e.push(t)}function Hu(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Gu=function(){function e(){tn(this,e),this.subscriptions=[]}return on(e,[{key:"add",value:function(e){var t=this;return Ku(this.subscriptions,e),function(){return Hu(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),Qu={current:void 0},Yu=function(){function e(t){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tn(this,e),this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=lo.delta,i=lo.timestamp;r.lastUpdated!==i&&(r.timeDelta=n,r.lastUpdated=i,uo.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.events.change&&r.events.change.notify(r.current),r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()),t&&r.events.renderRequest&&r.events.renderRequest.notify(r.current)},this.scheduleVelocityCheck=function(){return uo.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=i.owner}return on(e,[{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,t){var n=this;this.events[e]||(this.events[e]=new Gu);var r=this.events[e].add(t);return"change"===e?function(){r(),uo.read((function(){n.events.change.getSize()||n.stop()}))}:r}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"setWithVelocity",value:function(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}},{key:"jump",value:function(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}},{key:"get",value:function(){return Qu.current&&Qu.current.push(this),this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?Zs(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.animation=e(n),t.events.animationStart&&t.events.animationStart.notify()})).then((function(){t.events.animationComplete&&t.events.animationComplete.notify(),t.clearAnimation()}))}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.animation}},{key:"clearAnimation",value:function(){delete this.animation}},{key:"destroy",value:function(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}]),e}();function $u(e,t){return new Yu(e,t)}var Xu=function(e){return function(t){return t.test(e)}},Ju=[ua,ka,ga,ya,wa,ba,{test:function(e){return"auto"===e},parse:function(e){return e}}],Zu=function(e){return Ju.find(Xu(e))},ec=[].concat(en(Ju),[Ts,Bs]),tc=function(e){return ec.find(Xu(e))},nc=["transitionEnd","transition"];function rc(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$u(n))}function ic(e,t){var n=Wo(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i,o=(r.transition,Oa(r,nc));for(var s in o=_i(_i({},o),a)){rc(e,s,Za(o[s]))}}function ac(e,t){if(t)return(t[e]||t.default||t).from}var oc=["transition","transitionEnd"];function sc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.delay,i=void 0===r?0:r,a=n.transitionOverride,o=n.type,s=e.makeTargetAnimatable(t),u=s.transition,c=void 0===u?e.getDefaultTransition():u,l=s.transitionEnd,h=Oa(s,oc),f=e.getValue("willChange");a&&(c=a);var d=[],p=o&&e.animationState&&e.animationState.getState()[o],v=function(t){var n=e.getValue(t),r=h[t];if(!n||void 0===r||p&&function(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}(p,t))return 1;var a=_i({delay:i,elapsed:0},c);if(window.HandoffAppearAnimations&&!n.hasAnimated){var o=e.getProps()[Ko];o&&(a.elapsed=window.HandoffAppearAnimations(o,t,n,uo),a.syncStart=!0)}n.start(qu(t,n,r,e.shouldReduceMotion&&Ji.has(t)?{type:!1}:a));var s=n.animation;zu(f)&&(f.add(t),s.then((function(){return f.remove(t)}))),d.push(s)};for(var m in h)v(m);return l&&Promise.all(d).then((function(){l&&ic(e,l)})),d}function uc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Wo(e,t,n.custom),i=(r||{}).transition,a=void 0===i?e.getDefaultTransition()||{}:i;n.transitionOverride&&(a=n.transitionOverride);var o=r?function(){return Promise.all(sc(e,r,n))}:function(){return Promise.resolve()},s=e.variantChildren&&e.variantChildren.size?function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=a,o=i.delayChildren,s=void 0===o?0:o,u=i.staggerChildren,c=i.staggerDirection;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],s=(e.variantChildren.size-1)*r,u=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(cc).forEach((function(e,r){e.notify("AnimationStart",t),o.push(uc(e,t,_i(_i({},a),{},{delay:n+u(r)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(o)}(e,t,s+r,u,c,n)}:function(){return Promise.resolve()},u=a.when;if(u){var c=yn("beforeChildren"===u?[o,s]:[s,o],2),l=c[0],h=c[1];return l().then((function(){return h()}))}return Promise.all([o(),s(n.delay)])}function cc(e,t){return e.sortNodePosition(t)}var lc=["transition","transitionEnd"],hc=en(Ri).reverse(),fc=Ri.length;function dc(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var i=t.map((function(t){return uc(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=uc(e,t,r);else{var a="function"===typeof t?Wo(e,t,r.custom):t;n=Promise.all(sc(e,a,r))}return n.then((function(){return e.notify("AnimationComplete",t)}))}(e,n,r)})))}}function pc(e){var t=dc(e),n={animate:vc(!0),whileInView:vc(),whileHover:vc(),whileTap:vc(),whileDrag:vc(),whileFocus:vc(),exit:vc()},r=!0,i=function(t,n){var r=Wo(e,n);if(r){r.transition;var i=r.transitionEnd,a=Oa(r,lc);t=_i(_i(_i({},t),a),i)}return t};function a(a,o){for(var s=e.getProps(),u=e.getVariantContext(!0)||{},c=[],l=new Set,h={},f=1/0,d=function(){var t=hc[p],d=n[t],v=void 0!==s[t]?s[t]:u[t],m=Ni(v),y=t===o?d.isActive:null;!1===y&&(f=p);var g=v===u[t]&&v!==s[t]&&m;if(g&&r&&e.manuallyAnimateOnMount&&(g=!1),d.protectedKeys=_i({},h),!d.isActive&&null===y||!v&&!d.prevProp||Ai(v)||"boolean"===typeof v)return 1;var k=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!zo(t,e);return!1}(d.prevProp,v),b=k||t===o&&d.isActive&&!g&&m||p>f&&m,w=Array.isArray(v)?v:[v],_=w.reduce(i,{});!1===y&&(_={});var x=d.prevResolvedValues,S=void 0===x?{}:x,E=_i(_i({},S),_),T=function(e){b=!0,l.delete(e),d.needsAnimating[e]=!0};for(var C in E){var I=_[C],P=S[C];h.hasOwnProperty(C)||(I!==P?Xa(I)&&Xa(P)?!zo(I,P)||k?T(C):d.protectedKeys[C]=!0:void 0!==I?T(C):l.add(C):void 0!==I&&l.has(C)?T(C):d.protectedKeys[C]=!0)}d.prevProp=v,d.prevResolvedValues=_,d.isActive&&(h=_i(_i({},h),_)),r&&e.blockInitialAnimation&&(b=!1),b&&!g&&c.push.apply(c,en(w.map((function(e){return{animation:e,options:_i({type:t},a)}}))))},p=0;p<fc;p++)d();if(l.size){var v={};l.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(v[t]=n)})),c.push({animation:v})}var m=Boolean(c.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=a(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function vc(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var mc=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),r=t.call(this,e),e.animationState||(e.animationState=pc(e)),r}return on(n,[{key:"updateAnimationControlsSubscription",value:function(){var e=this.node.getProps().animate;this.unmount(),Ai(e)&&(this.unmount=e.subscribe(this.node))}},{key:"mount",value:function(){this.updateAnimationControlsSubscription()}},{key:"update",value:function(){this.node.getProps().animate!==(this.node.prevProps||{}).animate&&this.updateAnimationControlsSubscription()}},{key:"unmount",value:function(){}}]),n}(Co),yc=0,gc=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.apply(this,arguments)).id=yc++,e}return on(n,[{key:"update",value:function(){var e=this;if(this.node.presenceContext){var t=this.node.presenceContext,n=t.isPresent,r=t.onExitComplete,i=t.custom,a=(this.node.prevPresenceContext||{}).isPresent;if(this.node.animationState&&n!==a){var o=this.node.animationState.setActive("exit",!n,{custom:null!==i&&void 0!==i?i:this.node.getProps().custom});r&&!n&&o.then((function(){return r(e.id)}))}}}},{key:"mount",value:function(){var e=(this.node.presenceContext||{}).register;e&&(this.unmount=e(this.id))}},{key:"unmount",value:function(){}}]),n}(Co),kc={animation:{Feature:mc},exit:{Feature:gc}},bc=function(e,t){return Math.abs(e-t)};var wc=function(){function e(t,n){var r=this,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transformPagePoint;if(tn(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=Sc(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=function(e,t){var n=bc(e.x,t.x),r=bc(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=lo.timestamp;r.history.push(_i(_i({},i),{},{timestamp:a}));var o=r.handlers,s=o.onStart,u=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=_c(t,r.transformPagePoint),uo.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){if(r.end(),r.lastMoveEvent&&r.lastMoveEventInfo){var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=Sc("pointercancel"===e.type?r.lastMoveEventInfo:_c(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)}},mo(t)){this.handlers=n,this.transformPagePoint=i;var a=_c(yo(t),this.transformPagePoint),o=a.point,s=lo.timestamp;this.history=[_i(_i({},o),{},{timestamp:s})];var u=n.onSessionStart;u&&u(t,Sc(a,this.history)),this.removeListeners=wo(ko(window,"pointermove",this.handlePointerMove),ko(window,"pointerup",this.handlePointerUp),ko(window,"pointercancel",this.handlePointerUp))}}return on(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),co(this.updatePoint)}}]),e}();function _c(e,t){return t?{point:t(e.point)}:e}function xc(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sc(e,t){var n=e.point;return{point:n,delta:xc(n,Tc(t)),offset:xc(n,Ec(t)),velocity:Cc(t,.1)}}function Ec(e){return e[0]}function Tc(e){return e[e.length-1]}function Cc(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=Tc(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Qo(t)));)n--;if(!r)return{x:0,y:0};var a=Yo(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ic(e){return e.max-e.min}function Pc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Nc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Cs(t.min,t.max,e.origin),e.scale=Ic(n)/Ic(t),(Pc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Cs(n.min,n.max,e.origin)-e.originPoint,(Pc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ac(e,t,n,r){Nc(e.x,t.x,n.x,r?r.originX:void 0),Nc(e.y,t.y,n.y,r?r.originY:void 0)}function Rc(e,t,n){e.min=n.min+t.min,e.max=e.min+Ic(t)}function Dc(e,t,n){e.min=t.min-n.min,e.max=e.min+Ic(t)}function Oc(e,t,n){Dc(e.x,t.x,n.x),Dc(e.y,t.y,n.y)}function jc(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Lc(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var Mc=.35;function Fc(e,t,n){return{min:Vc(e,t),max:Vc(e,n)}}function Vc(e,t){return"number"===typeof e?e:e[t]||0}var Uc=function(){return{x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}},Bc=function(){return{x:{min:0,max:0},y:{min:0,max:0}}};function qc(e){return[e("x"),e("y")]}function zc(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Wc(e){return void 0===e||1===e}function Kc(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!Wc(t)||!Wc(n)||!Wc(r)}function Hc(e){return Kc(e)||Gc(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Gc(e){return Qc(e.x)||Qc(e.y)}function Qc(e){return e&&"0%"!==e}function Yc(e,t,n){return n+t*(e-n)}function $c(e,t,n,r,i){return void 0!==i&&(e=Yc(e,i,r)),Yc(e,n,r)+t}function Xc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=$c(e.min,t,n,r,i),e.max=$c(e.max,t,n,r,i)}function Jc(e,t){var n=t.x,r=t.y;Xc(e.x,n.translate,n.scale,n.originPoint),Xc(e.y,r.translate,r.scale,r.originPoint)}function Zc(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function el(e,t){e.min=e.min+t,e.max=e.max+t}function tl(e,t,n){var r=yn(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,u=Cs(e.min,e.max,s);Xc(e,t[i],t[a],u,t.scale)}var nl=["x","scaleX","originX"],rl=["y","scaleY","originY"];function il(e,t){tl(e.x,t,nl),tl(e.y,t,rl)}function al(e,t){return zc(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var ol=new WeakMap,sl=function(){function e(t){tn(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bc(),this.visualElement=t}return on(e,[{key:"start",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).snapToCursor,r=void 0!==n&&n,i=this.visualElement.presenceContext;if(!i||!1!==i.isPresent){this.panSession=new wc(e,{onSessionStart:function(e){t.stopAnimation(),r&&t.snapToCursor(yo(e,"page").point)},onStart:function(e,n){var r=t.getProps(),i=r.drag,a=r.dragPropagation,o=r.onDragStart;if(!i||a||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=Eo(i),t.openGlobalLock)){t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),qc((function(e){var n=t.getAxisMotionValue(e).get()||0;if(ga.test(n)){var r=t.visualElement.projection;if(r&&r.layout){var i=r.layout.layoutBox[e];if(i)n=Ic(i)*(parseFloat(n)/100)}}t.originPoint[e]=n})),o&&uo.update((function(){return o(e,n)}),!1,!0);var s=t.visualElement.animationState;s&&s.setActive("whileDrag",!0)}},onMove:function(e,n){var r=t.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||t.openGlobalLock){var u=n.offset;if(a&&null===t.currentDirection)return t.currentDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(u),void(null!==t.currentDirection&&o&&o(t.currentDirection));t.updateAxis("x",n.point,u),t.updateAxis("y",n.point,u),t.visualElement.render(),s&&s(e,n)}},onSessionEnd:function(e,n){return t.stop(e,n)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;i&&uo.update((function(){return i(e,t)}))}}},{key:"cancel",value:function(){this.isDragging=!1;var e=this.visualElement,t=e.projection,n=e.animationState;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&ul(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?Cs(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Cs(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&Pi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:jc(e.x,r,a),y:jc(e.y,n,i)}}(i.layoutBox,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mc;return!1===e?e=0:!0===e&&(e=Mc),{x:Fc(e,"left","right"),y:Fc(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qc((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!Pi(t))return!1;var r=t.current;Go(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=al(e,n),i=t.scroll;return i&&(el(r.x,i.offset.x),el(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:Lc(e.x,t.x),y:Lc(e.y,t.y)}}(i.layout.layoutBox,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=zc(s))}return o}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,c=this.constraints||{},l=qc((function(n){if(ul(n,r,t.currentDirection)){var u=c&&c[n]||{};s&&(u={min:0,max:0});var l=a?200:1e6,h=a?40:1e7,f=_i(_i({type:"inertia",velocity:i?e[n]:0,bounceStiffness:l,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),u);return t.startAxisValueAnimation(n,f)}}));return Promise.all(l).then(u)}},{key:"startAxisValueAnimation",value:function(e,t){var n=this.getAxisMotionValue(e);return n.start(qu(e,n,0,t))}},{key:"stopAnimation",value:function(){var e=this;qc((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}},{key:"snapToCursor",value:function(e){var t=this;qc((function(n){if(ul(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.layoutBox[n],o=a.min,s=a.max;i.set(e[n]-Cs(o,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e=this;if(this.visualElement.current){var t=this.getProps(),n=t.drag,r=t.dragConstraints,i=this.visualElement.projection;if(Pi(r)&&i&&this.constraints){this.stopAnimation();var a={x:0,y:0};qc((function(t){var n=e.getAxisMotionValue(t);if(n){var r=n.get();a[t]=function(e,t){var n=.5,r=Ic(e),i=Ic(t);return i>r?n=Gs(t.min,t.max-r,e.min):r>i&&(n=Gs(e.min,e.max-i,t.min)),sa(0,1,n)}({min:r,max:r},e.constraints[t])}}));var o=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),qc((function(t){if(ul(t,n,null)){var r=e.getAxisMotionValue(t),i=e.constraints[t],o=i.min,s=i.max;r.set(Cs(o,s,a[t]))}}))}}}},{key:"addListeners",value:function(){var e=this;if(this.visualElement.current){ol.set(this.visualElement,this);var t=ko(this.visualElement.current,"pointerdown",(function(t){var n=e.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&e.start(t)})),n=function(){Pi(e.getProps().dragConstraints)&&(e.constraints=e.resolveRefConstraints())},r=this.visualElement.projection,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();var a=vo(window,"resize",(function(){return e.scalePositionWithinConstraints()})),o=r.addEventListener("didUpdate",(function(t){var n=t.delta,r=t.hasLayoutChanged;e.isDragging&&r&&(qc((function(t){var r=e.getAxisMotionValue(t);r&&(e.originPoint[t]+=n[t].translate,r.set(r.get()+n[t].translate))})),e.visualElement.render())}));return function(){a(),t(),i(),o&&o()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,c=e.dragElastic,l=void 0===c?Mc:c,h=e.dragMomentum,f=void 0===h||h;return _i(_i({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:l,dragMomentum:f})}}]),e}();function ul(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var cl=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this,e)).removeGroupControls=io,r.removeListeners=io,r.controls=new sl(e),r}return on(n,[{key:"mount",value:function(){var e=this.node.getProps().dragControls;e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||io}},{key:"unmount",value:function(){this.removeGroupControls(),this.removeListeners()}}]),n}(Co),ll=function(e){return function(t,n){e&&uo.update((function(){return e(t,n)}))}},hl=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.apply(this,arguments)).removePointerDownListener=io,e}return on(n,[{key:"onPointerDown",value:function(e){this.session=new wc(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}},{key:"createPanHandlers",value:function(){var e=this,t=this.node.getProps(),n=t.onPanSessionStart,r=t.onPanStart,i=t.onPan,a=t.onPanEnd;return{onSessionStart:ll(n),onStart:ll(r),onMove:i,onEnd:function(t,n){delete e.session,a&&uo.update((function(){return a(t,n)}))}}}},{key:"mount",value:function(){var e=this;this.removePointerDownListener=ko(this.node.current,"pointerdown",(function(t){return e.onPointerDown(t)}))}},{key:"update",value:function(){this.session&&this.session.updateHandlers(this.createPanHandlers())}},{key:"unmount",value:function(){this.removePointerDownListener(),this.session&&this.session.end()}}]),n}(Co);var fl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dl(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var pl={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!ka.test(e))return e;e=parseFloat(e)}var n=dl(e,t.target.x),r=dl(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},vl={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=Bs.parse(e);if(a.length>5)return i;var o=Bs.createTransformer(e),s="number"!==typeof a[0]?1:0,u=r.x.scale*n.x,c=r.y.scale*n.y;a[0+s]/=u,a[1+s]/=c;var l=Cs(u,c,.5);return"number"===typeof a[2+s]&&(a[2+s]/=l),"number"===typeof a[3+s]&&(a[3+s]/=l),o(a)}},ml=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=gl,Object.assign($i,e),s&&(i.group&&i.group.add(s),a&&a.register&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(_i(_i({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),fl.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||uo.postRender((function(){var e=s.getStack();e&&e.members.length||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.visualElement.projection;t&&(t.root.didUpdate(),queueMicrotask((function(){!t.currentAnimation&&t.isLead()&&e.safeToRemove()})))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;e&&e()}},{key:"render",value:function(){return null}}]),n}(t.Component);function yl(e){var n=function(){var e=(0,t.useContext)(Ei);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,i=e.register,a=(0,t.useId)();return(0,t.useEffect)((function(){return i(a)}),[]),!n&&r?[!1,function(){return r&&r(a)}]:[!0]}(),r=yn(n,2),i=r[0],a=r[1],o=(0,t.useContext)(qi);return t.createElement(ml,_i(_i({},e),{},{layoutGroup:o,switchLayoutGroup:(0,t.useContext)(zi),isPresent:i,safeToRemove:a}))}var gl={borderRadius:_i(_i({},pl),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:pl,borderTopRightRadius:pl,borderBottomLeftRadius:pl,borderBottomRightRadius:pl,boxShadow:vl},kl=["TopLeft","TopRight","BottomLeft","BottomRight"],bl=kl.length,wl=function(e){return"string"===typeof e?parseFloat(e):e},_l=function(e){return"number"===typeof e||ka.test(e)};function xl(e,t){return void 0!==e[t]?e[t]:e.borderRadius}var Sl=Tl(0,.5,ds),El=Tl(.5,.95,io);function Tl(e,t,n){return function(r){return r<e?0:r>t?1:n(Gs(e,t,r))}}function Cl(e,t){e.min=t.min,e.max=t.max}function Il(e,t){Cl(e.x,t.x),Cl(e.y,t.y)}function Pl(e,t,n,r,i){return e=Yc(e-=t,1/n,r),void 0!==i&&(e=Yc(e,1/i,r)),e}function Nl(e,t,n,r,i){var a=yn(n,3),o=a[0],s=a[1],u=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(ga.test(t)&&(t=parseFloat(t),t=Cs(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=Cs(a.min,a.max,r);e===a&&(s-=t),e.min=Pl(e.min,t,n,s,i),e.max=Pl(e.max,t,n,s,i)}}(e,t[o],t[s],t[u],t.scale,r,i)}var Al=["x","scaleX","originX"],Rl=["y","scaleY","originY"];function Dl(e,t,n,r){Nl(e.x,t,Al,n?n.x:void 0,r?r.x:void 0),Nl(e.y,t,Rl,n?n.y:void 0,r?r.y:void 0)}function Ol(e){return 0===e.translate&&1===e.scale}function jl(e){return Ol(e.x)&&Ol(e.y)}function Ll(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Ml(e){return Ic(e.x)/Ic(e.y)}var Fl=function(){function e(){tn(this,e),this.members=[]}return on(e,[{key:"add",value:function(e){Ku(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(Hu(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n=this.lead;e!==n&&(this.prevLead=n,this.lead=e,e.show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t=e.options,n=e.resumingFrom;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function Vl(e,t,n){var r="",i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(r+="rotate(".concat(o,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),u&&(r+="rotateY(".concat(u,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return 1===c&&1===l||(r+="scale(".concat(c,", ").concat(l,")")),r||"none"}var Ul=function(e,t){return e.depth-t.depth},Bl=function(){function e(){tn(this,e),this.children=[],this.isDirty=!1}return on(e,[{key:"add",value:function(e){Ku(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){Hu(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(Ul),this.isDirty=!1,this.children.forEach(e)}}]),e}();var ql=["","X","Y","Z"],zl=0,Wl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Kl(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();tn(this,e),this.id=zl++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=function(){t.isUpdating&&(t.isUpdating=!1,t.clearAllSnapshots())},this.updateProjection=function(){var e;Wl.totalNodes=Wl.resolvedTargetDeltas=Wl.recalculatedProjection=0,t.nodes.forEach(Ql),t.nodes.forEach(th),t.nodes.forEach(nh),t.nodes.forEach(Yl),e=Wl,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=i?i.root||i:this,this.path=i?[].concat(en(i.path),[i]):[],this.parent=i,this.depth=i?i.depth+1:0;for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bl)}return on(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Gu),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"mount",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(!this.instance){var i;this.isSVG=(i=e)instanceof SVGElement&&"svg"!==i.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,u=a.visualElement;if(u&&!u.current&&u.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(s||o)&&(this.isLayoutDirty=!0),t){var c,l=function(){return n.root.updateBlockedByResize=!1};t(e,(function(){n.root.updateBlockedByResize=!0,c&&c(),c=function(e,t){var n=performance.now(),r=function r(i){var a=i.timestamp-n;a>=t&&(co(r),e(a-t))};return uo.read(r,!0),function(){return co(r)}}(l,250),fl.hasAnimatedSinceResize&&(fl.hasAnimatedSinceResize=!1,n.nodes.forEach(eh))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&u&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t=e.delta,r=e.hasLayoutChanged,i=e.hasRelativeTargetChanged,a=e.layout;if(n.isTreeAnimationBlocked())return n.target=void 0,void(n.relativeTarget=void 0);var o=n.options.transition||u.getDefaultTransition()||uh,s=u.getProps(),c=s.onLayoutAnimationStart,l=s.onLayoutAnimationComplete,h=!n.targetLayout||!Ll(n.targetLayout,a)||i,f=!r&&i;if(n.options.layoutRoot||n.resumeFrom&&n.resumeFrom.instance||f||r&&(h||!n.currentAnimation)){n.resumeFrom&&(n.resumingFrom=n.resumeFrom,n.resumingFrom.resumingFrom=void 0),n.setAnimationOrigin(t,f);var d=_i(_i({},Bu(o,"layout")),{},{onPlay:c,onComplete:l});(u.shouldReduceMotion||n.options.layoutRoot)&&(d.delay=0,d.type=!1),n.startAnimation(d)}else r||eh(n),n.isLead()&&n.options.onExitComplete&&n.options.onExitComplete();n.targetLayout=a}))}}},{key:"unmount",value:function(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);var e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,co(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}},{key:"startUpdate",value:function(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rh),this.animationId++)}},{key:"getTransformTemplate",value:function(){var e=this.options.visualElement;return e&&e.getProps().transformTemplate}},{key:"willUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())this.options.onExitComplete&&this.options.onExitComplete();else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t=0;t<this.path.length;t++){var n=this.path[t];n.shouldResetTransform=!0,n.updateScroll("snapshot"),n.options.layoutRoot&&n.willUpdate(!1)}var r=this.options,i=r.layoutId,a=r.layout;if(void 0!==i||a){var o=this.getTransformTemplate();this.prevTransformTemplateValue=o?o(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}}},{key:"update",value:function(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Xl);this.isUpdating||this.nodes.forEach(Jl),this.isUpdating=!1,this.nodes.forEach(Zl),this.nodes.forEach(Hl),this.nodes.forEach(Gl),this.clearAllSnapshots();var e=performance.now();lo.delta=sa(0,1e3/60,e-lo.timestamp),lo.timestamp=e,lo.isProcessing=!0,ho.update.process(lo),ho.preRender.process(lo),ho.render.process(lo),lo.isProcessing=!1}},{key:"didUpdate",value:function(){var e=this;this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((function(){return e.update()})))}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach($l),this.sharedNodes.forEach(ih)}},{key:"scheduleUpdateProjection",value:function(){uo.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;uo.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bc(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);var n=this.options.visualElement;n&&n.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}},{key:"resetTransform",value:function(){if(a){var e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!jl(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Hc(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.measurePageBox(),r=this.removeElementScroll(n);return t&&(r=this.removeTransform(r)),hh((e=r).x),hh(e.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return Bc();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(el(t.x,n.offset.x),el(t.y,n.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t=Bc();Il(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;if(r!==this.root&&i&&a.layoutScroll){if(i.isRoot){Il(t,e);var o=this.root.scroll;o&&(el(t.x,-o.offset.x),el(t.y,-o.offset.y))}el(t.x,i.offset.x),el(t.y,i.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Bc();Il(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&il(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),Hc(i.latestValues)&&il(n,i.latestValues)}return Hc(this.latestValues)&&il(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t=Bc();Il(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n];if(r.instance&&Hc(r.latestValues)){Kc(r.latestValues)&&r.updateSnapshot();var i=Bc();Il(i,r.measurePageBox()),Dl(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}}return Hc(this.latestValues)&&Dl(t,this.latestValues),t}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}},{key:"setOptions",value:function(e){this.options=_i(_i(_i({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"forceRelativeParentToResolveTarget",value:function(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}},{key:"resolveTargetDelta",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);var r=Boolean(this.resumingFrom)||this!==n;if(!!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget)){var i=this.options,a=i.layout,o=i.layoutId;if(this.layout&&(a||o)){if(this.resolvedRelativeTargetAt=lo.timestamp,!this.targetDelta&&!this.relativeTarget){var s=this.getClosestProjectingParent();s&&s.layout&&1!==this.animationProgress?(this.relativeParent=s,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bc(),this.relativeTargetOrigin=Bc(),Oc(this.relativeTargetOrigin,this.layout.layoutBox,s.layout.layoutBox),Il(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var u,c,l;if(this.target||(this.target=Bc(),this.targetWithTransforms=Bc()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u=this.target,c=this.relativeTarget,l=this.relativeParent.target,Rc(u.x,c.x,l.x),Rc(u.y,c.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Il(this.target,this.layout.layoutBox),Jc(this.target,this.targetDelta)):Il(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var h=this.getClosestProjectingParent();h&&Boolean(h.resumingFrom)===Boolean(this.resumingFrom)&&!h.options.layoutScroll&&h.target&&1!==this.animationProgress?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bc(),this.relativeTargetOrigin=Bc(),Oc(this.relativeTargetOrigin,this.target,h.target),Il(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wl.resolvedTargetDeltas++}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!Kc(this.parent.latestValues)&&!Gc(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}},{key:"isProjecting",value:function(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}},{key:"calcProjection",value:function(){var e,t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===lo.timestamp&&(r=!1),!r){var i=this.options,a=i.layout,o=i.layoutId;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(a||o)){Il(this.layoutCorrected,this.layout.layoutBox);var s=this.treeScale.x,u=this.treeScale.y;!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n.length;if(i){var a,o;t.x=t.y=1;for(var s=0;s<i;s++){o=(a=n[s]).projectionDelta;var u=a.instance;u&&u.style&&"contents"===u.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&il(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Jc(e,o)),r&&Hc(a.latestValues)&&il(e,a.latestValues))}t.x=Zc(t.x),t.y=Zc(t.y)}}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);var c=t.target;if(c){this.projectionDelta||(this.projectionDelta=Uc(),this.projectionDeltaWithTransform=Uc());var l=this.projectionTransform;Ac(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=Vl(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===s&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),Wl.recalculatedProjection++}else this.projectionTransform&&(this.projectionDelta=Uc(),this.projectionTransform="none",this.scheduleRender())}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){var t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.snapshot,i=r?r.latestValues:{},a=_i({},this.latestValues),o=Uc();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;var s,u=Bc(),c=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),h=!l||l.members.length<=1,f=Boolean(c&&!h&&!0===this.options.crossfade&&!this.path.some(sh));this.animationProgress=0,this.mixTargetDelta=function(n){var r=n/1e3;ah(o.x,e.x,r),ah(o.y,e.y,r),t.setTargetDelta(o),t.relativeTarget&&t.relativeTargetOrigin&&t.layout&&t.relativeParent&&t.relativeParent.layout&&(Oc(u,t.layout.layoutBox,t.relativeParent.layout.layoutBox),function(e,t,n,r){oh(e.x,t.x,n.x,r),oh(e.y,t.y,n.y,r)}(t.relativeTarget,t.relativeTargetOrigin,u,r),s&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(t.relativeTarget,s)&&(t.isProjectionDirty=!1),s||(s=Bc()),Il(s,t.relativeTarget)),c&&(t.animationValues=a,function(e,t,n,r,i,a){i?(e.opacity=Cs(0,void 0!==n.opacity?n.opacity:1,Sl(r)),e.opacityExit=Cs(void 0!==t.opacity?t.opacity:1,0,El(r))):a&&(e.opacity=Cs(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(var o=0;o<bl;o++){var s="border".concat(kl[o],"Radius"),u=xl(t,s),c=xl(n,s);void 0===u&&void 0===c||(u||(u=0),c||(c=0),0===u||0===c||_l(u)===_l(c)?(e[s]=Math.max(Cs(wl(u),wl(c),r),0),(ga.test(c)||ga.test(u))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=Cs(t.rotate||0,n.rotate||0,r))}(a,i,t.latestValues,r,f,h)),t.root.scheduleUpdateProjection(),t.scheduleRender(),t.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}},{key:"startAnimation",value:function(e){var t=this;this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(co(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=uo.update((function(){fl.hasAnimatedSinceResize=!0,t.currentAnimation=function(e,t,n){var r=ea(e)?e:$u(e);return r.start(qu("",r,t,n)),r.animation}(0,1e3,_i(_i({},e),{},{onUpdate:function(n){t.mixTargetDelta(n),e.onUpdate&&e.onUpdate(n)},onComplete:function(){e.onComplete&&e.onComplete(),t.completeAnimation()}})),t.resumingFrom&&(t.resumingFrom.currentAnimation=t.currentAnimation),t.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);var e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&fh(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||Bc();var a=Ic(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+a;var o=Ic(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+o}Il(t,n),il(t,i),Ac(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Fl),this.sharedNodes.get(e).add(t);var n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,n=e.latestValues;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),t){for(var r={},i=0;i<ql.length;i++){var a="rotate"+ql[i];n[a]&&(r[a]=n[a],e.setStaticValue(a,0))}for(var o in e.render(),r)e.setStaticValue(o,r[o]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";var i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=eo(n.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;var a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){var o={};return this.options.layoutId&&(o.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,o.pointerEvents=eo(n.pointerEvents)||""),this.hasProjected&&!Hc(this.latestValues)&&(o.transform=i?i({},""):"none",this.hasProjected=!1),o}var s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=Vl(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));var u=this.projectionDelta,c=u.x,l=u.y;for(var h in r.transformOrigin="".concat(100*c.origin,"% ").concat(100*l.origin,"% 0"),a.animationValues?r.opacity=a===this?null!==(t=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==t?t:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,$i)if(void 0!==s[h]){var f=$i[h],d=f.correct,p=f.applyTo,v="none"===r.transform?s[h]:d(s[h],a);if(p)for(var m=p.length,y=0;y<m;y++)r[p[y]]=v;else r[h]=v}return this.options.layoutId&&(r.pointerEvents=a===this?eo(n.pointerEvents)||"":"none"),r}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Xl),this.root.sharedNodes.clear()}}]),e}()}function Hl(e){e.updateLayout()}function Gl(e){var t,n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){var r=e.layout,i=r.layoutBox,a=r.measuredBox,o=e.options.animationType,s=n.source!==e.layout.source;"size"===o?qc((function(e){var t=s?n.measuredBox[e]:n.layoutBox[e],r=Ic(t);t.min=i[e].min,t.max=t.min+r})):fh(o,n.layoutBox,i)&&qc((function(t){var r=s?n.measuredBox[t]:n.layoutBox[t],a=Ic(i[t]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[t].max=e.relativeTarget[t].min+a)}));var u=Uc();Ac(u,i,n.layoutBox);var c=Uc();s?Ac(c,e.applyTransform(a,!0),n.measuredBox):Ac(c,i,n.layoutBox);var l=!jl(u),h=!1;if(!e.resumeFrom){var f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){var d=f.snapshot,p=f.layout;if(d&&p){var v=Bc();Oc(v,n.layoutBox,d.layoutBox);var m=Bc();Oc(m,i,p.layoutBox),Ll(v,m)||(h=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:l,hasRelativeTargetChanged:h})}else if(e.isLead()){var y=e.options.onExitComplete;y&&y()}e.options.transition=void 0}function Ql(e){Wl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Yl(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $l(e){e.clearSnapshot()}function Xl(e){e.clearMeasurements()}function Jl(e){e.isLayoutDirty=!1}function Zl(e){var t=e.options.visualElement;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function eh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function th(e){e.resolveTargetDelta()}function nh(e){e.calcProjection()}function rh(e){e.resetRotation()}function ih(e){e.removeLeadSnapshot()}function ah(e,t,n){e.translate=Cs(t.translate,0,n),e.scale=Cs(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function oh(e,t,n,r){e.min=Cs(t.min,n.min,r),e.max=Cs(t.max,n.max,r)}function sh(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var uh={duration:.45,ease:[.4,0,.1,1]},ch=function(e){return"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e)},lh=ch("applewebkit/")&&!ch("chrome/")?Math.round:io;function hh(e){e.min=lh(e.min),e.max=lh(e.max)}function fh(e,t,n){return"position"===e||"preserve-aspect"===e&&!Pc(Ml(t),Ml(n),.2)}var dh=Kl({attachResizeListener:function(e,t){return vo(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),ph={current:void 0},vh=Kl({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!ph.current){var e=new dh({});e.mount(window),e.setOptions({layoutScroll:!0}),ph.current=e}return ph.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),mh={pan:{Feature:hl},drag:{Feature:cl,ProjectionNode:vh,MeasureLayout:yl}};var yh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var gh=4;function kh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Go(n<=gh,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var r=function(e){var t=yh.exec(e);if(!t)return[,];var n=yn(t,3);return[n[1],n[2]]}(e),i=yn(r,2),a=i[0],o=i[1];if(a){var s=window.getComputedStyle(t).getPropertyValue(a);if(s){var u=s.trim();return Wu(u)?parseFloat(u):u}return aa(o)?kh(o,t,n+1):o}}function bh(e,t,n){var r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var a in n&&(n=_i({},n)),e.values.forEach((function(e){var t=e.get();if(aa(t)){var n=kh(t,i);n&&e.set(n)}})),r){var o=r[a];if(aa(o)){var s=kh(o,i);s&&(r[a]=s,n||(n={}),void 0===n[a]&&(n[a]=o))}}return{target:r,transitionEnd:n}}var wh=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),_h=function(e){return wh.has(e)},xh=function(e){return e===ua||e===ka},Sh=function(e,t){return parseFloat(e.split(", ")[t])},Eh=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return Sh(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?Sh(o[1],e):0}},Th=new Set(["x","y","z"]),Ch=Xi.filter((function(e){return!Th.has(e)}));var Ih={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:Eh(4,13),y:Eh(5,14)};Ih.translateX=Ih.x,Ih.translateY=Ih.y;var Ph=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=_i({},t),r=_i({},r);var i=Object.keys(t).filter(_h),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],h=Zu(l),f=t[i];if(Xa(f)){var d=f.length,p=null===f[0]?1:0;l=f[p],h=Zu(l);for(var v=p;v<d&&null!==f[v];v++)c?Go(Zu(f[v])===c,"All keyframes must be of the same type"):(c=Zu(f[v]),Go(c===h||xh(h)&&xh(c),"Keyframes must be of the same dimension as the current value"))}else c=Zu(f);if(h!==c)if(xh(h)&&xh(c)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof f?t[i]=parseFloat(f):Array.isArray(f)&&c===ka&&(t[i]=f.map(parseFloat))}else(null===h||void 0===h?void 0:h.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===f)?0===l?u.set(c.transform(l)):t[i]=h.transform(f):(o||(a=function(e){var t=[];return Ch.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],u.jump(f))}})),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,c=function(e,t,n){var r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=Ih[e](r,a)})),t.render();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);r&&r.jump(s[n]),e[n]=Ih[n](u,a)})),e}(t,e,s);return a.length&&a.forEach((function(t){var n=yn(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.render(),Ti&&null!==u&&window.scrollTo({top:u}),{target:c,transitionEnd:r}}return{target:t,transitionEnd:r}};function Nh(e,t,n,r){return function(e){return Object.keys(e).some(_h)}(t)?Ph(e,t,n,r):{target:t,transitionEnd:r}}var Ah={current:null},Rh={current:!1};var Dh=new WeakMap,Oh=["willChange"],jh=["children"],Lh=Object.keys(Vi),Mh=Lh.length,Fh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Vh=Di.length,Uh=function(){function e(t){var n=this,r=t.parent,i=t.props,a=t.presenceContext,o=t.reducedMotionConfig,s=t.visualState,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tn(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return n.notify("Update",n.latestValues)},this.render=function(){n.current&&(n.triggerBuild(),n.renderInstance(n.current,n.renderState,n.props.style,n.projection))},this.scheduleRender=function(){return uo.render(n.render,!1,!0)};var c=s.latestValues,l=s.renderState;this.latestValues=c,this.baseTarget=_i({},c),this.initialValues=i.initial?_i({},c):{},this.renderState=l,this.parent=r,this.props=i,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.isControllingVariants=Oi(i),this.isVariantNode=ji(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(r&&r.current);var h=this.scrapeMotionValuesFromProps(i,{}),f=h.willChange,d=Oa(h,Oh);for(var p in d){var v=d[p];void 0!==c[p]&&ea(v)&&(v.set(c[p],!1),zu(f)&&f.add(p))}}return on(e,[{key:"scrapeMotionValuesFromProps",value:function(e,t){return{}}},{key:"mount",value:function(e){var t=this;this.current=e,Dh.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((function(e,n){return t.bindToMotionValue(n,e)})),Rh.current||function(){if(Rh.current=!0,Ti)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return Ah.current=e.matches};e.addListener(t),t()}else Ah.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ah.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}},{key:"unmount",value:function(){for(var e in Dh.delete(this.current),this.projection&&this.projection.unmount(),co(this.notifyUpdate),co(this.render),this.valueSubscriptions.forEach((function(e){return e()})),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(var t in this.features)this.features[t].unmount();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var n=this,r=Ji.has(e),i=t.on("change",(function(t){n.latestValues[e]=t,n.props.onUpdate&&uo.update(n.notifyUpdate,!1,!0),r&&n.projection&&(n.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(function(){i(),a()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,t,n,r){for(var i,a,o=this,s=(e.children,Oa(e,jh)),u=0;u<Mh;u++){var c=Lh[u],l=Vi[c],h=l.isEnabled,f=l.Feature,d=l.ProjectionNode,p=l.MeasureLayout;d&&(i=d),h(s)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(a=p))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);var v=s.layoutId,m=s.layout,y=s.drag,g=s.dragConstraints,k=s.layoutScroll,b=s.layoutRoot;this.projection.setOptions({layoutId:v,layout:m,alwaysMeasureLayout:Boolean(y)||g&&Pi(g),visualElement:this,scheduleRender:function(){return o.scheduleRender()},animationType:"string"===typeof m?m:"both",initialPromotionConfig:r,layoutScroll:k,layoutRoot:b})}return a}},{key:"updateFeatures",value:function(){for(var e in this.features){var t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bc()}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}},{key:"update",value:function(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(var n=0;n<Fh.length;n++){var r=Fh[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);var i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,t,n){var r=t.willChange;for(var i in t){var a=t[i],o=n[i];if(ea(a))e.addValue(i,a),zu(r)&&r.add(i);else if(ea(o))e.addValue(i,$u(a,{owner:e})),zu(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{var u=e.getStaticValue(i);e.addValue(i,$u(void 0!==u?u:a,{owner:e}))}}for(var c in n)void 0===t[c]&&e.removeValue(c);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){return this.props.variants?this.props.variants[e]:void 0}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}},{key:"getVariantContext",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){var e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}for(var t={},n=0;n<Vh;n++){var r=Di[n],i=this.props[r];(Ni(i)||!1===i)&&(t[r]=i)}return t}},{key:"addVariantChild",value:function(e){var t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),function(){return t.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}},{key:"removeValue",value:function(e){this.values.delete(e);var t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=$u(t,{owner:this}),this.addValue(e,n)),n}},{key:"readValue",value:function(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,n=this.props.initial,r="string"===typeof n||"object"===typeof n?null===(t=$a(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;var i=this.getBaseTargetFromProps(this.props,e);return void 0===i||ea(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new Gu),this.events[e].add(t)}},{key:"notify",value:function(e){if(this.events[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.events[e]).notify.apply(t,r)}}}]),e}(),Bh=["transition","transitionEnd"],qh=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){return e.style?e.style[t]:void 0}},{key:"removeValueFromRenderState",value:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t,n){var r=e.transition,i=e.transitionEnd,a=Oa(e,Bh),o=t.transformValues,s=function(e,t,n){var r={};for(var i in e){var a=ac(i,t);if(void 0!==a)r[i]=a;else{var o=n.getValue(i);o&&(r[i]=o.get())}}return r}(a,r||{},this);if(o&&(i&&(i=o(i)),a&&(a=o(a)),s&&(s=o(s))),n){!function(e,t,n){var r,i,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=a.length;if(o)for(var s=0;s<o;s++){var u=a[s],c=t[u],l=null;Array.isArray(c)&&(l=c[0]),null===l&&(l=null!==(i=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==i?i:t[u]),void 0!==l&&null!==l&&("string"===typeof l&&(Wu(l)||Fu(l))?l=parseFloat(l):!tc(l)&&Bs.test(c)&&(l=Mu(u,c)),e.addValue(u,$u(l,{owner:e})),void 0===n[u]&&(n[u]=l),null!==l&&e.setBaseTarget(u,l))}}(this,a,s);var u=function(e,t,n,r){var i=bh(e,t,r);return Nh(e,t=i.target,n,r=i.transitionEnd)}(this,a,s,i);i=u.transitionEnd,a=u.target}return _i({transition:r,transitionEnd:i},a)}}]),n}(Uh);var zh=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"readValueFromInstance",value:function(e,t){if(Ji.has(t)){var n=Lu(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),a=(ia(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a}},{key:"measureInstanceViewportBox",value:function(e,t){return al(e,t.transformPagePoint)}},{key:"build",value:function(e,t,n,r){Ea(e,t,n,r.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return Qa(e,t)}},{key:"handleChildMotionValue",value:function(){var e=this;this.childSubscription&&(this.childSubscription(),delete this.childSubscription);var t=this.props.children;ea(t)&&(this.childSubscription=t.on("change",(function(t){e.current&&(e.current.textContent="".concat(t))})))}},{key:"renderInstance",value:function(e,t,n,r){Ka(e,t,n,r)}}]),n}(qh);function Wh(){return Wh="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Wh.apply(this,arguments)}var Kh=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.apply(this,arguments)).isSVGTag=!1,e}return on(n,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){if(Ji.has(t)){var n=Lu(t);return n&&n.default||0}return t=Ha.has(t)?t:Wa(t),e.getAttribute(t)}},{key:"measureInstanceViewportBox",value:function(){return Bc()}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return Ya(e,t)}},{key:"build",value:function(e,t,n,r){Va(e,t,n,this.isSVGTag,r.transformTemplate)}},{key:"renderInstance",value:function(e,t,n,r){Ga(e,t,0,r)}},{key:"mount",value:function(e){this.isSVGTag=Ba(e.tagName),Wh(cn(n.prototype),"mount",this).call(this,e)}}]),n}(qh),Hh=function(e,t){return Yi(e)?new Kh(t,{enableHardwareAcceleration:!1}):new zh(t,{enableHardwareAcceleration:!0})},Gh={layout:{ProjectionNode:vh,MeasureLayout:yl}},Qh=_i(_i(_i(_i({},kc),qo),mh),Gh),Yh=Gi((function(e,t){return function(e,t,n,r){var i=t.forwardMotionProps,a=void 0!==i&&i;return _i(_i({},Yi(e)?fo:po),{},{preloadedFeatures:n,useRender:za(a),createVisualElement:r,Component:e})}(e,t,Qh,Hh)}));var $h=[{image:"https://images.bewakoof.com/uploads/grid/app/1x1-static-parachute-01--1--1697112503.jpg"},{image:"https://images.bewakoof.com/uploads/grid/app/Oversized-Tshirts-Starts-399-1x1-banner-1696651438.jpg"},{image:"https://images.bewakoof.com/uploads/grid/app/1X1-teesundr399-Offer-1697005855.jpg"},{image:"https://images.bewakoof.com/uploads/grid/app/-x1-Banner-Sweatshirts-and-Hoodies---1--1697453139.jpg"},{image:"https://images.bewakoof.com/uploads/grid/app/1x1-b31199-1696669433.jpg"},{image:"https://images.pexels.com/photos/2847527/pexels-photo-2847527.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"}],Xh=function(e){var n=e.image2,r=yn((0,t.useState)(0),2),i=r[0],a=r[1],o=(0,t.useRef)();return(0,t.useEffect)((function(){a(o.current.scrollWidth-o.current.offsetWidth)}),[]),(0,pi.jsx)(pi.Fragment,{children:(0,pi.jsx)("div",{id:"a",children:(0,pi.jsx)(Yh.div,{ref:o,className:"carousell",whileTap:{cursor:"grabbing"},children:(0,pi.jsx)(Yh.div,{drag:"x",dragConstraints:{right:0,left:-i},className:"inner-carousell",children:n.map((function(e,t){return(0,pi.jsx)(Yh.div,{className:"item",children:(0,pi.jsx)("img",{src:e.image,alt:"imgs"})},t)}))})})})})},Jh=function(){return(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("div",{className:"trendy",children:(0,pi.jsx)("h1",{children:"Latest Products"})}),(0,pi.jsxs)("div",{className:"container",children:[(0,pi.jsx)("div",{className:"center",children:(0,pi.jsxs)("div",{className:"card",children:[(0,pi.jsx)("img",{src:"https://images.pexels.com/photos/16904693/pexels-photo-16904693/free-photo-of-woman-posing-in-pink-shirt.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"product"}),(0,pi.jsx)("div",{className:"card-title",children:(0,pi.jsx)("h3",{children:"product name"})}),(0,pi.jsxs)("div",{className:"card-details",children:[(0,pi.jsx)("button",{children:"buy"}),(0,pi.jsx)("button",{children:"cart"}),(0,pi.jsxs)("div",{className:"details",children:[(0,pi.jsx)("h1",{children:"product name"}),(0,pi.jsxs)("h2",{children:["price",(0,pi.jsx)("span",{children:" $80"})]})]})]})]})}),(0,pi.jsx)("div",{className:"center",children:(0,pi.jsxs)("div",{className:"card",children:[(0,pi.jsx)("img",{src:"https://images.pexels.com/photos/16017594/pexels-photo-16017594/free-photo-of-portrait-of-smiling-woman.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"product"}),(0,pi.jsx)("div",{className:"card-title",children:(0,pi.jsx)("h3",{children:"product name"})}),(0,pi.jsxs)("div",{className:"card-details",children:[(0,pi.jsx)("button",{children:"buy"}),(0,pi.jsx)("button",{children:"cart"}),(0,pi.jsxs)("div",{className:"details",children:[(0,pi.jsx)("h1",{children:"product name"}),(0,pi.jsxs)("h2",{children:["price",(0,pi.jsx)("span",{children:" $80"})]})]})]})]})}),(0,pi.jsx)("div",{className:"center",children:(0,pi.jsxs)("div",{className:"card",children:[(0,pi.jsx)("img",{src:"https://images.pexels.com/photos/12223289/pexels-photo-12223289.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"product"}),(0,pi.jsx)("div",{className:"card-title",children:(0,pi.jsx)("h3",{children:"product name"})}),(0,pi.jsxs)("div",{className:"card-details",children:[(0,pi.jsx)("button",{children:"buy"}),(0,pi.jsx)("button",{children:"cart"}),(0,pi.jsxs)("div",{className:"details",children:[(0,pi.jsx)("h1",{children:"product name"}),(0,pi.jsxs)("h2",{children:["price",(0,pi.jsx)("span",{children:" $80"})]})]})]})]})})]}),(0,pi.jsx)("br",{}),(0,pi.jsx)("br",{})]})};function Zh(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Zh(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var ef=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Zh(e))&&(r&&(r+=" "),r+=t);return r},tf=["theme","type"],nf=["delay","staleId"],rf=function(e){return"number"==typeof e&&!isNaN(e)},af=function(e){return"string"==typeof e},of=function(e){return"function"==typeof e},sf=function(e){return af(e)||of(e)?e:null},uf=function(e){return(0,t.isValidElement)(e)||af(e)||of(e)||rf(e)};function cf(e){var n=e.enter,r=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,s=void 0===o||o,u=e.collapseDuration,c=void 0===u?300:u;return function(e){var i=e.children,o=e.position,u=e.preventExitTransition,l=e.done,h=e.nodeRef,f=e.isIn,d=a?"".concat(n,"--").concat(o):n,p=a?"".concat(r,"--").concat(o):r,v=(0,t.useRef)(0);return(0,t.useLayoutEffect)((function(){var e,t=h.current,n=d.split(" "),r=function e(r){var i;r.target===h.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===v.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,en(n)))};(e=t.classList).add.apply(e,en(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,t.useEffect)((function(){var e=h.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};f||(u?t():(v.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))}),[f]),t.createElement(t.Fragment,null,i)}}function lf(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}var hf={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,en([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},ff=function(e){var n=e.theme,r=e.type,i=Oa(e,tf);return t.createElement("svg",_i({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},i))},df={info:function(e){return t.createElement(ff,_i({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(ff,_i({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(ff,_i({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(ff,_i({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function pf(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=yn(n,2)[1],i=yn((0,t.useState)([]),2),a=i[0],o=i[1],s=(0,t.useRef)(null),u=(0,t.useRef)(new Map).current,c=function(e){return-1!==a.indexOf(e)},l=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(e){return u.get(e)}}).current;function h(e){var t=e.containerId;!l.props.limit||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function f(e){o((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function d(){var e=l.queue.shift();v(e.toastContent,e.toastProps,e.staleId)}function p(e,n){var i=n.delay,a=n.staleId,o=Oa(n,nf);if(uf(e)&&!function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||u.has(e.toastId)&&null==e.updateId}(o)){var c=o.toastId,h=o.updateId,p=o.data,m=l.props,y=function(){return f(c)},g=null==h;g&&l.count++;var k,b,w=_i(_i(_i({},m),{},{style:m.toastStyle,key:l.toastKey++},Object.fromEntries(Object.entries(o).filter((function(e){var t=yn(e,2);t[0];return null!=t[1]})))),{},{toastId:c,updateId:h,data:p,closeToast:y,isIn:!1,className:sf(o.className||m.toastClassName),bodyClassName:sf(o.bodyClassName||m.bodyClassName),progressClassName:sf(o.progressClassName||m.progressClassName),autoClose:!o.isLoading&&(k=o.autoClose,b=m.autoClose,!1===k||rf(k)&&k>0?k:b),deleteToast:function(){var e=lf(u.get(c),"removed");u.delete(c),hf.emit(4,e);var t=l.queue.length;if(l.count=null==c?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),t>0){var n=null==c?l.props.limit:1;if(1===t||1===n)l.displayedToast++,d();else{var i=n>t?t:n;l.displayedToast=i;for(var a=0;a<i;a++)d()}}else r()}});w.iconOut=function(e){var n=e.theme,r=e.type,i=e.isLoading,a=e.icon,o=null,s={theme:n,type:r};return!1===a||(of(a)?o=a(s):(0,t.isValidElement)(a)?o=(0,t.cloneElement)(a,s):af(a)||rf(a)?o=a:i?o=df.spinner():function(e){return e in df}(r)&&(o=df[r](s))),o}(w),of(o.onOpen)&&(w.onOpen=o.onOpen),of(o.onClose)&&(w.onClose=o.onClose),w.closeButton=m.closeButton,!1===o.closeButton||uf(o.closeButton)?w.closeButton=o.closeButton:!0===o.closeButton&&(w.closeButton=!uf(m.closeButton)||m.closeButton);var _=e;(0,t.isValidElement)(e)&&!af(e.type)?_=(0,t.cloneElement)(e,{closeToast:y,toastProps:w,data:p}):of(e)&&(_=e({closeToast:y,toastProps:w,data:p})),m.limit&&m.limit>0&&l.count>m.limit&&g?l.queue.push({toastContent:_,toastProps:w,staleId:a}):rf(i)?setTimeout((function(){v(_,w,a)}),i):v(_,w,a)}}function v(e,t,n){var r=t.toastId;n&&u.delete(n);var i={content:e,props:t};u.set(r,i),o((function(e){return[].concat(en(e),[r]).filter((function(e){return e!==n}))})),hf.emit(4,lf(i,null==i.props.updateId?"added":"updated"))}return(0,t.useEffect)((function(){return l.containerId=e.containerId,hf.cancelEmit(3).on(0,p).on(1,(function(e){return s.current&&f(e)})).on(5,h).emit(2,l),function(){u.clear(),hf.emit(3,l)}}),[]),(0,t.useEffect)((function(){l.props=e,l.isToastActive=c,l.displayedToast=a.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(u.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:c}}function vf(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function mf(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function yf(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":a},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gf(e){var n=e.delay,r=e.isRunning,i=e.closeToast,a=e.type,o=void 0===a?"default":a,s=e.hide,u=e.className,c=e.style,l=e.controlledProgress,h=e.progress,f=e.rtl,d=e.isIn,p=e.theme,v=s||l&&0===h,m=_i(_i({},c),{},{animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused",opacity:v?0:1});l&&(m.transform="scaleX(".concat(h,")"));var y=ef("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":f}),g=of(u)?u({rtl:f,type:o,defaultClassName:y}):ef(y,u);return t.createElement("div",Qr({role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:g,style:m},l&&h>=1?"onTransitionEnd":"onAnimationEnd",l&&h<1?null:function(){d&&i()}))}var kf=function(e){var n=function(e){var n=yn((0,t.useState)(!1),2),r=n[0],i=n[1],a=yn((0,t.useState)(!1),2),o=a[0],s=a[1],u=(0,t.useRef)(null),c=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,t.useRef)(e),h=e.autoClose,f=e.pauseOnHover,d=e.closeToast,p=e.onClick,v=e.closeOnClick;function m(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),c.didMove=!1,document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),document.addEventListener("touchmove",b),document.addEventListener("touchend",w);var n=u.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=vf(t.nativeEvent),c.y=mf(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(t){if(c.boundingRect){var n=c.boundingRect,r=n.top,i=n.bottom,a=n.left,o=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&c.x>=a&&c.x<=o&&c.y>=r&&c.y<=i?k():g()}}function g(){i(!0)}function k(){i(!1)}function b(t){var n=u.current;c.canDrag&&n&&(c.didMove=!0,r&&k(),c.x=vf(t),c.y=mf(t),c.delta="x"===e.draggableDirection?c.x-c.start:c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),n.style.transform="translate".concat(e.draggableDirection,"(").concat(c.delta,"px)"),n.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function w(){document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",w);var t=u.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,t.useEffect)((function(){l.current=e})),(0,t.useEffect)((function(){return u.current&&u.current.addEventListener("d",g,{once:!0}),of(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=l.current;of(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||k(),window.addEventListener("focus",g),window.addEventListener("blur",k)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",k))}}),[e.pauseOnFocusLoss]);var _={onMouseDown:m,onTouchStart:m,onMouseUp:y,onTouchEnd:y};return h&&f&&(_.onMouseEnter=k,_.onMouseLeave=g),v&&(_.onClick=function(e){p&&p(e),c.canCloseOnClick&&d()}),{playToast:g,pauseToast:k,isRunning:r,preventExitTransition:o,toastRef:u,eventHandlers:_}}(e),r=n.isRunning,i=n.preventExitTransition,a=n.toastRef,o=n.eventHandlers,s=e.closeButton,u=e.children,c=e.autoClose,l=e.onClick,h=e.type,f=e.hideProgressBar,d=e.closeToast,p=e.transition,v=e.position,m=e.className,y=e.style,g=e.bodyClassName,k=e.bodyStyle,b=e.progressClassName,w=e.progressStyle,_=e.updateId,x=e.role,S=e.progress,E=e.rtl,T=e.toastId,C=e.deleteToast,I=e.isIn,P=e.isLoading,N=e.iconOut,A=e.closeOnClick,R=e.theme,D=ef("Toastify__toast","Toastify__toast-theme--".concat(R),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":A}),O=of(m)?m({rtl:E,position:v,type:h,defaultClassName:D}):ef(D,m),j=!!S||!c,L={closeToast:d,type:h,theme:R},M=null;return!1===s||(M=of(s)?s(L):(0,t.isValidElement)(s)?(0,t.cloneElement)(s,L):yf(L)),t.createElement(p,{isIn:I,done:C,position:v,preventExitTransition:i,nodeRef:a},t.createElement("div",_i(_i({id:T,onClick:l,className:O},o),{},{style:y,ref:a}),t.createElement("div",_i(_i({},I&&{role:x}),{},{className:of(g)?g({type:h}):ef("Toastify__toast-body",g),style:k}),null!=N&&t.createElement("div",{className:ef("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},N),t.createElement("div",null,u)),M,t.createElement(gf,_i(_i({},_&&!j?{key:"pb-".concat(_)}:{}),{},{rtl:E,theme:R,delay:c,isRunning:r,isIn:I,closeToast:d,hide:f,type:h,style:w,className:b,controlledProgress:j,progress:S||0}))))},bf=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},wf=cf(bf("bounce",!0)),_f=(cf(bf("slide",!0)),cf(bf("zoom")),cf(bf("flip")),(0,t.forwardRef)((function(e,n){var r=pf(e),i=r.getToastToRender,a=r.containerRef,o=r.isToastActive,s=e.className,u=e.style,c=e.rtl,l=e.containerId;function h(e){var t=ef("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":c});return of(s)?s({position:e,rtl:c,defaultClassName:t}):ef(t,sf(s))}return(0,t.useEffect)((function(){n&&(n.current=a.current)}),[]),t.createElement("div",{ref:a,className:"Toastify",id:l},i((function(e,n){var r=n.length?_i({},u):_i(_i({},u),{},{pointerEvents:"none"});return t.createElement("div",{className:h(e),style:r,key:"container-".concat(e)},n.map((function(e,r){var i=e.content,a=e.props;return t.createElement(kf,_i(_i({},a),{},{isIn:o(a.toastId),style:_i(_i({},a.style),{},{"--nth":r+1,"--len":n.length}),key:"toast-".concat(a.key)}),i)})))})))})));_f.displayName="ToastContainer",_f.defaultProps={position:"top-right",transition:wf,autoClose:5e3,closeButton:yf,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var xf,Sf=new Map,Ef=[],Tf=1;function Cf(){return""+Tf++}function If(e){return e&&(af(e.toastId)||rf(e.toastId))?e.toastId:Cf()}function Pf(e,t){return Sf.size>0?hf.emit(0,e,t):Ef.push({content:e,options:t}),t.toastId}function Nf(e,t){return _i(_i({},t),{},{type:t&&t.type||e,toastId:If(t)})}function Af(e){return function(t,n){return Pf(t,Nf(e,n))}}function Rf(e,t){return Pf(e,Nf("default",t))}function Df(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Of(e){return!!e&&!!e[xd]}function jf(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Sd}(e)||Array.isArray(e)||!!e[_d]||!!(null===(t=e.constructor)||void 0===t?void 0:t[_d])||qf(e)||zf(e))}function Lf(e,t,n){void 0===n&&(n=!1),0===Mf(e)?(n?Object.keys:Ed)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Mf(e){var t=e[xd];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:qf(e)?2:zf(e)?3:0}function Ff(e,t){return 2===Mf(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vf(e,t){return 2===Mf(e)?e.get(t):e[t]}function Uf(e,t,n){var r=Mf(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Bf(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function qf(e){return gd&&e instanceof Map}function zf(e){return kd&&e instanceof Set}function Wf(e){return e.o||e.t}function Kf(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Td(e);delete t[xd];for(var n=Ed(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Hf(e,t){return void 0===t&&(t=!1),Qf(e)||Of(e)||!jf(e)||(Mf(e)>1&&(e.set=e.add=e.clear=e.delete=Gf),Object.freeze(e),t&&Lf(e,(function(e,t){return Hf(t,!0)}),!0)),e}function Gf(){Df(2)}function Qf(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Yf(e){var t=Cd[e];return t||Df(18,e),t}function $f(e,t){Cd[e]||(Cd[e]=t)}function Xf(){return md}function Jf(e,t){t&&(Yf("Patches"),e.u=[],e.s=[],e.v=t)}function Zf(e){ed(e),e.p.forEach(nd),e.p=null}function ed(e){e===md&&(md=e.l)}function td(e){return md={p:[],l:md,h:e,m:!0,_:0}}function nd(e){var t=e[xd];0===t.i||1===t.i?t.j():t.g=!0}function rd(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Yf("ES5").S(t,e,r),r?(n[xd].P&&(Zf(t),Df(4)),jf(e)&&(e=id(t,e),t.l||od(t,e)),t.u&&Yf("Patches").M(n[xd].t,e,t.u,t.s)):e=id(t,n,[]),Zf(t),t.u&&t.v(t.u,t.s),e!==wd?e:void 0}function id(e,t,n){if(Qf(t))return t;var r=t[xd];if(!r)return Lf(t,(function(i,a){return ad(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return od(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Kf(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),Lf(a,(function(t,a){return ad(e,r,i,t,a,n,o)})),od(e,i,!1),n&&e.u&&Yf("Patches").N(r,n,e.u,e.s)}return r.o}function ad(e,t,n,r,i,a,o){if(Of(i)){var s=id(e,i,a&&t&&3!==t.i&&!Ff(t.R,r)?a.concat(r):void 0);if(Uf(n,r,s),!Of(s))return;e.m=!1}else o&&n.add(i);if(jf(i)&&!Qf(i)){if(!e.h.D&&e._<1)return;id(e,i),t&&t.A.l||od(e,i)}}function od(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&Hf(t,n)}function sd(e,t){var n=e[xd];return(n?Wf(n):e)[t]}function ud(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function cd(e){e.P||(e.P=!0,e.l&&cd(e.l))}function ld(e){e.o||(e.o=Kf(e.t))}function hd(e,t,n){var r=qf(t)?Yf("MapSet").F(t,n):zf(t)?Yf("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Xf(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Id;n&&(i=[r],a=Pd);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):Yf("ES5").J(t,n);return(n?n.A:Xf()).p.push(r),r}function fd(e){return Of(e)||Df(22,e),function e(t){if(!jf(t))return t;var n,r=t[xd],i=Mf(t);if(r){if(!r.P&&(r.i<4||!Yf("ES5").K(r)))return r.t;r.I=!0,n=dd(t,i),r.I=!1}else n=dd(t,i);return Lf(n,(function(t,i){r&&Vf(r.t,t)===i||Uf(n,t,e(i))})),3===i?new Set(n):n}(e)}function dd(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Kf(e)}function pd(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[xd];return Id.get(t,e)},set:function(t){var n=this[xd];Id.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][xd];if(!i.P)switch(i.i){case 5:r(i)&&cd(i);break;case 4:n(i)&&cd(i)}}}function n(e){for(var t=e.t,n=e.k,r=Ed(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==xd){var o=t[a];if(void 0===o&&!Ff(t,a))return!0;var s=n[a],u=s&&s[xd];if(u?u.t!==o:!Bf(s,o))return!0}}var c=!!t[xd];return r.length!==Ed(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};$f("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Td(n);delete a[xd];for(var o=Ed(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:Xf(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,xd,{value:a,writable:!0}),i},S:function(e,n,i){i?Of(n)&&n[xd].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[xd];if(n){var i=n.t,a=n.k,o=n.R,s=n.i;if(4===s)Lf(a,(function(t){t!==xd&&(void 0!==i[t]||Ff(i,t)?o[t]||e(a[t]):(o[t]=!0,cd(n)))})),Lf(i,(function(e){void 0!==a[e]||Ff(a,e)||(o[e]=!1,cd(n))}));else if(5===s){if(r(n)&&(cd(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),h=0;h<l;h++)a.hasOwnProperty(h)||(o[h]=!0),void 0===o[h]&&e(a[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}Rf.loading=function(e,t){return Pf(e,Nf("default",_i({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},Rf.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=af(i)?Rf.loading(i,n):Rf.loading(i.render,_i(_i({},n),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=function(e,t,i){if(null!=t){var a=_i(_i(_i({type:e},s),n),{},{data:i}),o=af(t)?{render:t}:t;return r?Rf.update(r,_i(_i({},a),o)):Rf(o.render,_i(_i({},a),o)),i}Rf.dismiss(r)},c=of(e)?e():e;return c.then((function(e){return u("success",o,e)})).catch((function(e){return u("error",a,e)})),c},Rf.success=Af("success"),Rf.info=Af("info"),Rf.error=Af("error"),Rf.warning=Af("warning"),Rf.warn=Rf.warning,Rf.dark=function(e,t){return Pf(e,Nf("default",_i({theme:"dark"},t)))},Rf.dismiss=function(e){Sf.size>0?hf.emit(1,e):Ef=Ef.filter((function(t){return null!=e&&t.options.toastId!==e}))},Rf.clearWaitingQueue=function(e){return void 0===e&&(e={}),hf.emit(5,e)},Rf.isActive=function(e){var t=!1;return Sf.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Rf.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=Sf.get(n||xf);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,i=n.content,a=_i(_i(_i({delay:100},r),t),{},{toastId:t.toastId||e,updateId:Cf()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,Pf(o,a)}}),0)},Rf.done=function(e){Rf.update(e,{progress:1})},Rf.onChange=function(e){return hf.on(4,e),function(){hf.off(4,e)}},Rf.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Rf.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},hf.on(2,(function(e){xf=e.containerId||e,Sf.set(xf,e),Ef.forEach((function(e){hf.emit(0,e.content,e.options)})),Ef=[]})).on(3,(function(e){Sf.delete(e.containerId||e),0===Sf.size&&hf.off(0).off(1).off(5)}));var vd,md,yd="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),gd="undefined"!=typeof Map,kd="undefined"!=typeof Set,bd="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,wd=yd?Symbol.for("immer-nothing"):((vd={})["immer-nothing"]=!0,vd),_d=yd?Symbol.for("immer-draftable"):"__$immer_draftable",xd=yd?Symbol.for("immer-state"):"__$immer_state",Sd=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Ed="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Td=Object.getOwnPropertyDescriptors||function(e){var t={};return Ed(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Cd={},Id={get:function(e,t){if(t===xd)return e;var n=Wf(e);if(!Ff(n,t))return function(e,t,n){var r,i=ud(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!jf(r)?r:r===sd(e.t,t)?(ld(e),e.o[t]=hd(e.A.h,r,e)):r},has:function(e,t){return t in Wf(e)},ownKeys:function(e){return Reflect.ownKeys(Wf(e))},set:function(e,t,n){var r=ud(Wf(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=sd(Wf(e),t),a=null==i?void 0:i[xd];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Bf(n,i)&&(void 0!==n||Ff(e.t,t)))return!0;ld(e),cd(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==sd(e.t,t)||t in e.t?(e.R[t]=!1,ld(e),cd(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Wf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Df(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Df(12)}},Pd={};Lf(Id,(function(e,t){Pd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Pd.deleteProperty=function(e,t){return Pd.set.call(this,e,t,void 0)},Pd.set=function(e,t,n){return Id.set.call(this,e[0],t,n,e[0])};var Nd=function(){function e(e){var t=this;this.O=bd,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&Df(6),void 0!==r&&"function"!=typeof r&&Df(7),jf(e)){var s=td(t),u=hd(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?Zf(s):ed(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return Jf(s,r),rd(e,s)}),(function(e){throw Zf(s),e})):(Jf(s,r),rd(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===wd&&(o=void 0),t.D&&Hf(o,!0),r){var l=[],h=[];Yf("Patches").M(e,o,l,h),r(l,h)}return o}Df(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){jf(e)||Df(8),Of(e)&&(e=fd(e));var t=td(this),n=hd(this,e,void 0);return n[xd].C=!0,ed(t),n},t.finishDraft=function(e,t){var n=(e&&e[xd]).A;return Jf(n,t),rd(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!bd&&Df(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Yf("Patches").$;return Of(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Ad=new Nd,Rd=Ad.produce,Dd=(Ad.produceWithPatches.bind(Ad),Ad.setAutoFreeze.bind(Ad),Ad.setUseProxies.bind(Ad),Ad.applyPatches.bind(Ad),Ad.createDraft.bind(Ad),Ad.finishDraft.bind(Ad),Rd);function Od(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var jd="function"===typeof Symbol&&Symbol.observable||"@@observable",Ld=function(){return Math.random().toString(36).substring(7).split("").join(".")},Md={INIT:"@@redux/INIT"+Ld(),REPLACE:"@@redux/REPLACE"+Ld(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ld()}};function Fd(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Vd(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Od(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Od(1));return n(Vd)(e,t)}if("function"!==typeof e)throw new Error(Od(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(Od(3));return a}function h(e){if("function"!==typeof e)throw new Error(Od(4));if(u)throw new Error(Od(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(Od(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function f(e){if(!Fd(e))throw new Error(Od(7));if("undefined"===typeof e.type)throw new Error(Od(8));if(u)throw new Error(Od(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:Md.INIT}),(r={dispatch:f,subscribe:h,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Od(10));i=e,f({type:Md.REPLACE})}})[jd]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Od(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[jd]=function(){return this},e},r}function Ud(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Md.INIT}))throw new Error(Od(12));if("undefined"===typeof n(void 0,{type:Md.PROBE_UNKNOWN_ACTION()}))throw new Error(Od(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],h=c(l,t);if("undefined"===typeof h){t&&t.type;throw new Error(Od(14))}i[u]=h,r=r||h!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Bd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function qd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Od(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Bd.apply(void 0,a)(n.dispatch),_i(_i({},n),{},{dispatch:r})}}}function zd(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Wd=zd();Wd.withExtraArgument=zd;var Kd=Wd,Hd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gd=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Qd=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Yd=Object.defineProperty,$d=Object.defineProperties,Xd=Object.getOwnPropertyDescriptors,Jd=Object.getOwnPropertySymbols,Zd=Object.prototype.hasOwnProperty,ep=Object.prototype.propertyIsEnumerable,tp=function(e,t,n){return t in e?Yd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},np=function(e,t){for(var n in t||(t={}))Zd.call(t,n)&&tp(e,n,t[n]);if(Jd)for(var r=0,i=Jd(t);r<i.length;r++){n=i[r];ep.call(t,n)&&tp(e,n,t[n])}return e},rp=function(e,t){return $d(e,Xd(t))},ip=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},ap="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Bd:Bd.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function op(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function sp(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return np(np({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var up=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Hd(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Qd([void 0],e[0].concat(this)))):new(t.bind.apply(t,Qd([void 0],e.concat(this))))},t}(Array),cp=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Hd(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Qd([void 0],e[0].concat(this)))):new(t.bind.apply(t,Qd([void 0],e.concat(this))))},t}(Array);function lp(e){return jf(e)?Dd(e,(function(){})):e}function hp(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new up);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Kd.withExtraArgument(n.extraArgument)):r.push(Kd));0;return r}(e)}}function fp(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var dp=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},pp=["name","message","stack","code"],vp=function(e,t){this.payload=e,this.meta=t},mp=function(e,t){this.payload=e,this.meta=t},yp=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=pp;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=sp(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:rp(np({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=sp(e+"/pending",(function(e,t,n){return{payload:void 0,meta:rp(np({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=sp(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||yp)(e||"Rejected"),meta:rp(np({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,h=(null==n?void 0:n.idGenerator)?n.idGenerator(e):dp(),f=new o;function d(e){l=e,f.abort()}var p=function(){return ip(this,null,(function(){var o,p,v,m,y,g;return Gd(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:c}),null===(b=m)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,m];case 1:m=k.sent(),k.label=2;case 2:if(!1===m||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(h,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:h,arg:e},{getState:u,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:h,signal:f.signal,abort:d,rejectWithValue:function(e,t){return new vp(e,t)},fulfillWithValue:function(e,t){return new mp(e,t)}})).then((function(t){if(t instanceof vp)throw t;return t instanceof mp?r(t.payload,h,e,t.meta):r(t,h,e)}))])];case 3:return v=k.sent(),[3,5];case 4:return g=k.sent(),v=g instanceof vp?a(null,h,e,g.payload,g.meta):a(g,h,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:d,requestId:h,arg:e,unwrap:function(){return p.then(gp)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function gp(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var kp="listenerMiddleware";sp(kp+"/add"),sp(kp+"/removeAll"),sp(kp+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var bp,wp,_p=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:_p(10);pd();var xp=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:lp(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?fp(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=np(np({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?fp(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return lp(e())};else{var c=lp(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=Qd([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(Of(e))return void 0===(r=n(e,t))?e:r;if(jf(e))return Dd(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?sp(c,r):sp(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"cart",initialState:null!==(wp=JSON.parse(localStorage.getItem("cart")))&&void 0!==wp?wp:[],reducers:{addToCart:function(e,t){e.push(t.payload)},deleteFromCart:function(e,t){return e.filter((function(e){return e.id!==t.payload.id}))}}}),Sp=xp.actions,Ep=Sp.addToCart,Tp=Sp.deleteFromCart,Cp=xp.reducer,Ip=function(){var e=(0,t.useContext)(gi).product,n=di(),r=ii((function(e){return e.cart}));console.log(r);return(0,t.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(r))}),[r]),(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("div",{className:"trendyy",children:(0,pi.jsx)("h1",{children:"New Arrivals"})}),(0,pi.jsx)("div",{className:"container",children:e.map((function(e,t,r){var i=e.title,a=e.price,o=(e.description,e.imageurl);e.category;return(0,pi.jsx)("div",{className:"product_row",children:(0,pi.jsxs)("div",{className:"main_product",children:[(0,pi.jsx)("div",{className:"pro_img",children:(0,pi.jsx)(Ur,{to:"/productinfo/".concat(r),className:"pro-link",children:(0,pi.jsx)("div",{className:"images",children:(0,pi.jsx)("img",{src:o,alt:"product"})})})}),(0,pi.jsxs)("div",{className:"cont",children:[(0,pi.jsxs)("div",{className:"review",children:[(0,pi.jsx)("i",{class:"ri-heart-fill"}),(0,pi.jsx)("i",{class:"ri-heart-fill"}),(0,pi.jsx)("i",{class:"ri-heart-fill"}),(0,pi.jsx)("i",{class:"ri-heart-fill"}),(0,pi.jsx)("i",{class:"ri-heart-fill"})]}),(0,pi.jsx)("div",{className:"pro_desc",children:(0,pi.jsx)("span",{children:i})}),(0,pi.jsxs)("div",{className:"price_shop",children:[(0,pi.jsx)("div",{className:"price",children:(0,pi.jsxs)("span",{children:["$",a]})}),(0,pi.jsx)("div",{className:"shop",children:(0,pi.jsx)("button",{onClick:function(){return function(e){n(Ep(e)),Rf.success("added to cart")}(e)},children:(0,pi.jsx)("i",{class:"ri-shopping-cart-line"})})})]})]})]})},t)}))})]})},Pp=function(){(0,t.useContext)(gi);return(0,pi.jsx)(pi.Fragment,{children:(0,pi.jsxs)(yi,{children:[(0,pi.jsx)(ki,{images:bi}),(0,pi.jsx)(Xh,{image2:$h}),(0,pi.jsx)(Jh,{}),(0,pi.jsx)(Ip,{})]})})},Np=function(){(0,t.useContext)(gi);var e=ii((function(e){return e.cart}));console.log(e);var n=di();(0,t.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(e))}),[e]);var r=yn((0,t.useState)(0),2),i=r[0],a=r[1];(0,t.useEffect)((function(){var t=0;e.forEach((function(e){t+=parseInt(e.price)})),a(t),console.log(t)}),[e]);var o=parseInt(100),s=o+i;return console.log("grandTotal"),(0,pi.jsx)(yi,{children:(0,pi.jsxs)("div",{className:"container-cart",children:[e.map((function(e,t){var r=e.title,i=e.price,a=e.description,o=e.imageurl;return(0,pi.jsxs)("div",{className:"dbba1",children:[(0,pi.jsxs)("div",{className:"bothh",children:[(0,pi.jsx)("div",{className:"img-dbba",children:(0,pi.jsx)("img",{src:o,alt:"img"})}),(0,pi.jsxs)("div",{className:"tit-dbba",children:[(0,pi.jsx)("h3",{children:r}),(0,pi.jsx)("p",{children:a}),(0,pi.jsx)("p",{children:i})]})]}),(0,pi.jsxs)("div",{className:"action-dbba",children:[(0,pi.jsx)(Ur,{children:(0,pi.jsx)("i",{onClick:function(){return function(e){n(Tp(e)),Rf.success("delete cart")}(e)},class:"ri-delete-bin-line"})}),(0,pi.jsx)(Ur,{children:(0,pi.jsx)("i",{class:"ri-arrow-right-circle-fill"})})]})]})})),(0,pi.jsxs)("div",{className:"dbba2",children:[(0,pi.jsxs)("div",{className:"boxxx",children:[(0,pi.jsxs)("div",{className:"head",children:[(0,pi.jsx)("h4",{children:"subtotal"}),(0,pi.jsx)("h4",{children:"shipping"}),(0,pi.jsx)("hr",{}),(0,pi.jsx)("h4",{children:"Total"})]}),(0,pi.jsxs)("div",{className:"head-val",children:[(0,pi.jsx)("h4",{children:i}),(0,pi.jsx)("h4",{children:o}),(0,pi.jsx)("hr",{}),(0,pi.jsx)("h3",{children:s})]})]}),(0,pi.jsx)("div",{className:"center-btn",children:(0,pi.jsx)(Ur,{children:"buy"})})]})]})})};function Ap(e){return function(t){return!!t.type&&t.type.tabsRole===e}}var Rp=Ap("Tab"),Dp=Ap("TabList"),Op=Ap("TabPanel");function jp(e,n){return t.Children.map(e,(function(e){return null===e?null:function(e){return Rp(e)||Dp(e)||Op(e)}(e)?n(e):e.props&&e.props.children&&"object"===typeof e.props.children?(0,t.cloneElement)(e,_i(_i({},e.props),{},{children:jp(e.props.children,n)})):e}))}function Lp(e,n){return t.Children.forEach(e,(function(e){null!==e&&(Rp(e)||Op(e)?n(e):e.props&&e.props.children&&"object"===typeof e.props.children&&(Dp(e)&&n(e),Lp(e.props.children,n)))}))}function Mp(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Mp(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var Fp=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Mp(e))&&(r&&(r+=" "),r+=t);return r};function Vp(e){var t=0;return Lp(e,(function(e){Rp(e)&&t++})),t}var Up,Bp=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function qp(e){return e&&"getAttribute"in e}function zp(e){return qp(e)&&e.getAttribute("data-rttab")}function Wp(e){return qp(e)&&"true"===e.getAttribute("aria-disabled")}var Kp={className:"react-tabs",focus:!1},Hp=function(e){var n=(0,t.useRef)([]),r=(0,t.useRef)([]),i=(0,t.useRef)();function a(t,n){t<0||t>=u()||(0,e.onSelect)(t,e.selectedIndex,n)}function o(e){for(var t=u(),n=e+1;n<t;n++)if(!Wp(c(n)))return n;for(var r=0;r<e;r++)if(!Wp(c(r)))return r;return e}function s(e){for(var t=e;t--;)if(!Wp(c(t)))return t;for(t=u();t-- >e;)if(!Wp(c(t)))return t;return e}function u(){return Vp(e.children)}function c(e){return n.current["tabs-".concat(e)]}function l(e){var t=e.target;do{if(h(t)){if(Wp(t))return;return void a([].slice.call(t.parentNode.children).filter(zp).indexOf(t),e)}}while(null!=(t=t.parentNode))}function h(e){if(!zp(e))return!1;var t=e.parentElement;do{if(t===i.current)return!0;if(t.getAttribute("data-rttabs"))break;t=t.parentElement}while(t);return!1}var f=_i(_i({},Kp),e),d=(f.children,f.className),p=(f.disabledTabClassName,f.domRef),v=(f.focus,f.forceRenderTabPanel,f.onSelect,f.selectedIndex,f.selectedTabClassName,f.selectedTabPanelClassName,f.environment,f.disableUpDownKeys,f.disableLeftRightKeys,Oa(f,Bp));return t.createElement("div",Object.assign({},v,{className:Fp(d),onClick:l,onKeyDown:function(t){var n=e.direction,r=e.disableUpDownKeys,i=e.disableLeftRightKeys;if(h(t.target)){var f=e.selectedIndex,d=!1,p=!1;"Space"!==t.code&&32!==t.keyCode&&"Enter"!==t.code&&13!==t.keyCode||(d=!0,p=!1,l(t)),(i||37!==t.keyCode&&"ArrowLeft"!==t.code)&&(r||38!==t.keyCode&&"ArrowUp"!==t.code)?(i||39!==t.keyCode&&"ArrowRight"!==t.code)&&(r||40!==t.keyCode&&"ArrowDown"!==t.code)?35===t.keyCode||"End"===t.code?(f=function(){for(var e=u();e--;)if(!Wp(c(e)))return e;return null}(),d=!0,p=!0):36!==t.keyCode&&"Home"!==t.code||(f=function(){for(var e=u(),t=0;t<e;t++)if(!Wp(c(t)))return t;return null}(),d=!0,p=!0):(f="rtl"===n?s(f):o(f),d=!0,p=!0):(f="rtl"===n?o(f):s(f),d=!0,p=!0),d&&t.preventDefault(),p&&a(f,t)}},ref:function(e){i.current=e,p&&p(e)},"data-rttabs":!0}),function(){var i=0,a=e.children,o=e.disabledTabClassName,s=e.focus,l=e.forceRenderTabPanel,h=e.selectedIndex,f=e.selectedTabClassName,d=e.selectedTabPanelClassName,p=e.environment;r.current=r.current||[];for(var v=r.current.length-u(),m=(0,t.useId)();v++<0;)r.current.push("".concat(m).concat(r.current.length));return jp(a,(function(e){var a=e;if(Dp(e)){var u=0,v=!1;null==Up&&function(e){var t=e||("undefined"!==typeof window?window:void 0);try{Up=!("undefined"===typeof t||!t.document||!t.document.activeElement)}catch(n){Up=!1}}(p);var m=p||("undefined"!==typeof window?window:void 0);Up&&m&&(v=t.Children.toArray(e.props.children).filter(Rp).some((function(e,t){return m.document.activeElement===c(t)}))),a=(0,t.cloneElement)(e,{children:jp(e.props.children,(function(e){var i="tabs-".concat(u),a=h===u,c={tabRef:function(e){n.current[i]=e},id:r.current[u],selected:a,focus:a&&(s||v)};return f&&(c.selectedClassName=f),o&&(c.disabledClassName=o),u++,(0,t.cloneElement)(e,c)}))})}else if(Op(e)){var y={id:r.current[i],selected:h===i};l&&(y.forceRender=l),d&&(y.selectedClassName=d),i++,a=(0,t.cloneElement)(e,y)}return a}))}())};Hp.propTypes={};var Gp=Hp,Qp=["children","defaultFocus","defaultIndex","focusTabOnClick","onSelect"],Yp={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},$p=function(e){var n=_i(_i({},Yp),e),r=n.children,i=n.defaultFocus,a=n.defaultIndex,o=n.focusTabOnClick,s=n.onSelect,u=Oa(n,Qp),c=yn((0,t.useState)(i),2),l=c[0],h=c[1],f=(0,t.useState)(function(e){return null===e.selectedIndex?1:0}(u)),d=yn(f,1)[0],p=yn((0,t.useState)(1===d?a||0:null),2),v=p[0],m=p[1];if((0,t.useEffect)((function(){h(!1)}),[]),1===d){var y=Vp(r);(0,t.useEffect)((function(){if(null!=v){var e=Math.max(0,y-1);m(Math.min(v,e))}}),[y])}var g=_i(_i({},e),u);return g.focus=l,g.onSelect=function(e,t,n){"function"===typeof s&&!1===s(e,t,n)||(o&&h(!0),1===d&&m(e))},null!=v&&(g.selectedIndex=v),delete g.defaultFocus,delete g.defaultIndex,delete g.focusTabOnClick,t.createElement(Gp,g,r)};$p.propTypes={},$p.tabsRole="Tabs";var Xp=$p,Jp=["children","className"],Zp={className:"react-tabs__tab-list"},ev=function(e){var n=_i(_i({},Zp),e),r=n.children,i=n.className,a=Oa(n,Jp);return t.createElement("ul",Object.assign({},a,{className:Fp(i),role:"tablist"}),r)};ev.tabsRole="TabList",ev.propTypes={};var tv=ev,nv=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"],rv="react-tabs__tab",iv={className:rv,disabledClassName:"".concat(rv,"--disabled"),focus:!1,id:null,selected:!1,selectedClassName:"".concat(rv,"--selected")},av=function(e){var n,r=(0,t.useRef)(),i=_i(_i({},iv),e),a=i.children,o=i.className,s=i.disabled,u=i.disabledClassName,c=i.focus,l=i.id,h=i.selected,f=i.selectedClassName,d=i.tabIndex,p=i.tabRef,v=Oa(i,nv);return(0,t.useEffect)((function(){h&&c&&r.current.focus()}),[h,c]),t.createElement("li",Object.assign({},v,{className:Fp(o,(n={},Qr(n,f,h),Qr(n,u,s),n)),ref:function(e){r.current=e,p&&p(e)},role:"tab",id:"tab".concat(l),"aria-selected":h?"true":"false","aria-disabled":s?"true":"false","aria-controls":"panel".concat(l),tabIndex:d||(h?"0":null),"data-rttab":!0}),a)};av.propTypes={},av.tabsRole="Tab";var ov=av,sv=["children","className","forceRender","id","selected","selectedClassName"],uv="react-tabs__tab-panel",cv={className:uv,forceRender:!1,selectedClassName:"".concat(uv,"--selected")},lv=function(e){var n=_i(_i({},cv),e),r=n.children,i=n.className,a=n.forceRender,o=n.id,s=n.selected,u=n.selectedClassName,c=Oa(n,sv);return t.createElement("div",Object.assign({},c,{className:Fp(i,Qr({},u,s)),role:"tabpanel",id:"panel".concat(o),"aria-labelledby":"tab".concat(o)}),a||s?r:null)};lv.tabsRole="TabPanel",lv.propTypes={};var hv=lv,fv=function(){var e=(0,t.useContext)(gi),n=e.product,r=e.edithandle,i=e.deleteProduct;return(0,pi.jsx)(pi.Fragment,{children:(0,pi.jsx)("div",{className:"container-dash",children:(0,pi.jsx)("div",{className:"box-dash",children:(0,pi.jsxs)(Xp,{defaultIndex:0,children:[(0,pi.jsxs)(tv,{className:"box-tab",children:[(0,pi.jsx)(ov,{children:(0,pi.jsxs)("div",{className:"product",children:[(0,pi.jsx)("div",{className:"pro",children:"Product"}),(0,pi.jsx)("i",{class:"ri-product-hunt-fill"})]})}),(0,pi.jsx)(ov,{children:(0,pi.jsxs)("div",{className:"order",children:[(0,pi.jsx)("div",{className:"pro",children:"Order"}),(0,pi.jsx)("i",{class:"ri-apps-fill"})]})}),(0,pi.jsx)(ov,{children:(0,pi.jsxs)("div",{className:"user",children:[(0,pi.jsx)("div",{className:"pro",children:"Users"}),(0,pi.jsx)("i",{class:"ri-user-fill"})]})})]}),(0,pi.jsx)(hv,{children:(0,pi.jsxs)("div",{className:"  px-4 md:px-0 mb-16",children:[(0,pi.jsx)("h3",{className:" text-center pro-det",children:"Product Details"}),(0,pi.jsx)("div",{className:"add-bt",onClick:function(){window.location.href="/addproduct"},children:(0,pi.jsx)("div",{className:"bt",children:"Add Product"})}),(0,pi.jsx)("div",{className:"tabl",children:(0,pi.jsxs)("table",{children:[(0,pi.jsx)("thead",{children:(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("th",{children:"S.No"}),(0,pi.jsx)("th",{children:"Image"}),(0,pi.jsx)("th",{children:"Title"}),(0,pi.jsx)("th",{children:"Price"}),(0,pi.jsx)("th",{children:"Category"}),(0,pi.jsx)("th",{children:"Description"}),(0,pi.jsx)("th",{children:"Date"}),(0,pi.jsx)("th",{children:"Action"})]})}),n.map((function(e,t){var n=e.title,a=e.price,o=e.imageurl,s=e.category,u=e.description,c=e.date;return(0,pi.jsx)("tbody",{className:"",children:(0,pi.jsxs)("tr",{className:"bg-gray-50 border-b  dark:border-gray-700",children:[(0,pi.jsxs)("td",{className:"px-6 py-4 text-black ",children:[t+1,"."]}),(0,pi.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-black whitespace-nowrap",children:(0,pi.jsx)("img",{className:"imagee",src:o,alt:"img"})}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:n}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:a}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:s}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:u}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:c}),(0,pi.jsx)("td",{className:"px-6 py-4",children:(0,pi.jsx)("div",{className:" flex gap-2",children:(0,pi.jsxs)("div",{className:" flex gap-2 cursor-pointer text-black sv-2",children:[(0,pi.jsx)("div",{onClick:function(){return i(e)},children:(0,pi.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"widh",children:(0,pi.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),(0,pi.jsx)(Ur,{to:"/updateproduct",children:(0,pi.jsx)("div",{onClick:function(){return r(e)},children:(0,pi.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"widh",children:(0,pi.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})})})]})})})]})})}))]})})]})}),(0,pi.jsx)(hv,{children:(0,pi.jsxs)("div",{className:"relative overflow-x-auto mb-16",children:[(0,pi.jsx)("h3",{className:" text-center mb-5 text-3xl font-semibold underline pro-det",children:"Order Details"}),(0,pi.jsx)("div",{className:"tabl",children:(0,pi.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 ",children:[(0,pi.jsx)("thead",{className:"text-xs text-black uppercase bg-gray-200 ",children:(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Payment Id"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Image"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Title"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Price"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Category"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Name"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Address"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Pincode"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Phone Number"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Email"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Date"})]})}),(0,pi.jsx)("tbody",{children:(0,pi.jsxs)("tr",{className:"bg-gray-50 border-b  dark:border-gray-700",children:[(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"3393939"}),(0,pi.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-black whitespace-nowrap",children:(0,pi.jsx)("img",{className:"img-ord",src:"",alt:"img"})}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"Title"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"\u20b9100"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"pots"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"name"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"india"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"82828"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"929929929929"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"kkakka@gmail.com"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"12 Aug 2019"})]})})]})})]})}),(0,pi.jsx)(hv,{children:(0,pi.jsxs)("div",{className:"relative overflow-x-auto mb-10",children:[(0,pi.jsx)("h3",{className:" text-center  pro-det",children:"User Details"}),(0,pi.jsx)("div",{className:"tabl",children:(0,pi.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 tabl",children:[(0,pi.jsx)("thead",{className:"text-xs text-black uppercase bg-gray-200 ",children:(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"S.No"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Name"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Address"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Pincode"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Phone Number"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Email"}),(0,pi.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Date"})]})}),(0,pi.jsx)("tbody",{children:(0,pi.jsxs)("tr",{className:"bg-gray-50 border-b  dark:border-gray-700",children:[(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"1."}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"Name"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"Address"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"181919"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"1991818818"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"kkk@gmail.com"}),(0,pi.jsx)("td",{className:"px-6 py-4 text-black ",children:"12 Aug 2019"})]})})]})})]})})]})})})})},dv=function(){return(0,pi.jsx)(yi,{children:(0,pi.jsxs)("section",{className:"text-gray-600 body-font mt-10 mb-10",children:[(0,pi.jsx)("div",{className:"container px-5 mx-auto mb-10",children:(0,pi.jsxs)("div",{className:"flex flex-wrap -m-4 text-center box-up",children:[(0,pi.jsx)("div",{className:"p-4 md:w-1/4 sm:w-1/2 w-full one",id:"a1",children:(0,pi.jsxs)("div",{className:" border-2 hover:shadow-purple-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] bg-gray-100 border-gray-300    px-4 py-3 rounded-xl",children:[(0,pi.jsx)("div",{className:"text-purple-500 w-12 h-12 mb-3 inline-block",viewBox:"0 0 24 24"}),(0,pi.jsx)("h2",{className:"title-font font-medium text-3xl text-black fonts1",children:"10"}),(0,pi.jsx)("p",{className:" text-purple-500  font-bold",children:"Total Products"})]})}),(0,pi.jsx)("div",{className:"p-4 md:w-1/4 sm:w-1/2 w-full one",id:"b1",children:(0,pi.jsxs)("div",{className:" border-2 hover:shadow-purple-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] bg-gray-100 border-gray-300    px-4 py-3 rounded-xl",children:[(0,pi.jsx)("div",{className:"text-purple-500 w-12 h-12 mb-3 inline-block",viewBox:"0 0 24 24"}),(0,pi.jsx)("h2",{className:"title-font font-medium text-3xl text-black fonts1",children:"10"}),(0,pi.jsx)("p",{className:" text-purple-500  font-bold",children:"Total Orders"})]})}),(0,pi.jsx)("div",{className:"p-4 md:w-1/4 sm:w-1/2 w-full one",id:"c1",children:(0,pi.jsxs)("div",{className:" border-2 hover:shadow-purple-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] bg-gray-100 border-gray-300    px-4 py-3 rounded-xl",children:[(0,pi.jsx)("div",{className:"text-purple-500 w-12 h-12 mb-3 inline-block",viewBox:"0 0 24 24"}),(0,pi.jsx)("h2",{className:"title-font font-medium text-3xl text-black fonts1",children:"20"}),(0,pi.jsx)("p",{className:" text-purple-500  font-bold",children:"Total Users"})]})})]})}),(0,pi.jsx)("hr",{}),(0,pi.jsx)(fv,{})]})})},pv=function(){return(0,pi.jsx)(yi,{children:"Order"})};function vv(){vv=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),s=new N(r||[]);return i(o,"_invoke",{value:T(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function k(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(A([])));_&&_!==n&&r.call(_,o)&&(b=_);var x=k.prototype=y.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=h(e[i],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==nn(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=f;return function(a,o){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=h(t,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(nn(t)+" is not iterable")}return g.prototype=k,i(x,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:g,configurable:!0}),g.displayName=c(k,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},S(E.prototype),c(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new E(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(x),c(x,u,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function mv(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Pz){return void n(Pz)}s.done?t(u):Promise.resolve(u).then(r,i)}function yv(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){mv(a,r,i,o,s,"next",e)}function s(e){mv(a,r,i,o,s,"throw",e)}o(void 0)}))}}var gv=!1,kv=!1,bv="${JSCORE_VERSION}",wv=function(e,t){if(!e)throw _v(t)},_v=function(e){return new Error("Firebase Database ("+bv+") INTERNAL ASSERT FAILED: "+e)},xv=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xv(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Ev;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ev=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return on(n)}(pn(Error)),Tv=function(e){var t=xv(e);return Sv.encodeByteArray(t,!0)},Cv=function(e){return Tv(e).replace(/\./g,"")},Iv=function(e){try{return Sv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Pv(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Nv(n)&&(e[n]=Pv(e[n],t[n]));return e}function Nv(e){return"__proto__"!==e}var Av=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Rv=function(){try{return Av()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Iv(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Dv=function(e){var t,n;return null===(n=null===(t=Rv())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ov=function(){var e;return null===(e=Rv())||void 0===e?void 0:e.config},jv=function(e){var t;return null===(t=Rv())||void 0===t?void 0:t["_".concat(e)]},Lv=function(){function e(){var t=this;tn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return on(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Mv(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Cv(JSON.stringify({alg:"none",type:"JWT"})),Cv(JSON.stringify(a)),""].join(".")}function Fv(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Vv(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fv())}function Uv(){var e,t=null===(e=Rv())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Bv(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function qv(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function zv(){var e=Fv();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Wv(){return!0===gv||!0===kv}function Kv(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Hv=function(e){un(n,e);var t=fn(n);function n(e,r,i){var a;return tn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(hn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(hn(a),Gv.prototype.create),a}return on(n)}(pn(Error)),Gv=function(){function e(t,n,r){tn(this,e),this.service=t,this.serviceName=n,this.errors=r}return on(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Qv,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Hv(n,a,t)}}]),e}();var Qv=/\{\$([^}]+)}/g;function Yv(e){return JSON.parse(e)}function $v(e){return JSON.stringify(e)}var Xv=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Yv(Iv(a[0])||""),n=Yv(Iv(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Jv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Zv(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function em(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function tm(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function nm(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(rm(s)&&rm(u)){if(!nm(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function rm(e){return null!==e&&"object"===typeof e}function im(e){for(var t=[],n=function(){var e=yn(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function am(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=yn(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function om(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var sm=function(){function e(){tn(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return on(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(h^f),u=1518500249):(s=l^h^f,u=1859775393):p<60?(s=l&h|f&(l|h),u=2400959708):(s=l^h^f,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function um(e,t){var n=new cm(e,t);return n.subscribe.bind(n)}var cm=function(){function e(t,n){var r=this;tn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return on(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=kn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=lm),void 0===r.error&&(r.error=lm),void 0===r.complete&&(r.complete=lm);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function lm(){}var hm=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function fm(e,t){return"".concat(e," failed: ").concat(t," argument ")}function dm(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(fm(e,t)+"must be a valid function.")}function pm(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(fm(e,t)+"must be a valid context object.")}var vm=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function mm(e){return e&&e._delegate?e._delegate:e}var ym=function(){function e(t,n,r){tn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return on(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),gm="[DEFAULT]",km=function(){function e(t,n){tn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return on(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Lv;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:gm})}catch(u){}var t,n=kn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=yn(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gm;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(en(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),en(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gm;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gm;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=kn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=yn(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(h$){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bm(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(h$){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gm;return this.component?this.component.multipleInstances?e:gm:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function bm(e){return e===gm?void 0:e}var wm,_m,xm=function(){function e(t){tn(this,e),this.name=t,this.providers=new Map}return on(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new km(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Sm=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(_m||(_m={}));var Em={debug:_m.DEBUG,verbose:_m.VERBOSE,info:_m.INFO,warn:_m.WARN,error:_m.ERROR,silent:_m.SILENT},Tm=_m.INFO,Cm=(Qr(wm={},_m.DEBUG,"log"),Qr(wm,_m.VERBOSE,"log"),Qr(wm,_m.INFO,"info"),Qr(wm,_m.WARN,"warn"),Qr(wm,_m.ERROR,"error"),wm),Im=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Cm[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Pm=function(){function e(t){tn(this,e),this.name=t,this._logLevel=Tm,this._logHandler=Im,this._userLogHandler=null,Sm.push(this)}return on(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in _m))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Em[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_m.DEBUG].concat(t)),this._logHandler.apply(this,[this,_m.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_m.VERBOSE].concat(t)),this._logHandler.apply(this,[this,_m.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_m.INFO].concat(t)),this._logHandler.apply(this,[this,_m.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_m.WARN].concat(t)),this._logHandler.apply(this,[this,_m.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_m.ERROR].concat(t)),this._logHandler.apply(this,[this,_m.ERROR].concat(t))}}]),e}();var Nm,Am,Rm=function(e,t){return t.some((function(t){return e instanceof t}))};var Dm=new WeakMap,Om=new WeakMap,jm=new WeakMap,Lm=new WeakMap,Mm=new WeakMap;var Fm={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Om.get(e);if("objectStoreNames"===t)return e.objectStoreNames||jm.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bm(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Vm(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Am||(Am=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qm(this),n),Bm(Dm.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bm(e.apply(qm(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[qm(this),t].concat(r));return jm.set(a,t.sort?t.sort():[t]),Bm(a)}}function Um(e){return"function"===typeof e?Vm(e):(e instanceof IDBTransaction&&function(e){if(!Om.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Om.set(e,t)}}(e),Rm(e,Nm||(Nm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Fm):e)}function Bm(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Bm(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Dm.set(t,e)})).catch((function(){})),Mm.set(t,e),t}(e);if(Lm.has(e))return Lm.get(e);var t=Um(e);return t!==e&&(Lm.set(e,t),Mm.set(t,e)),t}var qm=function(e){return Mm.get(e)};var zm,Wm,Km=["get","getKey","getAll","getAllKeys","count"],Hm=["put","add","delete","clear"],Gm=new Map;function Qm(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Gm.get(t))return Gm.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Hm.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Km.includes(n))){var a=function(){var e=yv(vv().mark((function e(t){var a,o,s,u,c,l,h=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=h[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Gm.set(t,a),a}}}Fm=function(e){return _i(_i({},e),{},{get:function(t,n,r){return Qm(t,n)||e.get(t,n,r)},has:function(t,n){return!!Qm(t,n)||e.has(t,n)}})}(Fm);var Ym=function(){function e(t){tn(this,e),this.container=t}return on(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var $m="@firebase/app",Xm="0.9.20",Jm=new Pm("@firebase/app"),Zm="[DEFAULT]",ey=(Qr(zm={},$m,"fire-core"),Qr(zm,"@firebase/app-compat","fire-core-compat"),Qr(zm,"@firebase/analytics","fire-analytics"),Qr(zm,"@firebase/analytics-compat","fire-analytics-compat"),Qr(zm,"@firebase/app-check","fire-app-check"),Qr(zm,"@firebase/app-check-compat","fire-app-check-compat"),Qr(zm,"@firebase/auth","fire-auth"),Qr(zm,"@firebase/auth-compat","fire-auth-compat"),Qr(zm,"@firebase/database","fire-rtdb"),Qr(zm,"@firebase/database-compat","fire-rtdb-compat"),Qr(zm,"@firebase/functions","fire-fn"),Qr(zm,"@firebase/functions-compat","fire-fn-compat"),Qr(zm,"@firebase/installations","fire-iid"),Qr(zm,"@firebase/installations-compat","fire-iid-compat"),Qr(zm,"@firebase/messaging","fire-fcm"),Qr(zm,"@firebase/messaging-compat","fire-fcm-compat"),Qr(zm,"@firebase/performance","fire-perf"),Qr(zm,"@firebase/performance-compat","fire-perf-compat"),Qr(zm,"@firebase/remote-config","fire-rc"),Qr(zm,"@firebase/remote-config-compat","fire-rc-compat"),Qr(zm,"@firebase/storage","fire-gcs"),Qr(zm,"@firebase/storage-compat","fire-gcs-compat"),Qr(zm,"@firebase/firestore","fire-fst"),Qr(zm,"@firebase/firestore-compat","fire-fst-compat"),Qr(zm,"fire-js","fire-js"),Qr(zm,"firebase","fire-js-all"),zm),ty=new Map,ny=new Map;function ry(e,t){try{e.container.addComponent(t)}catch(n){Jm.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function iy(e,t){e.container.addOrOverwriteComponent(t)}function ay(e){var t=e.name;if(ny.has(t))return Jm.debug("There were multiple attempts to register component ".concat(t,".")),!1;ny.set(t,e);var n,r=kn(ty.values());try{for(r.s();!(n=r.n()).done;){ry(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function oy(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zm;oy(e,t).clearInstance(n)}function uy(){ny.clear()}var cy=(Qr(Wm={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Qr(Wm,"bad-app-name","Illegal App name: '{$appName}"),Qr(Wm,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Qr(Wm,"app-deleted","Firebase App named '{$appName}' already deleted"),Qr(Wm,"no-options","Need to provide options, when not being deployed to hosting via source."),Qr(Wm,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Qr(Wm,"invalid-log-argument","First argument to `onLog` must be null or a function."),Qr(Wm,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Qr(Wm,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Qr(Wm,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Qr(Wm,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Wm),ly=new Gv("app","Firebase",cy),hy=function(){function e(t,n,r){var i=this;tn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ym("app",(function(){return i}),"PUBLIC"))}return on(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ly.create("app-deleted",{appName:this._name})}}]),e}(),fy="10.5.0";function dy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Zm,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ly.create("bad-app-name",{appName:String(i)});if(n||(n=Ov()),!n)throw ly.create("no-options");var a=ty.get(i);if(a){if(nm(n,a.options)&&nm(r,a.config))return a;throw ly.create("duplicate-app",{appName:i})}var o,s=new xm(i),u=kn(ny.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new hy(n,r,s);return ty.set(i,l),l}function py(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zm,t=ty.get(e);if(!t&&e===Zm&&Ov())return dy();if(!t)throw ly.create("no-app",{appName:e});return t}function vy(){return Array.from(ty.values())}function my(e){return yy.apply(this,arguments)}function yy(){return yy=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ty.has(n)){e.next=6;break}return ty.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),yy.apply(this,arguments)}function gy(e,t,n){var r,i=null!==(r=ey[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Jm.warn(s.join(" "))}ay(new ym("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ky(e,t){if(null!==e&&"function"!==typeof e)throw ly.create("invalid-log-argument");!function(e,t){var n,r=kn(Sm);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Em[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:_m[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function by(e){var t;t=e,Sm.forEach((function(e){e.setLogLevel(t)}))}var wy="firebase-heartbeat-database",_y=1,xy="firebase-heartbeat-store",Sy=null;function Ey(){return Sy||(Sy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Bm(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Bm(s.result),e.oldVersion,e.newVersion,Bm(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(wy,_y,{upgrade:function(e,t){if(0===t)e.createObjectStore(xy)}}).catch((function(e){throw ly.create("idb-open",{originalErrorMessage:e.message})}))),Sy}function Ty(e){return Cy.apply(this,arguments)}function Cy(){return Cy=yv(vv().mark((function e(t){var n,r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ey();case 3:return n=e.sent,e.next=6,n.transaction(xy).objectStore(xy).get(Ny(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Hv?Jm.warn(e.t0.message):(i=ly.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Jm.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Cy.apply(this,arguments)}function Iy(e,t){return Py.apply(this,arguments)}function Py(){return Py=yv(vv().mark((function e(t,n){var r,i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ey();case 3:return r=e.sent,i=r.transaction(xy,"readwrite"),a=i.objectStore(xy),e.next=8,a.put(n,Ny(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Hv?Jm.warn(e.t0.message):(o=ly.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Jm.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Py.apply(this,arguments)}function Ny(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ay=function(){function e(t){var n=this;tn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ly(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return on(e,[{key:"triggerHeartbeat",value:function(){var e=yv(vv().mark((function e(){var t,n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ry(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=yv(vv().mark((function e(){var t,n,r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ry(),n=Dy(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Cv(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ry(){return(new Date).toISOString().substring(0,10)}function Dy(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=kn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),My(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),My(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Oy,jy,Ly=function(){function e(t){tn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return on(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kv()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Pz){t(Pz)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ty(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=yv(vv().mark((function e(t){var n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Iy(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=yv(vv().mark((function e(t){var n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Iy(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(en(r.heartbeats),en(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function My(e){return Cv(JSON.stringify({version:2,heartbeats:e})).length}Oy="",ay(new ym("platform-logger",(function(e){return new Ym(e)}),"PRIVATE")),ay(new ym("heartbeat",(function(e){return new Ay(e)}),"PRIVATE")),gy($m,Xm,Oy),gy($m,Xm,"esm2017"),gy("fire-js","");var Fy={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Vy="EMAIL_SIGNIN",Uy="PASSWORD_RESET",By="RECOVER_EMAIL",qy="REVERT_SECOND_FACTOR_ADDITION",zy="VERIFY_AND_CHANGE_EMAIL",Wy="VERIFY_EMAIL";function Ky(e){return void 0!==e&&void 0!==e.getResponse}function Hy(e){return void 0!==e&&void 0!==e.enterprise}var Gy=on((function e(t){if(tn(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Qy(){return Qr({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Yy=function(){var e;return Qr(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Qr(e,"argument-error",""),Qr(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Qr(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Qr(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Qr(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Qr(e,"cordova-not-ready","Cordova framework is not ready."),Qr(e,"cors-unsupported","This browser is not supported."),Qr(e,"credential-already-in-use","This credential is already associated with a different user account."),Qr(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Qr(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Qr(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Qr(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Qr(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Qr(e,"email-already-in-use","The email address is already in use by another account."),Qr(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Qr(e,"expired-action-code","The action code has expired."),Qr(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Qr(e,"internal-error","An internal AuthError has occurred."),Qr(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Qr(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Qr(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Qr(e,"invalid-auth-event","An internal AuthError has occurred."),Qr(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Qr(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Qr(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Qr(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Qr(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Qr(e,"invalid-email","The email address is badly formatted."),Qr(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Qr(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Qr(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Qr(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Qr(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Qr(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Qr(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Qr(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Qr(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Qr(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Qr(e,"wrong-password","The password is invalid or the user does not have a password."),Qr(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Qr(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Qr(e,"invalid-provider-id","The specified provider ID is invalid."),Qr(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Qr(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Qr(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Qr(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Qr(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Qr(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Qr(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Qr(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Qr(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Qr(e,"missing-continue-uri","A continue URL must be provided in the request."),Qr(e,"missing-iframe-start","An internal AuthError has occurred."),Qr(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Qr(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Qr(e,"missing-password","A non-empty password must be provided"),Qr(e,"missing-multi-factor-info","No second factor identifier is provided."),Qr(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Qr(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Qr(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Qr(e,"app-deleted","This instance of FirebaseApp has been deleted."),Qr(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Qr(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Qr(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Qr(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Qr(e,"no-auth-event","An internal AuthError has occurred."),Qr(e,"no-such-provider","User was not linked to an account with the given provider."),Qr(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Qr(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Qr(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Qr(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Qr(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Qr(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Qr(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Qr(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Qr(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Qr(e,"rejected-credential","The request contains malformed or mismatching credentials."),Qr(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Qr(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Qr(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Qr(e,"timeout","The operation has timed out."),Qr(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Qr(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Qr(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Qr(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Qr(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Qr(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Qr(e,"unverified-email","The operation requires a verified email."),Qr(e,"user-cancelled","The user did not grant your application the permissions it requested."),Qr(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Qr(e,"user-disabled","The user account has been disabled by an administrator."),Qr(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Qr(e,"user-signed-out",""),Qr(e,"weak-password","The password must be 6 characters long or more."),Qr(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Qr(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Qr(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Qr(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Qr(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Qr(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Qr(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Qr(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Qr(e,"invalid-req-type","Invalid request parameters."),Qr(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),Qr(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),Qr(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},$y=Qy,Xy=new Gv("auth","Firebase",Qy()),Jy=new Pm("@firebase/auth");function Zy(e){if(Jy.logLevel<=_m.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Jy.warn.apply(Jy,["Auth (".concat(fy,"): ").concat(e)].concat(n))}}function eg(e){if(Jy.logLevel<=_m.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Jy.error.apply(Jy,["Auth (".concat(fy,"): ").concat(e)].concat(n))}}function tg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ag.apply(void 0,[e].concat(n))}function ng(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ag.apply(void 0,[e].concat(n))}function rg(e,t,n){var r=Object.assign(Object.assign({},$y()),Qr({},t,n));return new Gv("auth","Firebase",r).create(t,{appName:e.name})}function ig(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&tg(e,"argument-error"),rg(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ag(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=en(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(en(o)))}return Xy.create.apply(Xy,[e].concat(n))}function og(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ag.apply(void 0,[t].concat(r))}}function sg(e){var t="INTERNAL ASSERTION FAILED: "+e;throw eg(t),new Error(t)}function ug(e,t){e||sg(t)}function cg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function lg(){return"http:"===hg()||"https:"===hg()}function hg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var fg=function(){function e(t,n){tn(this,e),this.shortDelay=t,this.longDelay=n,ug(n>t,"Short delay should be less than long delay!"),this.isMobile=Vv()||qv()}return on(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(lg()||Bv()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function dg(e,t){ug(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var pg=function(){function e(){tn(this,e)}return on(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void sg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void sg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void sg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),vg=(Qr(jy={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Qr(jy,"MISSING_CUSTOM_TOKEN","internal-error"),Qr(jy,"INVALID_IDENTIFIER","invalid-email"),Qr(jy,"MISSING_CONTINUE_URI","internal-error"),Qr(jy,"INVALID_PASSWORD","wrong-password"),Qr(jy,"MISSING_PASSWORD","missing-password"),Qr(jy,"EMAIL_EXISTS","email-already-in-use"),Qr(jy,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Qr(jy,"INVALID_IDP_RESPONSE","invalid-credential"),Qr(jy,"INVALID_PENDING_TOKEN","invalid-credential"),Qr(jy,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Qr(jy,"MISSING_REQ_TYPE","internal-error"),Qr(jy,"EMAIL_NOT_FOUND","user-not-found"),Qr(jy,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Qr(jy,"EXPIRED_OOB_CODE","expired-action-code"),Qr(jy,"INVALID_OOB_CODE","invalid-action-code"),Qr(jy,"MISSING_OOB_CODE","internal-error"),Qr(jy,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Qr(jy,"INVALID_ID_TOKEN","invalid-user-token"),Qr(jy,"TOKEN_EXPIRED","user-token-expired"),Qr(jy,"USER_NOT_FOUND","user-token-expired"),Qr(jy,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Qr(jy,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),Qr(jy,"INVALID_CODE","invalid-verification-code"),Qr(jy,"INVALID_SESSION_INFO","invalid-verification-id"),Qr(jy,"INVALID_TEMPORARY_PROOF","invalid-credential"),Qr(jy,"MISSING_SESSION_INFO","missing-verification-id"),Qr(jy,"SESSION_EXPIRED","code-expired"),Qr(jy,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Qr(jy,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Qr(jy,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Qr(jy,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Qr(jy,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Qr(jy,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Qr(jy,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Qr(jy,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Qr(jy,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Qr(jy,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Qr(jy,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Qr(jy,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Qr(jy,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Qr(jy,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Qr(jy,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Qr(jy,"MISSING_CLIENT_TYPE","missing-client-type"),Qr(jy,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Qr(jy,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Qr(jy,"INVALID_REQ_TYPE","invalid-req-type"),jy),mg=new fg(3e4,6e4);function yg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function gg(e,t,n,r){return kg.apply(this,arguments)}function kg(){return kg=yv(vv().mark((function e(t,n,r,i){var a,o=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",bg(t,a,yv(vv().mark((function e(){var a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=im(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",pg.fetch()(Sg(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),kg.apply(this,arguments)}function bg(e,t,n){return wg.apply(this,arguments)}function wg(){return wg=yv(vv().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,d;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},vg),n),e.prev=2,a=new Eg(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Tg(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=yn(c,2),h=l[0],f=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Tg(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Tg(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Tg(t,"user-disabled",s);case 29:if(d=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!f){e.next=34;break}throw rg(t,d,f);case 34:tg(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Hv)){e.next=41;break}throw e.t0;case 41:tg(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),wg.apply(this,arguments)}function _g(e,t,n,r){return xg.apply(this,arguments)}function xg(){return xg=yv(vv().mark((function e(t,n,r,i){var a,o,s=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,gg(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&tg(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),xg.apply(this,arguments)}function Sg(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?dg(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Eg=function(){function e(t){var n=this;tn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ng(n.auth,"network-request-failed"))}),mg.get())}))}return on(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Tg(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ng(e,t,r);return i.customData._tokenResponse=n,i}function Cg(e){return Ig.apply(this,arguments)}function Ig(){return(Ig=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gg(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pg(e,t){return Ng.apply(this,arguments)}function Ng(){return(Ng=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gg(t,"GET","/v2/recaptchaConfig",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ag(e,t){return Rg.apply(this,arguments)}function Rg(){return(Rg=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gg(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dg(e,t){return Og.apply(this,arguments)}function Og(){return(Og=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gg(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jg(e,t){return Lg.apply(this,arguments)}function Lg(){return(Lg=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gg(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mg(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Fg(){return Fg=yv(vv().mark((function e(t){var n,r,i,a,o,s,u=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=mm(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,og((a=Ug(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Mg(Vg(a.auth_time)),issuedAtTime:Mg(Vg(a.iat)),expirationTime:Mg(Vg(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Fg.apply(this,arguments)}function Vg(e){return 1e3*Number(e)}function Ug(e){var t=yn(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return eg("JWT malformed, contained fewer than 3 sections"),null;try{var a=Iv(r);return a?JSON.parse(a):(eg("Failed to decode base64 JWT payload"),null)}catch(o){return eg("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Bg(e,t){return qg.apply(this,arguments)}function qg(){return qg=yv(vv().mark((function e(t,n){var r=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Hv&&zg(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),qg.apply(this,arguments)}function zg(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Wg=function(){function e(t){tn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return on(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(yv(vv().mark((function t(){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Kg=function(){function e(t,n){tn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return on(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Mg(this.lastLoginAt),this.creationTime=Mg(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Hg(e){return Gg.apply(this,arguments)}function Gg(){return(Gg=yv(vv().mark((function e(t){var n,r,i,a,o,u,c,l,h,f,d;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Bg(t,jg(r,{idToken:i}));case 6:og(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],c=Yg(t.providerData,u),l=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!(null===c||void 0===c?void 0:c.length),f=!!l&&h,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Kg(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qg(){return(Qg=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mm(t),e.next=3,Hg(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yg(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(en(n),en(t))}function $g(e,t){return Xg.apply(this,arguments)}function Xg(){return(Xg=yv(vv().mark((function e(t,n){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bg(t,{},yv(vv().mark((function e(){var r,i,a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=im({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Sg(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",pg.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jg=function(){function e(){tn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return on(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){og(e.idToken,"internal-error"),og("undefined"!==typeof e.idToken,"internal-error"),og("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ug(e);return og(t,"internal-error"),og("undefined"!==typeof t.exp,"internal-error"),og("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=yv(vv().mark((function e(t){var n,r=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],og(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=yv(vv().mark((function e(t,n){var r,i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$g(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return sg("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(og("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(og("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(og("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Zg(e,t){og("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ek=function(){function e(t){tn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=s(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?en(a.providerData):[],this.metadata=new Kg(a.createdAt||void 0,a.lastLoginAt||void 0)}return on(e,[{key:"getIdToken",value:function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bg(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(og(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Fg.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Qg.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(og(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){og(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=yv(vv().mark((function e(t){var n,r,i=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Hg(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Bg(this,Ag(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;og(k&&x,t,"internal-error");var S=Jg.fromJSON(this.name,x);og("string"===typeof k,t,"internal-error"),Zg(h,t.name),Zg(f,t.name),og("boolean"===typeof b,t,"internal-error"),og("boolean"===typeof w,t,"internal-error"),Zg(d,t.name),Zg(p,t.name),Zg(v,t.name),Zg(m,t.name),Zg(y,t.name),Zg(g,t.name);var E=new e({uid:k,auth:t,email:f,emailVerified:b,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=yv(vv().mark((function t(n,r){var i,a,o,s=arguments;return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Jg).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Hg(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),tk=new Map;function nk(e){ug(e instanceof Function,"Expected a class definition");var t=tk.get(e);return t?(ug(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tk.set(e,t),t)}var rk=function(){function e(){tn(this,e),this.type="NONE",this.storage={}}return on(e,[{key:"_isAvailable",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();rk.type="NONE";var ik=rk;function ak(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ok=function(){function e(t,n,r){tn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ak(this.userKey,a.apiKey,o),this.fullPersistenceKey=ak("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return on(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ek._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=yv(vv().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,d,p,v=arguments;return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(nk(ik),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||nk(ik),s=ak(i,n.config.apiKey,n.name),u=null,c=kn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=ek._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function sk(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(dk(t))return"Blackberry";if(pk(t))return"Webos";if(ck(t))return"Safari";if((t.includes("chrome/")||lk(t))&&!t.includes("edge/"))return"Chrome";if(fk(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function uk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv();return/firefox\//i.test(e)}function ck(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv();return/crios\//i.test(e)}function hk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv();return/iemobile/i.test(e)}function fk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv();return/android/i.test(e)}function dk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv();return/blackberry/i.test(e)}function pk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv();return/webos/i.test(e)}function vk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv();return vk(e)||fk(e)||pk(e)||dk(e)||/windows phone/i.test(e)||hk(e)}function yk(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=sk(Fv());break;case"Worker":t="".concat(sk(Fv()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(fy,"/").concat(r)}var gk=function(){function e(t){tn(this,e),this.auth=t,this.queue=[]}return on(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=yv(vv().mark((function e(t){var n,r,i,a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=kn(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=kn(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(ke){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function kk(e){return bk.apply(this,arguments)}function bk(){return bk=yv(vv().mark((function e(t){var n,r=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",gg(t,"GET","/v2/passwordPolicy",yg(t,n)));case 2:case"end":return e.stop()}}),e)}))),bk.apply(this,arguments)}var wk=function(){function e(t){var n,r,i,a;tn(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return on(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),_k=function(){function e(t,n,r,i){tn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sk(this),this.idTokenSubscription=new Sk(this),this.beforeStateQueue=new gk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return on(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=nk(t)),this._initializationPromise=this.queue(yv(vv().mark((function r(){var i,a;return vv().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ok.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=yv(vv().mark((function e(t){var n,r,i,a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return og(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hg(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?mm(t):null)&&og(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=yv(vv().mark((function e(t){var n,r=this,i=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&og(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(yv(vv().mark((function n(){return vv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(nk(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=yv(vv().mark((function e(){var t,n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kk(this);case 2:t=e.sent,n=new wk(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Gv("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=yv(vv().mark((function e(t,n){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return og(n=t&&nk(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ok.create(this,[nk(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=yv(vv().mark((function e(t){var n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=yv(vv().mark((function e(t){var n=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(og(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return og(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yk(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=yv(vv().mark((function e(){var t,n,r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qr({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=yv(vv().mark((function e(){var t,n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Zy("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xk(e){return mm(e)}var Sk=function(){function e(t){var n=this;tn(this,e),this.auth=t,this.observer=null,this.addObserver=um((function(e){return n.observer=e}))}return on(e,[{key:"next",get:function(){return og(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ek(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ng("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Tk(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ck=function(){function e(t){tn(this,e),this.type="recaptcha-enterprise",this.auth=xk(t)}return on(e,[{key:"verify",value:function(){var e=yv(vv().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Hy(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=yv(vv().mark((function e(n,r){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pg(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Gy(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Hy(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Ek("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ik(e,t,n){return Pk.apply(this,arguments)}function Pk(){return Pk=yv(vv().mark((function e(t,n,r){var i,a,o,s,u=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Ck(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Pk.apply(this,arguments)}function Nk(e,t,n){var r=xk(e);og(r._canInitEmulator,r,"emulator-config-failed"),og(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ak(t),o=function(e){var t=Ak(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Rk(r.substr(a.length+1))}}var o=yn(r.split(":"),2);return{host:o[0],port:Rk(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ak(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Rk(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Dk=function(){function e(t,n){tn(this,e),this.providerId=t,this.signInMethod=n}return on(e,[{key:"toJSON",value:function(){return sg("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return sg("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return sg("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return sg("not implemented")}}]),e}();function Ok(e,t){return jk.apply(this,arguments)}function jk(){return(jk=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gg(t,"POST","/v1/accounts:resetPassword",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lk(e,t){return Mk.apply(this,arguments)}function Mk(){return(Mk=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gg(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fk(e,t){return Vk.apply(this,arguments)}function Vk(){return(Vk=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gg(t,"POST","/v1/accounts:update",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uk(e,t){return Bk.apply(this,arguments)}function Bk(){return(Bk=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_g(t,"POST","/v1/accounts:signInWithPassword",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qk(e,t){return zk.apply(this,arguments)}function zk(){return(zk=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gg(t,"POST","/v1/accounts:sendOobCode",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wk(e,t){return Kk.apply(this,arguments)}function Kk(){return(Kk=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qk(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hk(e,t){return Gk.apply(this,arguments)}function Gk(){return(Gk=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qk(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qk(e,t){return Yk.apply(this,arguments)}function Yk(){return(Yk=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qk(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $k(e,t){return Xk.apply(this,arguments)}function Xk(){return(Xk=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qk(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jk(e,t){return Zk.apply(this,arguments)}function Zk(){return(Zk=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_g(t,"POST","/v1/accounts:signInWithEmailLink",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eb(e,t){return tb.apply(this,arguments)}function tb(){return(tb=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_g(t,"POST","/v1/accounts:signInWithEmailLink",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nb=function(e){un(n,e);var t=fn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return tn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return on(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=yv(vv().mark((function e(t){var n,r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Ik(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Uk(t,i));case 11:return e.abrupt("return",Uk(t,r).catch(function(){var e=yv(vv().mark((function e(n){var i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Ik(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Uk(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Jk(t,{email:this._email,oobCode:this._password}));case 13:tg(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Lk(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",eb(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:tg(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Dk);function rb(e,t){return ib.apply(this,arguments)}function ib(){return(ib=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_g(t,"POST","/v1/accounts:signInWithIdp",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ab=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return on(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return rb(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,rb(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,rb(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=im(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tg("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=s(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Dk);function ob(e,t){return sb.apply(this,arguments)}function sb(){return(sb=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gg(t,"POST","/v1/accounts:sendVerificationCode",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ub(){return(ub=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_g(t,"POST","/v1/accounts:signInWithPhoneNumber",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cb(){return(cb=yv(vv().mark((function e(t,n){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_g(t,"POST","/v1/accounts:signInWithPhoneNumber",yg(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Tg(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lb=Qr({},"USER_NOT_FOUND","user-not-found");function hb(){return(hb=yv(vv().mark((function e(t,n){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",_g(t,"POST","/v1/accounts:signInWithPhoneNumber",yg(t,r),lb));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fb=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return on(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ub.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return cb.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return hb.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Dk);var db=function(){function e(t){var n,r,i,a,o,s;tn(this,e);var u=am(om(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);og(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return on(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=am(om(e)).link,n=t?am(om(t)).deep_link_id:null,r=am(om(e)).deep_link_id;return(r?am(om(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(h$){return null}}}]),e}();var pb=function(){function e(){tn(this,e),this.providerId=e.PROVIDER_ID}return on(e,null,[{key:"credential",value:function(e,t){return nb._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=db.parseLink(t);return og(n,"argument-error"),nb._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();pb.PROVIDER_ID="password",pb.EMAIL_PASSWORD_SIGN_IN_METHOD="password",pb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var vb=function(){function e(t){tn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return on(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),mb=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return on(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return en(this.scopes)}}]),n}(vb),yb=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return og(e.idToken||e.accessToken,"argument-error"),ab._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return og("providerId"in t&&"signInMethod"in t,"argument-error"),ab._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(mb),gb=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.call(this,"facebook.com")}return on(n,null,[{key:"credential",value:function(e){return ab._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(h$){return null}}}]),n}(mb);gb.FACEBOOK_SIGN_IN_METHOD="facebook.com",gb.PROVIDER_ID="facebook.com";var kb=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return on(n,null,[{key:"credential",value:function(e,t){return ab._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(h$){return null}}}]),n}(mb);kb.GOOGLE_SIGN_IN_METHOD="google.com",kb.PROVIDER_ID="google.com";var bb=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.call(this,"github.com")}return on(n,null,[{key:"credential",value:function(e){return ab._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(h$){return null}}}]),n}(mb);bb.GITHUB_SIGN_IN_METHOD="github.com",bb.PROVIDER_ID="github.com";var wb=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return on(n,[{key:"_getIdTokenResponse",value:function(e){return rb(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,rb(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,rb(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Dk),_b=function(e){un(n,e);var t=fn(n);function n(e){return tn(this,n),og(e.startsWith("saml."),"argument-error"),t.call(this,e)}return on(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=wb.fromJSON(e);return og(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return wb._create(r,n)}catch(i){return null}}}]),n}(vb),xb=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.call(this,"twitter.com")}return on(n,null,[{key:"credential",value:function(e,t){return ab._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(h$){return null}}}]),n}(mb);function Sb(e,t){return Eb.apply(this,arguments)}function Eb(){return(Eb=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_g(t,"POST","/v1/accounts:signUp",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}xb.TWITTER_SIGN_IN_METHOD="twitter.com",xb.PROVIDER_ID="twitter.com";var Tb=function(){function e(t){tn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return on(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=yv(vv().mark((function t(n,r,i){var a,o,s,u,c=arguments;return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ek._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Cb(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=yv(vv().mark((function t(n,r,i){var a;return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Cb(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Cb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ib(){return(Ib=yv(vv().mark((function e(t){var n,r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xk(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Tb({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Sb(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Tb._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pb=function(e){un(n,e);var t=fn(n);function n(e,r,i,a){var o,s;return tn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(hn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return on(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Hv);function Nb(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Pb._fromErrorAndOperation(e,n,t,r);throw n}))}function Ab(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Rb(e,t){return Db.apply(this,arguments)}function Db(){return Db=yv(vv().mark((function e(t,n){var r,i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mm(t),e.next=3,Lb(!0,r,n);case 3:return e.t0=Dg,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ab(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Db.apply(this,arguments)}function Ob(e,t){return jb.apply(this,arguments)}function jb(){return jb=yv(vv().mark((function e(t,n){var r,i,a=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Bg,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Tb._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Lb(e,t,n){return Mb.apply(this,arguments)}function Mb(){return(Mb=yv(vv().mark((function e(t,n,r){var i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hg(n);case 2:i=Ab(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",og(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fb(e,t){return Vb.apply(this,arguments)}function Vb(){return Vb=yv(vv().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Bg(t,Nb(i,a,n,t),r);case 6:return og((o=e.sent).idToken,i,"internal-error"),og(s=Ug(o.idToken),i,"internal-error"),u=s.sub,og(t.uid===u,i,"user-mismatch"),e.abrupt("return",Tb._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&tg(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Vb.apply(this,arguments)}function Ub(e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=yv(vv().mark((function e(t,n){var r,i,a,o,s=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Nb(t,i,n);case 4:return a=e.sent,e.next=7,Tb._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}function qb(e,t){return zb.apply(this,arguments)}function zb(){return(zb=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ub(xk(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wb(e,t){return Kb.apply(this,arguments)}function Kb(){return(Kb=yv(vv().mark((function e(t,n){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mm(t),e.next=3,Lb(!1,r,n.providerId);case 3:return e.abrupt("return",Ob(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hb(e,t){return Gb.apply(this,arguments)}function Gb(){return(Gb=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fb(mm(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qb(e,t){return Yb.apply(this,arguments)}function Yb(){return(Yb=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_g(t,"POST","/v1/accounts:signInWithCustomToken",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $b(){return($b=yv(vv().mark((function e(t,n){var r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xk(t),e.next=3,Qb(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Tb._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xb=function(){function e(t,n){tn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return on(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Jb._fromServerResponse(e,t):"totpInfo"in t?Zb._fromServerResponse(e,t):tg(e,"internal-error")}}]),e}(),Jb=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return on(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Xb),Zb=function(e){un(n,e);var t=fn(n);function n(e){return tn(this,n),t.call(this,"totp",e)}return on(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Xb);function ew(e,t,n){var r;og((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),og("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(og(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(og(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function tw(e){return nw.apply(this,arguments)}function nw(){return(nw=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=xk(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rw(){return rw=yv(vv().mark((function e(t,n,r){var i,a,o,s;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=xk(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Ik(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&ew(a,s,r),e.next=9,Hk(a,s);case 9:e.next=14;break;case 11:return r&&ew(a,o,r),e.next=14,Hk(a,o).catch(function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Ik(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&ew(a,n,r),e.next=8,Hk(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),rw.apply(this,arguments)}function iw(){return iw=yv(vv().mark((function e(t,n,r){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ok(mm(t),{oobCode:n,newPassword:r}).catch(function(){var e=yv(vv().mark((function e(n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&tw(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),iw.apply(this,arguments)}function aw(){return(aw=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fk(mm(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ow(e,t){return sw.apply(this,arguments)}function sw(){return(sw=yv(vv().mark((function e(t,n){var r,i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mm(t),e.next=3,Ok(r,{oobCode:n});case 3:i=e.sent,og(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return og(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:og(i.mfaInfo,r,"internal-error");case 13:og(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Xb._fromServerResponse(xk(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uw(){return(uw=yv(vv().mark((function e(t,n){var r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ow(mm(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cw(e,t,n){return lw.apply(this,arguments)}function lw(){return lw=yv(vv().mark((function e(t,n,r){var i,a,o,s,u,c,l;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=xk(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Ik(a,o,"signUpPassword");case 5:u=e.sent,s=Sb(a,u),e.next=10;break;case 9:s=Sb(a,o).catch(function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Ik(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Sb(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&tw(t),e}));case 12:return c=e.sent,e.next=15,Tb._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),lw.apply(this,arguments)}function hw(e,t,n){return qb(mm(e),pb.credential(t,n)).catch(function(){var t=yv(vv().mark((function t(n){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&tw(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function fw(){return fw=yv(vv().mark((function e(t,n,r){var i,a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){og(t.handleCodeInApp,a,"argument-error"),t&&ew(a,e,t)},a=xk(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Ik(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,Qk(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,Qk(a,o).catch(function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Ik(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,Qk(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function dw(){return(dw=yv(vv().mark((function e(t,n,r){var i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mm(t),og((a=pb.credentialWithLink(n,r||cg()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",qb(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pw(e,t){return vw.apply(this,arguments)}function vw(){return(vw=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gg(t,"POST","/v1/accounts:createAuthUri",yg(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mw(){return(mw=yv(vv().mark((function e(t,n){var r,i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lg()?cg():"http://localhost",i={identifier:n,continueUri:r},e.next=4,pw(mm(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yw(){return(yw=yv(vv().mark((function e(t,n){var r,i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mm(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ew(r.auth,a,n),e.next=8,Wk(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gw(){return(gw=yv(vv().mark((function e(t,n,r){var i,a,o,s;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mm(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ew(i.auth,o,r),e.next=8,$k(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kw(e,t){return bw.apply(this,arguments)}function bw(){return(bw=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gg(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ww(){return(ww=yv(vv().mark((function e(t,n){var r,i,a,o,s,u,c;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=mm(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Bg(a,kw(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _w(e,t,n){return xw.apply(this,arguments)}function xw(){return(xw=yv(vv().mark((function e(t,n,r){var i,a,o,s;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Bg(t,Lk(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sw=on((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ew=function(e){un(n,e);var t=fn(n);function n(e,r,i,a){var o;return tn(this,n),(o=t.call(this,e,r,i)).username=a,o}return on(n)}(Sw),Tw=function(e){un(n,e);var t=fn(n);function n(e,r){return tn(this,n),t.call(this,e,"facebook.com",r)}return on(n)}(Sw),Cw=function(e){un(n,e);var t=fn(n);function n(e,r){return tn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return on(n)}(Ew),Iw=function(e){un(n,e);var t=fn(n);function n(e,r){return tn(this,n),t.call(this,e,"google.com",r)}return on(n)}(Sw),Pw=function(e){un(n,e);var t=fn(n);function n(e,r,i){return tn(this,n),t.call(this,e,"twitter.com",r,i)}return on(n)}(Ew);function Nw(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ug(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Sw(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Tw(a,i);case"github.com":return new Cw(a,i);case"google.com":return new Iw(a,i);case"twitter.com":return new Pw(a,i,e.screenName||null);case"custom":case"anonymous":return new Sw(a,null);default:return new Sw(a,r,i)}}(n)}var Aw=function(){function e(t,n,r){tn(this,e),this.type=t,this.credential=n,this.user=r}return on(e,[{key:"toJSON",value:function(){return{multiFactorSession:Qr({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Rw=function(){function e(t,n,r){tn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return on(e,[{key:"resolveSignIn",value:function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=xk(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Xb._fromServerResponse(r,e)}));og(i.mfaPendingCredential,r,"internal-error");var o=Aw._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=yv(vv().mark((function e(t){var a,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Tb._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return og(n.user,r,"internal-error"),e.abrupt("return",Tb._forOperation(n.user,n.operationType,s));case 17:tg(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Dw(e,t){return gg(e,"POST","/v2/accounts/mfaEnrollment:start",yg(e,t))}function Ow(e,t){return gg(e,"POST","/v2/accounts/mfaEnrollment:finalize",yg(e,t))}var jw=function(){function e(t){var n=this;tn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Xb._fromServerResponse(t.auth,e)})))}))}return on(e,[{key:"getSession",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Aw,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=yv(vv().mark((function e(t,n){var r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Bg(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=yv(vv().mark((function e(t){var n,r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Bg(this.user,gg(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",yg(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Lw=new WeakMap;var Mw="__sak",Fw=function(){function e(t,n){tn(this,e),this.storageRetriever=t,this.type=n}return on(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Mw,"1"),this.storage.removeItem(Mw),Promise.resolve(!0)):Promise.resolve(!1)}catch(h$){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Vw=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Fv();return ck(e)||vk(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=mk(),e._shouldAllowMigration=!0,e}return on(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);zv()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=yv(vv().mark((function e(t,r){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh(cn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=yv(vv().mark((function e(t){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh(cn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh(cn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Fw);Vw.type="LOCAL";var Uw=Vw,Bw=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return on(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Fw);Bw.type="SESSION";var qw=Bw;function zw(e){return Promise.all(e.map(function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ww=function(){function e(t){tn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return on(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=yv(vv().mark((function e(t){var n,r,i,a,o,s,u,c;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,zw(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Kw(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ww.receivers=[];var Hw=function(){function e(t){tn(this,e),this.target=t,this.handlers=new Set}return on(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=yv(vv().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Kw("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Gw(){return window}function Qw(e){Gw().location.href=e}function Yw(){return"undefined"!==typeof Gw().WorkerGlobalScope&&"function"===typeof Gw().importScripts}function $w(){return Xw.apply(this,arguments)}function Xw(){return(Xw=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Jw(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Zw="firebaseLocalStorageDb",e_="firebaseLocalStorage",t_="fbase_key",n_=function(){function e(t){tn(this,e),this.request=t}return on(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function r_(e,t){return e.transaction([e_],t?"readwrite":"readonly").objectStore(e_)}function i_(){var e=indexedDB.deleteDatabase(Zw);return new n_(e).toPromise()}function a_(){var e=indexedDB.open(Zw,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(e_,{keyPath:t_})}catch(r){n(r)}})),e.addEventListener("success",yv(vv().mark((function n(){var r;return vv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(e_)){n.next=12;break}return r.close(),n.next=5,i_();case 5:return n.t0=t,n.next=8,a_();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function o_(e,t,n){return s_.apply(this,arguments)}function s_(){return s_=yv(vv().mark((function e(t,n,r){var i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r_(t,!0).put((Qr(i={},t_,n),Qr(i,"value",r),i)),e.abrupt("return",new n_(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function u_(e,t){return c_.apply(this,arguments)}function c_(){return c_=yv(vv().mark((function e(t,n){var r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=r_(t,!1).get(n),e.next=3,new n_(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}function l_(e,t){var n=r_(e,!0).delete(t);return new n_(n).toPromise()}var h_=function(){function e(){tn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return on(e,[{key:"_openDb",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,a_();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=yv(vv().mark((function e(t){var n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yw()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=yv(vv().mark((function e(){var t=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ww._getInstance(Yw()?self:null),this.receiver._subscribe("keyChanged",function(){var e=yv(vv().mark((function e(n,r){var i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=yv(vv().mark((function e(){var t,n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$w();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Hw(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Jw()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,a_();case 5:return t=e.sent,e.next=8,o_(t,Mw,"1");case 8:return e.next=10,l_(t,Mw);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=yv(vv().mark((function e(t,n){var r=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return o_(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return u_(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=yv(vv().mark((function e(t){var n=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return l_(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=yv(vv().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=r_(e,!1).getAll();return new n_(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=kn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(yv(vv().mark((function t(){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();h_.type="LOCAL";var f_=h_;function d_(e,t){return gg(e,"POST","/v2/accounts/mfaSignIn:start",yg(e,t))}function p_(e,t){return gg(e,"POST","/v2/accounts/mfaSignIn:finalize",yg(e,t))}var v_=1e12,m_=function(){function e(t){tn(this,e),this.auth=t,this.counter=v_,this._widgets=new Map}return on(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new y_(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||v_;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||v_;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=yv(vv().mark((function e(t){var n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||v_,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),y_=function(){function e(t,n,r){var i=this;tn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;og(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return on(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var g_=Tk("rcb"),k_=new fg(3e4,6e4),b_=function(){function e(){var t;tn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Gw().grecaptcha)||void 0===t?void 0:t.render)}return on(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return og(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Ky(Gw().grecaptcha)?Promise.resolve(Gw().grecaptcha):new Promise((function(r,i){var a=Gw().setTimeout((function(){i(ng(e,"network-request-failed"))}),k_.get());Gw()[g_]=function(){Gw().clearTimeout(a),delete Gw()[g_];var o=Gw().grecaptcha;if(o&&Ky(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ng(e,"internal-error"))},Ek("".concat("https://www.google.com/recaptcha/api.js?","?").concat(im({onload:g_,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ng(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Gw().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var w_=function(){function e(){tn(this,e)}return on(e,[{key:"load",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new m_(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),__="recaptcha",x_={theme:"light",type:"image"},S_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},x_);tn(this,e),this.parameters=r,this.type=__,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xk(t),this.isInvisible="invisible"===this.parameters.size,og("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;og(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new w_:new b_,this.validateStartingState()}return on(e,[{key:"verify",value:function(){var e=yv(vv().mark((function e(){var t,n,r,i=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){og(!this.parameters.sitekey,this.auth,"argument-error"),og(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),og("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Gw()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){og(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=yv(vv().mark((function e(){var t,n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return og(lg()&&!Yw(),this.auth,"internal-error"),e.next=3,E_();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Cg(this.auth);case 8:og(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return og(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function E_(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var T_=function(){function e(t,n){tn(this,e),this.verificationId=t,this.onConfirmation=n}return on(e,[{key:"confirm",value:function(e){var t=fb._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function C_(){return(C_=yv(vv().mark((function e(t,n,r){var i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xk(t),e.next=3,A_(i,n,mm(r));case 3:return a=e.sent,e.abrupt("return",new T_(a,(function(e){return qb(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I_(e,t,n){return P_.apply(this,arguments)}function P_(){return(P_=yv(vv().mark((function e(t,n,r){var i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mm(t),e.next=3,Lb(!1,i,"phone");case 3:return e.next=5,A_(i.auth,n,mm(r));case 5:return a=e.sent,e.abrupt("return",new T_(a,(function(e){return Wb(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N_(){return(N_=yv(vv().mark((function e(t,n,r){var i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mm(t),e.next=3,A_(i.auth,n,mm(r));case 3:return a=e.sent,e.abrupt("return",new T_(a,(function(e){return Hb(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A_(e,t,n){return R_.apply(this,arguments)}function R_(){return(R_=yv(vv().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,og("string"===typeof a,t,"argument-error"),og(r.type===__,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return og("enroll"===s.type,t,"internal-error"),e.next=13,Dw(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return og("signin"===s.type,t,"internal-error"),og(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,d_(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ob(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}function D_(){return(D_=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ob(mm(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O_=function(){function e(t){tn(this,e),this.providerId=e.PROVIDER_ID,this.auth=xk(t)}return on(e,[{key:"verifyPhoneNumber",value:function(e,t){return A_(this.auth,e,mm(t))}}],[{key:"credential",value:function(e,t){return fb._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?fb._fromTokenResponse(n,r):null}}]),e}();function j_(e,t){return t?nk(t):(og(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}O_.PROVIDER_ID="phone",O_.PHONE_SIGN_IN_METHOD="phone";var L_=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return on(n,[{key:"_getIdTokenResponse",value:function(e){return rb(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return rb(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return rb(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Dk);function M_(e){return Ub(e.auth,new L_(e),e.bypassAuthState)}function F_(e){var t=e.auth,n=e.user;return og(n,t,"internal-error"),Fb(n,new L_(e),e.bypassAuthState)}function V_(e){return U_.apply(this,arguments)}function U_(){return(U_=yv(vv().mark((function e(t){var n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,og(r=t.user,n,"internal-error"),e.abrupt("return",Ob(r,new L_(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];tn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return on(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=yv(vv().mark((function t(n,r){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=yv(vv().mark((function e(t){var n,r,i,a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M_;case"linkViaPopup":case"linkViaRedirect":return V_;case"reauthViaPopup":case"reauthViaRedirect":return F_;default:tg(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ug(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ug(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),q_=new fg(2e3,1e4);function z_(e,t,n){return W_.apply(this,arguments)}function W_(){return(W_=yv(vv().mark((function e(t,n,r){var i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xk(t),ig(t,n,vb),a=j_(i,r),o=new Q_(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K_(){return(K_=yv(vv().mark((function e(t,n,r){var i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ig((i=mm(t)).auth,n,vb),a=j_(i.auth,r),o=new Q_(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H_(e,t,n){return G_.apply(this,arguments)}function G_(){return(G_=yv(vv().mark((function e(t,n,r){var i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ig((i=mm(t)).auth,n,vb),a=j_(i.auth,r),o=new Q_(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q_=function(e){un(n,e);var t=fn(n);function n(e,r,i,a,o){var s;return tn(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=hn(s),s}return on(n,[{key:"executeNotNull",value:function(){var e=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return og(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=yv(vv().mark((function e(){var t,n=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ug(1===this.filter.length,"Popup operations only handle one event"),t=Kw(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ng(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ng(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ng(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,q_.get())}()}}]),n}(B_);Q_.currentPopupAction=null;var Y_="pendingRedirect",$_=new Map,X_=function(e){un(n,e);var t=fn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return tn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return on(n,[{key:"execute",value:function(){var e=yv(vv().mark((function e(){var t,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$_.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,J_(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Wh(cn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:$_.set(this.auth._key(),t);case 21:return this.bypassAuthState||$_.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=yv(vv().mark((function e(t){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Wh(cn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Wh(cn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(B_);function J_(e,t){return Z_.apply(this,arguments)}function Z_(){return Z_=yv(vv().mark((function e(t,n){var r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ix(n),i=rx(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function ex(e,t){return tx.apply(this,arguments)}function tx(){return(tx=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rx(t)._set(ix(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nx(e,t){$_.set(e._key(),t)}function rx(e){return nk(e._redirectPersistence)}function ix(e){return ak(Y_,e.config.apiKey,e.name)}function ax(e,t,n){return function(e,t,n){return ox.apply(this,arguments)}(e,t,n)}function ox(){return(ox=yv(vv().mark((function e(t,n,r){var i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xk(t),ig(t,n,vb),e.next=4,i._initializationPromise;case 4:return a=j_(i,r),e.next=7,ex(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sx(e,t,n){return function(e,t,n){return ux.apply(this,arguments)}(e,t,n)}function ux(){return(ux=yv(vv().mark((function e(t,n,r){var i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ig((i=mm(t)).auth,n,vb),e.next=4,i.auth._initializationPromise;case 4:return a=j_(i.auth,r),e.next=7,ex(a,i.auth);case 7:return e.next=9,vx(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cx(e,t,n){return function(e,t,n){return lx.apply(this,arguments)}(e,t,n)}function lx(){return(lx=yv(vv().mark((function e(t,n,r){var i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ig((i=mm(t)).auth,n,vb),e.next=4,i.auth._initializationPromise;case 4:return a=j_(i.auth,r),e.next=7,Lb(!1,i,n.providerId);case 7:return e.next=9,ex(a,i.auth);case 9:return e.next=11,vx(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hx(e,t){return fx.apply(this,arguments)}function fx(){return(fx=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xk(t)._initializationPromise;case 2:return e.abrupt("return",dx(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dx(e,t){return px.apply(this,arguments)}function px(){return px=yv(vv().mark((function e(t,n){var r,i,a,o,s,u=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=xk(t),a=j_(i,n),o=new X_(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e){return mx.apply(this,arguments)}function mx(){return(mx=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kw("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yx=function(){function e(t){tn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return on(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kx(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!kx(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ng(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gx(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(gx(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function gx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function kx(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function bx(e){return wx.apply(this,arguments)}function wx(){return wx=yv(vv().mark((function e(t){var n,r=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",gg(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}var _x=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xx=/^https?/;function Sx(){return(Sx=yv(vv().mark((function e(t){var n,r,i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,bx(t);case 4:n=e.sent,r=n.authorizedDomains,i=kn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ex(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:tg(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Ex(e){var t=cg(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!xx.test(r))return!1;if(_x.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Tx=new fg(3e4,6e4);function Cx(){var e=Gw().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=en(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ix=null;function Px(e){return Ix=Ix||function(e){return new Promise((function(t,n){var r,i,a;function o(){Cx(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Cx(),n(ng(e,"network-request-failed"))},timeout:Tx.get()})}if(null===(i=null===(r=Gw().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Gw().gapi)||void 0===a?void 0:a.load)){var s=Tk("iframefcb");return Gw()[s]=function(){gapi.load?o():n(ng(e,"network-request-failed"))},Ek("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ix=null,e}))}(e),Ix}var Nx=new fg(5e3,15e3),Ax="__/auth/iframe",Rx="emulator/auth/iframe",Dx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ox=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jx(e){var t=e.config;og(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?dg(t,Rx):"https://".concat(e.config.authDomain,"/").concat(Ax),r={apiKey:t.apiKey,appName:e.name,v:fy},i=Ox.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(im(r).slice(1))}function Lx(e){return Mx.apply(this,arguments)}function Mx(){return Mx=yv(vv().mark((function e(t){var n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Px(t);case 2:return n=e.sent,og(r=Gw().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:jx(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dx,dontclear:!0},(function(e){return new Promise(function(){var n=yv(vv().mark((function n(r,i){var a,o,s;return vv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Gw().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ng(t,"network-request-failed"),o=Gw().setTimeout((function(){i(a)}),Nx.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}var Fx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vx=function(){function e(t){tn(this,e),this.window=t,this.associatedEvent=null}return on(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ux(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Fx),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Fv().toLowerCase();n&&(s=lk(c)?"_blank":n),uk(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=yn(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return vk(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Vx(null);var h=window.open(t||"",s,l);og(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Vx(h)}var Bx="__/auth/handler",qx="emulator/auth/handler",zx=encodeURIComponent("fac");function Wx(e,t,n,r,i,a){return Kx.apply(this,arguments)}function Kx(){return Kx=yv(vv().mark((function e(t,n,r,i,a,o){var s,u,c,l,h,f,d,p,v,m,y,g,k;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(og(t.config.authDomain,t,"auth-domain-config-required"),og(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:fy,eventId:a},n instanceof vb)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",em(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)l=yn(c[u],2),h=l[0],f=l[1],s[h]=f;for(n instanceof mb&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=d.join(",")),t.tenantId&&(s.tid=t.tenantId),p=s,v=0,m=Object.keys(p);v<m.length;v++)y=m[v],void 0===p[y]&&delete p[y];return e.next=10,t._getAppCheckToken();case 10:return g=e.sent,k=g?"#".concat(zx,"=").concat(encodeURIComponent(g)):"",e.abrupt("return","".concat(Hx(t),"?").concat(im(p).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Hx(e){var t=e.config;return t.emulator?dg(t,qx):"https://".concat(t.authDomain,"/").concat(Bx)}var Gx="webStorageSupport",Qx=function(){function e(){tn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qw,this._completeRedirectFn=dx,this._overrideRedirectResult=nx}return on(e,[{key:"_openPopup",value:function(){var e=yv(vv().mark((function e(t,n,r,i){var a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ug(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Wx(t,n,r,cg(),i);case 3:return o=e.sent,e.abrupt("return",Ux(t,o,Kw()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=yv(vv().mark((function e(t,n,r,i){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Wx(t,n,r,cg(),i);case 4:return Qw(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ug(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=yv(vv().mark((function e(t){var n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lx(t);case 2:return n=e.sent,r=new yx(t),n.register("authEvent",(function(e){return og(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Gx,{type:Gx},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Gx];void 0!==i&&t(!!i),tg(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Sx.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return mk()||ck()||vk()}}]),e}(),Yx=Qx,$x=function(){function e(t){tn(this,e),this.factorId=t}return on(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return sg("unexpected MultiFactorSessionType")}}}]),e}(),Xx=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this,"phone")).credential=e,r}return on(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return gg(e,"POST","/v2/accounts/mfaEnrollment:finalize",yg(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return gg(e,"POST","/v2/accounts/mfaSignIn:finalize",yg(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}($x),Jx=function(){function e(){tn(this,e)}return on(e,null,[{key:"assertion",value:function(e){return Xx._fromCredential(e)}}]),e}();Jx.FACTOR_ID="phone";var Zx=function(){function e(){tn(this,e)}return on(e,null,[{key:"assertionForEnrollment",value:function(e,t){return eS._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return eS._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=yv(vv().mark((function e(t){var n,r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return og("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,a=r.user.auth,o={idToken:r.credential,totpEnrollmentInfo:{}},gg(a,"POST","/v2/accounts/mfaEnrollment:start",yg(a,o));case 4:return i=e.sent,e.abrupt("return",tS._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}var a,o}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Zx.FACTOR_ID="totp";var eS=function(e){un(n,e);var t=fn(n);function n(e,r,i){var a;return tn(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return on(n,[{key:"_finalizeEnroll",value:function(){var e=yv(vv().mark((function e(t,n,r){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return og("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Ow(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=yv(vv().mark((function e(t,n){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return og(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",p_(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}($x),tS=function(){function e(t,n,r,i,a,o,s){tn(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return on(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(nS(e)||nS(t))&&(r=!0),r&&(nS(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),nS(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function nS(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var rS="@firebase/auth",iS="1.3.0",aS=function(){function e(t){tn(this,e),this.auth=t,this.internalListeners=new Map}return on(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){og(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var oS,sS=jv("authIdTokenMaxAge")||300,uS=null;function cS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:py(),t=oy(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=oy(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(nm(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;tg(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Yx,persistence:[f_,Uw,qw]}),i=jv("authTokenSyncURL");if(i){var a=(n=i,function(){var e=yv(vv().mark((function e(t){var r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(r=e.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>sS)){e.next=9;break}return e.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,uS!==a){e.next=12;break}return e.abrupt("return");case 12:return uS=a,e.next=15,fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){mm(e).beforeAuthStateChanged(t,n)}(r,a,(function(){return a(r.currentUser)})),function(e,t,n,r){mm(e).onIdTokenChanged(t,n,r)}(r,(function(e){return a(e)}))}var o=Dv("auth");return o&&Nk(r,"http://".concat(o)),r}oS="Browser",ay(new ym("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;og(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:oS,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yk(oS)},l=new _k(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nk);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ay(new ym("auth-internal",(function(e){return function(e){return new aS(e)}(xk(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),gy(rS,iS,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(oS)),gy(rS,iS,"esm2017");var lS,hS=function(){var e=cS(),n=(0,t.useContext)(gi),r=(n.loading,n.setLoading,yn((0,t.useState)(""),2)),i=r[0],a=r[1],o=yn((0,t.useState)(""),2),s=o[0],u=o[1],c=dr(),l=function(){var t=yv(vv().mark((function t(){var n;return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,hw(e,i,s);case 3:n=t.sent,Rf.success("login successfully"),localStorage.setItem("user",JSON.stringify(n)),c("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Rf.error("enter email or password is incorrect");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return(0,pi.jsx)(pi.Fragment,{children:(0,pi.jsx)("div",{className:"box4",children:(0,pi.jsxs)("div",{className:"section1",children:[" ",(0,pi.jsx)("span",{}),(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{}),(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{}),(0,pi.jsx)("div",{class:"signin",children:(0,pi.jsxs)("div",{class:"content",children:[(0,pi.jsx)("h2",{children:"Login"}),(0,pi.jsxs)("div",{class:"form",children:[(0,pi.jsxs)("div",{class:"inputBox",children:[(0,pi.jsx)("input",{type:"email",required:!0,name:"email",value:i,onChange:function(e){return a(e.target.value)}}),(0,pi.jsx)("i",{children:"Email"})]}),(0,pi.jsxs)("div",{class:"inputBox",children:[(0,pi.jsx)("input",{type:"password",required:!0,name:"password",value:s,onChange:function(e){return u(e.target.value)}}),(0,pi.jsx)("i",{children:"Password"})]}),(0,pi.jsxs)("div",{class:"links",children:[" ",(0,pi.jsx)("a",{href:"#",children:"Forgot Password"})," ",(0,pi.jsx)(Ur,{to:"/signup",children:"Signup"})]}),(0,pi.jsx)("div",{class:"inputBox",children:(0,pi.jsx)("input",{type:"submit",value:"Login",onClick:l})})]})]})})]})})})},fS="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},dS={},pS=pS||{},vS=fS||self;function mS(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function yS(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var gS="closure_uid_"+(1e9*Math.random()>>>0),kS=0;function bS(e,t,n){return e.call.apply(e.bind,arguments)}function wS(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _S(e,t,n){return(_S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bS:wS).apply(null,arguments)}function xS(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function SS(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ES(){this.s=this.s,this.o=this.o}ES.prototype.s=!1,ES.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,gS)&&e[gS]||(e[gS]=++kS)}(this)},ES.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var TS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function CS(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function IS(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(mS(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function PS(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}PS.prototype.h=function(){this.defaultPrevented=!0};var NS=function(){if(!vS.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{vS.addEventListener("test",(function(){}),t),vS.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function AS(e){return/^[\s\xa0]*$/.test(e)}function RS(){var e=vS.navigator;return e&&(e=e.userAgent)?e:""}function DS(e){return-1!=RS().indexOf(e)}function OS(e){return OS[" "](e),e}OS[" "]=function(){};var jS,LS,MS=DS("Opera"),FS=DS("Trident")||DS("MSIE"),VS=DS("Edge"),US=VS||FS,BS=DS("Gecko")&&!(-1!=RS().toLowerCase().indexOf("webkit")&&!DS("Edge"))&&!(DS("Trident")||DS("MSIE"))&&!DS("Edge"),qS=-1!=RS().toLowerCase().indexOf("webkit")&&!DS("Edge");function zS(){var e=vS.document;return e?e.documentMode:void 0}e:{var WS="",KS=function(){var e=RS();return BS?/rv:([^\);]+)(\)|;)/.exec(e):VS?/Edge\/([\d\.]+)/.exec(e):FS?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):qS?/WebKit\/(\S+)/.exec(e):MS?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(KS&&(WS=KS?KS[1]:""),FS){var HS=zS();if(null!=HS&&HS>parseFloat(WS)){jS=String(HS);break e}}jS=WS}if(vS.document&&FS){var GS=zS();LS=GS||(parseInt(jS,10)||void 0)}else LS=void 0;var QS=LS;function YS(e,t){if(PS.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(BS){e:{try{OS(t.nodeName);var i=!0;break e}catch(fe){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:$S[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&YS.$.h.call(this)}}SS(YS,PS);var $S={2:"touch",3:"pen",4:"mouse"};YS.prototype.h=function(){YS.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var XS="closure_listenable_"+(1e6*Math.random()|0),JS=0;function ZS(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++JS,this.fa=this.ia=!1}function eE(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function tE(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function nE(e){var t={};for(var n in e)t[n]=e[n];return t}var rE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iE(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<rE.length;a++)n=rE[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function aE(e){this.src=e,this.g={},this.h=0}function oE(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=TS(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(eE(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function sE(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}aE.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=sE(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new ZS(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var uE="closure_lm_"+(1e6*Math.random()|0),cE={};function lE(e,t,n,r,i){if(r&&r.once)return fE(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)lE(e,t[a],n,r,i);return null}return n=kE(n),e&&e[XS]?e.O(t,n,yS(r)?!!r.capture:!!r,i):hE(e,t,n,!1,r,i)}function hE(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=yS(i)?!!i.capture:!!i,s=yE(e);if(s||(e[uE]=s=new aE(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=mE;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)NS||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vE(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function fE(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)fE(e,t[a],n,r,i);return null}return n=kE(n),e&&e[XS]?e.P(t,n,yS(r)?!!r.capture:!!r,i):hE(e,t,n,!0,r,i)}function dE(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)dE(e,t[a],n,r,i);else r=yS(r)?!!r.capture:!!r,n=kE(n),e&&e[XS]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=sE(a=e.g[t],n,r,i))&&(eE(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=yE(e))&&(t=e.g[t.toString()],e=-1,t&&(e=sE(t,n,r,i)),(n=-1<e?t[e]:null)&&pE(n))}function pE(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[XS])oE(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vE(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=yE(t))?(oE(n,e),0==n.h&&(n.src=null,t[uE]=null)):eE(e)}}}function vE(e){return e in cE?cE[e]:cE[e]="on"+e}function mE(e,t){if(e.fa)e=!0;else{t=new YS(t,this);var n=e.listener,r=e.la||e.src;e.ia&&pE(e),e=n.call(r,t)}return e}function yE(e){return(e=e[uE])instanceof aE?e:null}var gE="__closure_events_fn_"+(1e9*Math.random()>>>0);function kE(e){return"function"===typeof e?e:(e[gE]||(e[gE]=function(t){return e.handleEvent(t)}),e[gE])}function bE(){ES.call(this),this.i=new aE(this),this.S=this,this.J=null}function wE(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new PS(t,e);else if(t instanceof PS)t.target=t.target||e;else{var i=t;iE(t=new PS(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=_E(o,r,!0,t)&&i}if(i=_E(o=t.g=e,r,!0,t)&&i,i=_E(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=_E(o=t.g=n[a],r,!1,t)&&i}function _E(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&oE(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}SS(bE,ES),bE.prototype[XS]=!0,bE.prototype.removeEventListener=function(e,t,n,r){dE(this,e,t,n,r)},bE.prototype.N=function(){if(bE.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)eE(n[r]);delete t.g[e],t.h--}}this.J=null},bE.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},bE.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xE=vS.JSON.stringify,SE=function(){function e(t,n){tn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return on(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function EE(){var e=DE,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var TE=function(){function e(){tn(this,e),this.h=this.g=null}return on(e,[{key:"add",value:function(e,t){var n=CE.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),CE=new SE((function(){return new IE}),(function(e){return e.reset()})),IE=function(){function e(){tn(this,e),this.next=this.g=this.h=null}return on(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function PE(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function NE(e){vS.setTimeout((function(){throw e}),0)}var AE,RE=!1,DE=new TE,OE=function(){var e=vS.Promise.resolve(void 0);AE=function(){e.then(jE)}},jE=function(){for(var e;e=EE();){try{e.h.call(e.g)}catch(n){NE(n)}var t=CE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}RE=!1};function LE(e,t){bE.call(this),this.h=e||1,this.g=t||vS,this.j=_S(this.qb,this),this.l=Date.now()}function ME(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function FE(e,t,n){if("function"===typeof e)n&&(e=_S(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_S(e.handleEvent,e)}return 2147483647<Number(t)?-1:vS.setTimeout(e,t||0)}function VE(e){e.g=FE((function(){e.g=null,e.i&&(e.i=!1,VE(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}SS(LE,bE),(lS=LE.prototype).ga=!1,lS.T=null,lS.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wE(this,"tick"),this.ga&&(ME(this),this.start()))}},lS.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lS.N=function(){LE.$.N.call(this),ME(this),delete this.g};var UE=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return on(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:VE(this)}},{key:"N",value:function(){Wh(cn(n.prototype),"N",this).call(this),this.g&&(vS.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ES);function BE(e){ES.call(this),this.h=e,this.g={}}SS(BE,ES);var qE=[];function zE(e,t,n,r){Array.isArray(n)||(n&&(qE[0]=n.toString()),n=qE);for(var i=0;i<n.length;i++){var a=lE(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function WE(e){tE(e.g,(function(e,t){this.g.hasOwnProperty(t)&&pE(e)}),e),e.g={}}function KE(){this.g=!0}function HE(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return xE(n)}catch(Df){return t}}(e,n)+(r?" "+r:"")}))}BE.prototype.N=function(){BE.$.N.call(this),WE(this)},BE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},KE.prototype.Ea=function(){this.g=!1},KE.prototype.info=function(){};var GE={},QE=null;function YE(){return QE=QE||new bE}function $E(e){PS.call(this,GE.Ta,e)}function XE(e){var t=YE();wE(t,new $E(t))}function JE(e,t){PS.call(this,GE.STAT_EVENT,e),this.stat=t}function ZE(e){var t=YE();wE(t,new JE(t,e))}function eT(e,t){PS.call(this,GE.Ua,e),this.size=t}function tT(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return vS.setTimeout((function(){e()}),t)}GE.Ta="serverreachability",SS($E,PS),GE.STAT_EVENT="statevent",SS(JE,PS),GE.Ua="timingevent",SS(eT,PS);var nT={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iT(){}function aT(e){return e.h||(e.h=e.i())}function oT(){}iT.prototype.h=null;var sT,uT={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cT(){PS.call(this,"d")}function lT(){PS.call(this,"c")}function hT(){}function fT(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new BE(this),this.P=pT,e=US?125:void 0,this.V=new LE(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dT}function dT(){this.i=null,this.g="",this.h=!1}SS(cT,PS),SS(lT,PS),SS(hT,iT),hT.prototype.g=function(){return new XMLHttpRequest},hT.prototype.i=function(){return{}},sT=new hT;var pT=45e3,vT={},mT={};function yT(e,t,n){e.L=1,e.v=LT(AT(t)),e.s=n,e.S=!0,gT(e,null)}function gT(e,t){e.G=Date.now(),_T(e),e.A=AT(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),YT(n.i,"t",r),e.C=0,n=e.l.J,e.h=new dT,e.g=YC(e.l,n?t:null,!e.s),0<e.O&&(e.M=new UE(_S(e.Pa,e,e.g),e.O)),zE(e.U,e.g,"readystatechange",e.nb),t=e.I?nE(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),XE(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function kT(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function bT(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=wT(e,n))==mT){4==t&&(e.o=4,ZE(14),i=!1),HE(e.j,e.m,null,"[Incomplete Response]");break}if(r==vT){e.o=4,ZE(15),HE(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}HE(e.j,e.m,r,null),CT(e,r)}kT(e)&&r!=mT&&r!=vT&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ZE(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),BC(t),t.M=!0,ZE(11))):(HE(e.j,e.m,n,"[Invalid Chunked Response]"),TT(e),ET(e))}function wT(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?mT:(n=Number(t.substring(n,r)),isNaN(n)?vT:(r+=1)+n>t.length?mT:(t=t.slice(r,r+n),e.C=r+n,t))}function _T(e){e.Y=Date.now()+e.P,xT(e,e.P)}function xT(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tT(_S(e.lb,e),t)}function ST(e){e.B&&(vS.clearTimeout(e.B),e.B=null)}function ET(e){0==e.l.H||e.J||WC(e.l,e)}function TT(e){ST(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ME(e.V),WE(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function CT(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||nC(n.i,e)))if(!e.K&&nC(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;zC(n),DC(n)}UC(n),ZE(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=tT(_S(n.ib,n),6e3));if(1>=tC(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else HC(n,11)}else if((e.K||n.g==e)&&zC(n),!AS(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;h.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(rC(h,h.h),h.h=null))}if(r.F){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.Da=f,jT(r.I,r.F,f))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=QC(r,r.J?r.pa:null,r.Y),d.K){iC(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(ST(p),_T(p)),r.g=d}else VC(r);0<n.j.length&&jC(n)}else"stop"!=a[0]&&"close"!=a[0]||HC(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?HC(n,7):RC(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}XE()}catch(a){}}function IT(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(mS(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(mS(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(mS(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(lS=fT.prototype).setTimeout=function(e){this.P=e},lS.nb=function(e){e=e.target;var t=this.M;t&&3==TC(e)?t.l():this.Pa(e)},lS.Pa=function(e){try{if(e==this.g)e:{var t=TC(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||US||this.g&&(this.h.h||this.g.ja()||CC(this.g)))){this.J||4!=t||7==n||XE(),ST(this);var r=this.g.da();this.ca=r;t:if(kT(this)){var i=CC(this.g);e="";var a=i.length,o=4==TC(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){TT(this),ET(this);var s="";break t}this.h.i=new vS.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!AS(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ZE(12),TT(this),ET(this);break e}HE(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,CT(this,r)}this.S?(bT(this,t,s),US&&this.i&&3==t&&(zE(this.U,this.V,"tick",this.mb),this.V.start())):(HE(this.j,this.m,s,null),CT(this,s)),4==t&&TT(this),this.i&&!this.J&&(4==t?WC(this.l,this):(this.i=!1,_T(this)))}else(function(e){var t={};e=(e.g&&2<=TC(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!AS(e[n])){var r=PE(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,ZE(12)):(this.o=0,ZE(13)),TT(this),ET(this)}}}catch(t){}},lS.mb=function(){if(this.g){var e=TC(this.g),t=this.g.ja();this.C<t.length&&(ST(this),bT(this,e,t),this.i&&4!=e&&_T(this))}},lS.cancel=function(){this.J=!0,TT(this)},lS.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(XE(),ZE(17)),TT(this),this.o=2,ET(this)):xT(this,this.Y-e)};var PT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NT(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof NT){this.h=e.h,RT(this,e.j),this.s=e.s,this.g=e.g,DT(this,e.m),this.l=e.l;var t=e.i,n=new KT;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),OT(this,n),this.o=e.o}else e&&(t=String(e).match(PT))?(this.h=!1,RT(this,t[1]||"",!0),this.s=MT(t[2]||""),this.g=MT(t[3]||"",!0),DT(this,t[4]),this.l=MT(t[5]||"",!0),OT(this,t[6]||"",!0),this.o=MT(t[7]||"")):(this.h=!1,this.i=new KT(null,this.h))}function AT(e){return new NT(e)}function RT(e,t,n){e.j=n?MT(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function DT(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function OT(e,t,n){t instanceof KT?(e.i=t,function(e,t){t&&!e.j&&(HT(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(GT(this,t),YT(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=FT(t,zT)),e.i=new KT(t,e.h))}function jT(e,t,n){e.i.set(t,n)}function LT(e){return jT(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function MT(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function FT(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,VT),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function VT(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}NT.prototype.toString=function(){var e=[],t=this.j;t&&e.push(FT(t,UT,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(FT(t,UT,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(FT(n,"/"==n.charAt(0)?qT:BT,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",FT(n,WT)),e.join("")};var UT=/[#\/\?@]/g,BT=/[#\?:]/g,qT=/[#\?]/g,zT=/[#\?@]/g,WT=/#/g;function KT(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function HT(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function GT(e,t){HT(e),t=$T(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function QT(e,t){return HT(e),t=$T(e,t),e.g.has(t)}function YT(e,t,n){GT(e,t),0<n.length&&(e.i=null,e.g.set($T(e,t),CS(n)),e.h+=n.length)}function $T(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(lS=KT.prototype).add=function(e,t){HT(this),this.i=null,e=$T(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},lS.forEach=function(e,t){HT(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},lS.ta=function(){HT(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},lS.Z=function(e){HT(this);var t=[];if("string"===typeof e)QT(this,e)&&(t=t.concat(this.g.get($T(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},lS.set=function(e,t){return HT(this),this.i=null,QT(this,e=$T(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},lS.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},lS.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var XT=on((function e(t,n){tn(this,e),this.g=t,this.map=n}));function JT(e){this.l=e||ZT,vS.PerformanceNavigationTiming?e=0<(e=vS.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(vS.g&&vS.g.Ka&&vS.g.Ka()&&vS.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ZT=10;function eC(e){return!!e.h||!!e.g&&e.g.size>=e.j}function tC(e){return e.h?1:e.g?e.g.size:0}function nC(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function rC(e,t){e.g?e.g.add(t):e.h=t}function iC(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function aC(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=kn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return CS(e.i)}JT.prototype.cancel=function(){if(this.i=aC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=kn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var oC=function(){function e(){tn(this,e)}return on(e,[{key:"stringify",value:function(e){return vS.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return vS.JSON.parse(e,void 0)}}]),e}();function sC(){this.g=new oC}function uC(e,t,n){var r=n||"";try{IT(e,(function(e,n){var i=e;yS(e)&&(i=xE(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function cC(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(fe){}}function lC(e){this.l=e.ec||null,this.j=e.ob||!1}function hC(e,t){bE.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=fC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}SS(lC,iT),lC.prototype.g=function(){return new hC(this.l,this.j)},lC.prototype.i=function(e){return function(){return e}}({}),SS(hC,bE);var fC=0;function dC(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function pC(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vC(e)}function vC(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(lS=hC.prototype).open=function(e,t){if(this.readyState!=fC)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vC(this)},lS.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||vS).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},lS.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pC(this)),this.readyState=fC},lS.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vC(this)),this.g&&(this.readyState=3,vC(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof vS.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dC(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},lS.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pC(this):vC(this),3==this.readyState&&dC(this)}},lS.Za=function(e){this.g&&(this.response=this.responseText=e,pC(this))},lS.Ya=function(e){this.g&&(this.response=e,pC(this))},lS.ka=function(){this.g&&pC(this)},lS.setRequestHeader=function(e,t){this.v.append(e,t)},lS.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},lS.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var mC=vS.JSON.parse;function yC(e){bE.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gC,this.L=this.M=!1}SS(yC,bE);var gC="",kC=/^https?$/i,bC=["POST","PUT"];function wC(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,_C(e),SC(e)}function _C(e){e.F||(e.F=!0,wE(e,"complete"),wE(e,"error"))}function xC(e){if(e.h&&"undefined"!=typeof pS&&(!e.C[1]||4!=TC(e)||2!=e.da()))if(e.v&&4==TC(e))FE(e.La,0,e);else if(wE(e,"readystatechange"),4==TC(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(PT)[1]||null;!a&&vS.self&&vS.self.location&&(a=vS.self.location.protocol.slice(0,-1)),i=!kC.test(a?a.toLowerCase():"")}t=i}if(t)wE(e,"complete"),wE(e,"success");else{e.m=6;try{var o=2<TC(e)?e.g.statusText:""}catch(Df){o=""}e.j=o+" ["+e.da()+"]",_C(e)}}finally{SC(e)}}}function SC(e,t){if(e.g){EC(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||wE(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function EC(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(vS.clearTimeout(e.A),e.A=null)}function TC(e){return e.g?e.g.readyState:0}function CC(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case gC:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function IC(e){var t="";return tE(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function PC(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=IC(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):jT(e,t,n))}function NC(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function AC(e){this.Ga=0,this.j=[],this.l=new KE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=NC("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=NC("baseRetryDelayMs",5e3,e),this.hb=NC("retryDelaySeedMs",1e4,e),this.eb=NC("forwardChannelMaxRetries",2,e),this.xa=NC("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new JT(e&&e.concurrentRequestLimit),this.Ja=new sC,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function RC(e){if(OC(e),3==e.H){var t=e.W++,n=AT(e.I);if(jT(n,"SID",e.K),jT(n,"RID",t),jT(n,"TYPE","terminate"),MC(e,n),(t=new fT(e,e.l,t)).L=2,t.v=LT(AT(n)),n=!1,vS.navigator&&vS.navigator.sendBeacon)try{n=vS.navigator.sendBeacon(t.v.toString(),"")}catch(af){}!n&&vS.Image&&((new Image).src=t.v,n=!0),n||(t.g=YC(t.l,null),t.g.ha(t.v)),t.G=Date.now(),_T(t)}GC(e)}function DC(e){e.g&&(BC(e),e.g.cancel(),e.g=null)}function OC(e){DC(e),e.u&&(vS.clearTimeout(e.u),e.u=null),zC(e),e.i.cancel(),e.m&&("number"===typeof e.m&&vS.clearTimeout(e.m),e.m=null)}function jC(e){if(!eC(e.i)&&!e.m){e.m=!0;var t=e.Na;AE||OE(),RE||(AE(),RE=!0),DE.add(t,e),e.C=0}}function LC(e,t){var n;n=t?t.m:e.W++;var r=AT(e.I);jT(r,"SID",e.K),jT(r,"RID",n),jT(r,"AID",e.V),MC(e,r),e.o&&e.s&&PC(r,e.o,e.s),n=new fT(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=FC(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),rC(e.i,n),yT(n,r,t)}function MC(e,t){e.na&&tE(e.na,(function(e,n){jT(t,n,e)})),e.h&&IT({},(function(e,n){jT(t,n,e)}))}function FC(e,t,n){n=Math.min(e.j.length,n);var r=e.h?_S(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{uC(l,o,"req"+c+"_")}catch(je){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function VC(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;AE||OE(),RE||(AE(),RE=!0),DE.add(t,e),e.A=0}}function UC(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=tT(_S(e.Ma,e),KC(e,e.A)),e.A++,!0)}function BC(e){null!=e.B&&(vS.clearTimeout(e.B),e.B=null)}function qC(e){e.g=new fT(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=AT(e.wa);jT(t,"RID","rpc"),jT(t,"SID",e.K),jT(t,"AID",e.V),jT(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&jT(t,"TO",e.qa),jT(t,"TYPE","xmlhttp"),MC(e,t),e.o&&e.s&&PC(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=LT(AT(t)),n.s=null,n.S=!0,gT(n,e)}function zC(e){null!=e.v&&(vS.clearTimeout(e.v),e.v=null)}function WC(e,t){var n=null;if(e.g==t){zC(e),BC(e),e.g=null;var r=2}else{if(!nC(e.i,t))return;n=t.F,iC(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;wE(r=YE(),new eT(r,n)),jC(e)}else VC(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(tC(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=tT(_S(e.Na,e,t),KC(e,e.C)),e.C++,!0))}(e,t)||2==r&&UC(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:HC(e,5);break;case 4:HC(e,10);break;case 3:HC(e,6);break;default:HC(e,2)}}function KC(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function HC(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=_S(e.pb,e);n||(n=new NT("//www.google.com/images/cleardot.gif"),vS.location&&"http"==vS.location.protocol||RT(n,"https"),LT(n)),function(e,t){var n=new KE;if(vS.Image){var r=new Image;r.onload=xS(cC,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xS(cC,n,r,"TestLoadImage: error",!1,t),r.onabort=xS(cC,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xS(cC,n,r,"TestLoadImage: timeout",!1,t),vS.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ZE(2);e.H=0,e.h&&e.h.za(t),GC(e),OC(e)}function GC(e){if(e.H=0,e.ma=[],e.h){var t=aC(e.i);0==t.length&&0==e.j.length||(IS(e.ma,t),IS(e.ma,e.j),e.i.i.length=0,CS(e.j),e.j.length=0),e.h.ya()}}function QC(e,t,n){var r=n instanceof NT?AT(n):new NT(n);if(""!=r.g)t&&(r.g=t+"."+r.g),DT(r,r.m);else{var i=vS.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new NT(null);r&&RT(a,r),t&&(a.g=t),i&&DT(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&jT(r,n,t),jT(r,"VER",e.ra),MC(e,r),r}function YC(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new yC(new lC({ob:!0})):new yC(e.va)).Oa(e.J),t}function $C(){}function XC(){if(FS&&!(10<=Number(QS)))throw Error("Environmental error: no available transport.")}function JC(e,t){bE.call(this),this.g=new AC(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!AS(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!AS(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new tI(this)}function ZC(e){cT.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function eI(){lT.call(this),this.status=1}function tI(e){this.g=e}function nI(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rI(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function iI(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(lS=yC.prototype).Oa=function(e){this.M=e},lS.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sT.g(),this.C=this.u?aT(this.u):aT(sT),this.g.onreadystatechange=_S(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void wC(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=kn(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=vS.FormData&&e instanceof vS.FormData,!(0<=TS(bC,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=kn(n);try{for(c.s();!(u=c.n()).done;){var l=yn(u.value,2),h=l[0],f=l[1];this.g.setRequestHeader(h,f)}}catch(d){c.e(d)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{EC(this),0<this.B&&((this.L=function(e){return FS&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_S(this.ua,this)):this.A=FE(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){wC(this,s)}},lS.ua=function(){"undefined"!=typeof pS&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wE(this,"timeout"),this.abort(8))},lS.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,wE(this,"complete"),wE(this,"abort"),SC(this))},lS.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),SC(this,!0)),yC.$.N.call(this)},lS.La=function(){this.s||(this.G||this.v||this.l?xC(this):this.kb())},lS.kb=function(){xC(this)},lS.isActive=function(){return!!this.g},lS.da=function(){try{return 2<TC(this)?this.g.status:-1}catch(Vf){return-1}},lS.ja=function(){try{return this.g?this.g.responseText:""}catch(Vf){return""}},lS.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mC(t)}},lS.Ia=function(){return this.m},lS.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(lS=AC.prototype).ra=8,lS.H=1,lS.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new fT(this,this.l,e),n=this.s;if(this.U&&(n?iE(n=nE(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=FC(this,t,r),jT(i=AT(this.I),"RID",e),jT(i,"CVER",22),this.F&&jT(i,"X-HTTP-Session-Id",this.F),MC(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(IC(n)))+"&"+r:this.o&&PC(i,this.o,n)),rC(this.i,t),this.bb&&jT(i,"TYPE","init"),this.P?(jT(i,"$req",r),jT(i,"SID","null"),t.aa=!0,yT(t,i,null)):yT(t,i,r),this.H=2}}else 3==this.H&&(e?LC(this,e):0==this.j.length||eC(this.i)||LC(this))},lS.Ma=function(){if(this.u=null,qC(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=tT(_S(this.jb,this),e)}},lS.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ZE(10),DC(this),qC(this))},lS.ib=function(){null!=this.v&&(this.v=null,DC(this),UC(this),ZE(19))},lS.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ZE(2)):(this.l.info("Failed to ping google.com"),ZE(1))},lS.isActive=function(){return!!this.h&&this.h.isActive(this)},(lS=$C.prototype).Ba=function(){},lS.Aa=function(){},lS.za=function(){},lS.ya=function(){},lS.isActive=function(){return!0},lS.Va=function(){},XC.prototype.g=function(e,t){return new JC(e,t)},SS(JC,bE),JC.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ZE(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=QC(e,null,e.Y),jC(e)},JC.prototype.close=function(){RC(this.g)},JC.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=xE(e),e=n);t.j.push(new XT(t.fb++,e)),3==t.H&&jC(t)},JC.prototype.N=function(){this.g.h=null,delete this.j,RC(this.g),delete this.g,JC.$.N.call(this)},SS(ZC,cT),SS(eI,lT),SS(tI,$C),tI.prototype.Ba=function(){wE(this.g,"a")},tI.prototype.Aa=function(e){wE(this.g,new ZC(e))},tI.prototype.za=function(e){wE(this.g,new eI)},tI.prototype.ya=function(){wE(this.g,"b")},SS(nI,(function(){this.blockSize=-1})),nI.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},nI.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)rI(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){rI(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){rI(this,r),i=0;break}}this.h=i,this.i+=t},nI.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var aI={};function oI(e){return-128<=e&&128>e?function(e,t){var n=aI;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new iI([0|e],0>e?-1:0)})):new iI([0|e],0>e?-1:0)}function sI(e){if(isNaN(e)||!isFinite(e))return cI;if(0>e)return pI(sI(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=uI;return new iI(t,0)}var uI=4294967296,cI=oI(0),lI=oI(1),hI=oI(16777216);function fI(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function dI(e){return-1==e.h}function pI(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new iI(n,~e.h).add(lI)}function vI(e,t){return e.add(pI(t))}function mI(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function yI(e,t){this.g=e,this.h=t}function gI(e,t){if(fI(t))throw Error("division by zero");if(fI(e))return new yI(cI,cI);if(dI(e))return t=gI(pI(e),t),new yI(pI(t.g),pI(t.h));if(dI(t))return t=gI(e,pI(t)),new yI(pI(t.g),t.h);if(30<e.g.length){if(dI(e)||dI(t))throw Error("slowDivide_ only works with positive integers.");for(var n=lI,r=t;0>=r.X(e);)n=kI(n),r=kI(r);var i=bI(n,1),a=bI(r,1);for(r=bI(r,2),n=bI(n,2);!fI(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=bI(r,1),n=bI(n,1)}return t=vI(e,i.R(t)),new yI(i,t)}for(i=cI;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=sI(n)).R(t);dI(o)||0<o.X(e);)o=(a=sI(n-=r)).R(t);fI(a)&&(a=lI),i=i.add(a),e=vI(e,o)}return new yI(i,e)}function kI(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new iI(n,e.h)}function bI(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new iI(i,e.h)}(lS=iI.prototype).ea=function(){if(dI(this))return-pI(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:uI+r)*t,t*=uI}return e},lS.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(fI(this))return"0";if(dI(this))return"-"+pI(this).toString(e);for(var t=sI(Math.pow(e,6)),n=this,r="";;){var i=gI(n,t).g,a=((0<(n=vI(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(fI(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},lS.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},lS.X=function(e){return dI(e=vI(this,e))?-1:fI(e)?0:1},lS.abs=function(){return dI(this)?pI(this):this},lS.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new iI(n,-2147483648&n[n.length-1]?-1:0)},lS.R=function(e){if(fI(this)||fI(e))return cI;if(dI(this))return dI(e)?pI(this).R(pI(e)):pI(pI(this).R(e));if(dI(e))return pI(this.R(pI(e)));if(0>this.X(hI)&&0>e.X(hI))return sI(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,mI(n,2*r+2*i),n[2*r+2*i+1]+=a*u,mI(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,mI(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,mI(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new iI(n,0)},lS.gb=function(e){return gI(this,e).h},lS.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new iI(n,this.h&e.h)},lS.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new iI(n,this.h|e.h)},lS.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new iI(n,this.h^e.h)},XC.prototype.createWebChannel=XC.prototype.g,JC.prototype.send=JC.prototype.u,JC.prototype.open=JC.prototype.m,JC.prototype.close=JC.prototype.close,nT.NO_ERROR=0,nT.TIMEOUT=8,nT.HTTP_ERROR=6,rT.COMPLETE="complete",oT.EventType=uT,uT.OPEN="a",uT.CLOSE="b",uT.ERROR="c",uT.MESSAGE="d",bE.prototype.listen=bE.prototype.O,yC.prototype.listenOnce=yC.prototype.P,yC.prototype.getLastError=yC.prototype.Sa,yC.prototype.getLastErrorCode=yC.prototype.Ia,yC.prototype.getStatus=yC.prototype.da,yC.prototype.getResponseJson=yC.prototype.Wa,yC.prototype.getResponseText=yC.prototype.ja,yC.prototype.send=yC.prototype.ha,yC.prototype.setWithCredentials=yC.prototype.Oa,nI.prototype.digest=nI.prototype.l,nI.prototype.reset=nI.prototype.reset,nI.prototype.update=nI.prototype.j,iI.prototype.add=iI.prototype.add,iI.prototype.multiply=iI.prototype.R,iI.prototype.modulo=iI.prototype.gb,iI.prototype.compare=iI.prototype.X,iI.prototype.toNumber=iI.prototype.ea,iI.prototype.toString=iI.prototype.toString,iI.prototype.getBits=iI.prototype.D,iI.fromNumber=sI,iI.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return pI(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=sI(Math.pow(n,8)),i=cI,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=sI(Math.pow(n,o)),i=i.R(o).add(sI(s))):i=(i=i.R(r)).add(sI(s))}return i};var wI=dS.createWebChannelTransport=function(){return new XC},_I=dS.getStatEventTarget=function(){return YE()},xI=dS.ErrorCode=nT,SI=dS.EventType=rT,EI=dS.Event=GE,TI=dS.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},CI=(dS.FetchXmlHttpFactory=lC,dS.WebChannel=oT),II=dS.XhrIo=yC,PI=dS.Md5=nI,NI=dS.Integer=iI,AI="@firebase/firestore",RI=function(){function e(t){tn(this,e),this.uid=t}return on(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();RI.UNAUTHENTICATED=new RI(null),RI.GOOGLE_CREDENTIALS=new RI("google-credentials-uid"),RI.FIRST_PARTY=new RI("first-party-uid"),RI.MOCK_USER=new RI("mock-user");var DI="10.5.0",OI=new Pm("@firebase/firestore");function jI(){return OI.logLevel}function LI(e){if(OI.logLevel<=_m.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(VI);OI.debug.apply(OI,["Firestore (".concat(DI,"): ").concat(e)].concat(en(i)))}}function MI(e){if(OI.logLevel<=_m.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(VI);OI.error.apply(OI,["Firestore (".concat(DI,"): ").concat(e)].concat(en(i)))}}function FI(e){if(OI.logLevel<=_m.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(VI);OI.warn.apply(OI,["Firestore (".concat(DI,"): ").concat(e)].concat(en(i)))}}function VI(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function UI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(DI,") INTERNAL ASSERTION FAILED: ")+e;throw MI(t),new Error(t)}function BI(e,t){e||UI()}function qI(e,t){return e}var zI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},WI=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return on(n)}(Hv),KI=on((function e(){var t=this;tn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),HI=on((function e(t,n){tn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),GI=function(){function e(){tn(this,e)}return on(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(RI.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),QI=function(){function e(t){tn(this,e),this.token=t,this.changeListener=null}return on(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),YI=function(){function e(t){tn(this,e),this.t=t,this.currentUser=RI.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return on(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new KI;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new KI,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){LI("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(LI("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new KI)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(LI("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(BI("string"==typeof n.accessToken),new HI(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return BI(null===e||"string"==typeof e),new RI(e)}}]),e}(),$I=function(){function e(t,n,r){tn(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=RI.FIRST_PARTY,this.I=new Map}return on(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),XI=function(){function e(t,n,r){tn(this,e),this.l=t,this.h=n,this.P=r}return on(e,[{key:"getToken",value:function(){return Promise.resolve(new $I(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(RI.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),JI=on((function e(t){tn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ZI=function(){function e(t){tn(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return on(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&LI("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,LI("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){LI("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):LI("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(BI("string"==typeof t.token),e.R=t.token,new JI(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function eP(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var tP=function(){function e(){tn(this,e)}return on(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=eP(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function nP(e,t){return e<t?-1:e>t?1:0}function rP(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function iP(e){return e+"\0"}var aP=function(){function e(t,n){if(tn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new WI(zI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new WI(zI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new WI(zI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new WI(zI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return on(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?nP(this.nanoseconds,e.nanoseconds):nP(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),oP=function(){function e(t){tn(this,e),this.timestamp=t}return on(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new aP(0,0))}},{key:"max",value:function(){return new e(new aP(253402300799,999999999))}}]),e}(),sP=function(){function e(t,n,r){tn(this,e),void 0===n?n=0:n>t.length&&UI(),void 0===r?r=t.length-n:r>t.length-n&&UI(),this.segments=t,this.offset=n,this.len=r}return on(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),uP=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new WI(zI.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,en(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(sP),cP=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lP=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return cP.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new WI(zI.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new WI(zI.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new WI(zI.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new WI(zI.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(sP),hP=function(){function e(t){tn(this,e),this.path=t}return on(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===uP.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(uP.fromString(t))}},{key:"fromName",value:function(t){return new e(uP.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(uP.emptyPath())}},{key:"comparator",value:function(e,t){return uP.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new uP(t.slice()))}}]),e}(),fP=on((function e(t,n,r,i){tn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function dP(e){return e.fields.find((function(e){return 2===e.kind}))}function pP(e){return e.fields.filter((function(e){return 2!==e.kind}))}fP.UNKNOWN_ID=-1;var vP=on((function e(t,n){tn(this,e),this.fieldPath=t,this.kind=n}));var mP=function(){function e(t,n){tn(this,e),this.sequenceNumber=t,this.offset=n}return on(e,null,[{key:"empty",value:function(){return new e(0,kP.min())}}]),e}();function yP(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=oP.fromTimestamp(1e9===r?new aP(n+1,0):new aP(n,r));return new kP(i,hP.empty(),t)}function gP(e){return new kP(e.readTime,e.key,-1)}var kP=function(){function e(t,n,r){tn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return on(e,null,[{key:"min",value:function(){return new e(oP.min(),hP.empty(),-1)}},{key:"max",value:function(){return new e(oP.max(),hP.empty(),-1)}}]),e}();function bP(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=hP.comparator(e.documentKey,t.documentKey))?n:nP(e.largestBatchId,t.largestBatchId)}var wP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_P=function(){function e(){tn(this,e),this.onCommittedListeners=[]}return on(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function xP(e){return SP.apply(this,arguments)}function SP(){return(SP=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===zI.FAILED_PRECONDITION&&t.message===wP){e.next=2;break}throw t;case 2:LI("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var EP=function(){function e(t){var n=this;tn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return on(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&UI(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=kn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),TP=function(){function e(t,n){var r=this;tn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new KI,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new PP(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=OP(e.target.error);r.m.reject(new PP(t,n))}}return on(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(LI("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new AP(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new PP(n,t)}}}]),e}(),CP=function(){function e(t,n,r){tn(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Fv())&&MI("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return on(e,[{key:"N",value:function(){var e=yv(vv().mark((function e(t){var n=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return LI("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new PP(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new WI(zI.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new WI(zI.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new PP(t,n))},i.onupgradeneeded=function(e){LI("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){LI("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=yv(vv().mark((function e(t,n,r,i){var a,o,s,u,c=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=vv().mark((function e(){var n,s,u,l;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=TP.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),EP.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.g;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,LI("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if(!(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return LI("SimpleDb","Removing database:",e),RP(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Kv())return!1;if(e.v())return!0;var t=Fv(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"v",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),IP=function(){function e(t){tn(this,e),this.q=t,this.K=!1,this.$=null}return on(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return RP(this.q.delete())}}]),e}(),PP=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this,zI.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return on(n)}(WI);function NP(e){return"IndexedDbTransactionError"===e.name}var AP=function(){function e(t){tn(this,e),this.store=t}return on(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(LI("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(LI("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),RP(n)}},{key:"add",value:function(e){return LI("SimpleDb","ADD",this.store.name,e,e),RP(this.store.add(e))}},{key:"get",value:function(e){var t=this;return RP(this.store.get(e)).next((function(n){return void 0===n&&(n=null),LI("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return LI("SimpleDb","DELETE",this.store.name,e),RP(this.store.delete(e))}},{key:"count",value:function(){return LI("SimpleDb","COUNT",this.store.name),RP(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new EP((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new EP((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){LI("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new EP((function(n,r){t.onerror=function(e){var t=OP(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new EP((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new IP(i),o=t(i.primaryKey,i.value,a);if(o instanceof EP){var s=o.catch((function(e){return a.done(),EP.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return EP.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function RP(e){return new EP((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=OP(e.target.error);n(t)}}))}var DP=!1;function OP(e){var t=CP.D(Fv());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new WI("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return DP||(DP=!0,setTimeout((function(){throw r}),0)),r}}return e}var jP=function(){function e(t,n){tn(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return on(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;LI("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=LI,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!NP(e.t4)){e.next=17;break}LI("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,xP(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),LP=function(){function e(t,n){tn(this,e),this.localStore=t,this.persistence=n}return on(e,[{key:"ne",value:function(){var e=yv(vv().mark((function e(){var t,n=this,r=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return EP.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return LI("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return LI("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=gP(t);bP(r,n)>0&&(n=r)})),new kP(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),MP=function(){function e(t,n){var r=this;tn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return on(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function FP(e){return null==e}function VP(e){return 0===e&&1/e==-1/0}function UP(e){return"number"==typeof e&&Number.isInteger(e)&&!VP(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function BP(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=zP(t)),t=qP(e.get(n),t);return zP(t)}function qP(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function zP(e){return e+"\x01\x01"}function WP(e){var t=e.length;if(BI(t>=2),2===t)return BI("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),uP.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&UI(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:UI()}a=o+2}return new uP(r)}MP.ae=-1;var KP=["userId","batchId"];function HP(e,t){return[e,BP(t)]}function GP(e,t,n){return[e,BP(t),n]}var QP={},YP=["prefixPath","collectionGroup","readTime","documentId"],$P=["prefixPath","collectionGroup","documentId"],XP=["collectionGroup","readTime","prefixPath","documentId"],JP=["canonicalId","targetId"],ZP=["targetId","path"],eN=["path","targetId"],tN=["collectionId","parent"],nN=["indexId","uid"],rN=["uid","sequenceNumber"],iN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],aN=["indexId","uid","orderedDocumentKey"],oN=["userId","collectionPath","documentId"],sN=["userId","collectionPath","largestBatchId"],uN=["userId","collectionGroup","largestBatchId"],cN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),lN=[].concat(en(cN),["documentOverlays"]),hN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fN=hN,dN=[].concat(fN,["indexConfiguration","indexState","indexEntries"]),pN=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return on(n)}(_P);function vN(e,t){var n=qI(e);return CP.O(n.ue,t)}function mN(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yN(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gN(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var kN=function(){function e(t,n){tn(this,e),this.comparator=t,this.root=n||wN.EMPTY}return on(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,wN.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wN.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new bN(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new bN(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new bN(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new bN(this.root,e,this.comparator,!0)}}]),e}(),bN=function(){function e(t,n,r,i){tn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return on(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),wN=function(){function e(t,n,r,i,a){tn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return on(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw UI();if(this.right.isRed())throw UI();var e=this.left.check();if(e!==this.right.check())throw UI();return e+(this.isRed()?0:1)}}]),e}();wN.EMPTY=null,wN.RED=!0,wN.BLACK=!1,wN.EMPTY=new(function(){function e(){tn(this,e),this.size=0}return on(e,[{key:"key",get:function(){throw UI()}},{key:"value",get:function(){throw UI()}},{key:"color",get:function(){throw UI()}},{key:"left",get:function(){throw UI()}},{key:"right",get:function(){throw UI()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new wN(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var _N=function(){function e(t){tn(this,e),this.comparator=t,this.data=new kN(this.comparator)}return on(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new xN(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new xN(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),xN=function(){function e(t){tn(this,e),this.iter=t}return on(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function SN(e){return e.hasNext()?e.getNext():void 0}var EN=function(){function e(t){tn(this,e),this.fields=t,t.sort(lP.comparator)}return on(e,[{key:"unionWith",value:function(t){var n,r=new _N(lP.comparator),i=kn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=kn(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=kn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return rP(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),TN=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return on(n)}(pn(Error));var CN=function(e){function t(e){tn(this,t),this.binaryString=e}return on(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return nP(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new TN("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();CN.EMPTY_BYTE_STRING=new CN("");var IN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function PN(e){if(BI(!!e),"string"==typeof e){var t=0,n=IN.exec(e);if(BI(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:NN(e.seconds),nanos:NN(e.nanos)}}function NN(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function AN(e){return"string"==typeof e?CN.fromBase64String(e):CN.fromUint8Array(e)}function RN(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function DN(e){var t=e.mapValue.fields.__previous_value__;return RN(t)?DN(t):t}function ON(e){var t=PN(e.mapValue.fields.__local_write_time__.timestampValue);return new aP(t.seconds,t.nanos)}var jN=on((function e(t,n,r,i,a,o,s,u,c){tn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),LN=function(){function e(t,n){tn(this,e),this.projectId=t,this.database=n||"(default)"}return on(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),MN={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},FN={nullValue:"NULL_VALUE"};function VN(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?RN(e)?4:ZN(e)?9007199254740991:10:UI()}function UN(e,t){if(e===t)return!0;var n=VN(e);if(n!==VN(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ON(e).isEqual(ON(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=PN(e.timestampValue),r=PN(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return AN(e.bytesValue).isEqual(AN(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return NN(e.geoPointValue.latitude)===NN(t.geoPointValue.latitude)&&NN(e.geoPointValue.longitude)===NN(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return NN(e.integerValue)===NN(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=NN(e.doubleValue),r=NN(t.doubleValue);return n===r?VP(n)===VP(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rP(e.arrayValue.values||[],t.arrayValue.values||[],UN);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(mN(n)!==mN(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!UN(n[i],r[i])))return!1;return!0}(e,t);default:return UI()}}function BN(e,t){return void 0!==(e.values||[]).find((function(e){return UN(e,t)}))}function qN(e,t){if(e===t)return 0;var n=VN(e),r=VN(t);if(n!==r)return nP(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nP(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=NN(e.integerValue||e.doubleValue),r=NN(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zN(e.timestampValue,t.timestampValue);case 4:return zN(ON(e),ON(t));case 5:return nP(e.stringValue,t.stringValue);case 6:return function(e,t){var n=AN(e),r=AN(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=nP(n[i],r[i]);if(0!==a)return a}return nP(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=nP(NN(e.latitude),NN(t.latitude));return 0!==n?n:nP(NN(e.longitude),NN(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=qN(n[i],r[i]);if(a)return a}return nP(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===MN.mapValue&&t===MN.mapValue)return 0;if(e===MN.mapValue)return 1;if(t===MN.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=nP(r[o],a[o]);if(0!==s)return s;var u=qN(n[r[o]],i[a[o]]);if(0!==u)return u}return nP(r.length,a.length)}(e.mapValue,t.mapValue);default:throw UI()}}function zN(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return nP(e,t);var n=PN(e),r=PN(t),i=nP(n.seconds,r.seconds);return 0!==i?i:nP(n.nanos,r.nanos)}function WN(e){return KN(e)}function KN(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=PN(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return AN(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return hP.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=kn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=KN(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=kn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(KN(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):UI()}function HN(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function GN(e){return!!e&&"integerValue"in e}function QN(e){return!!e&&"arrayValue"in e}function YN(e){return!!e&&"nullValue"in e}function $N(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function XN(e){return!!e&&"mapValue"in e}function JN(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return yN(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=JN(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=JN(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ZN(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function eA(e){return"nullValue"in e?FN:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?HN(LN.empty(),hP.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:UI()}function tA(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?HN(LN.empty(),hP.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?MN:UI()}function nA(e,t){var n=qN(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function rA(e,t){var n=qN(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var iA=function(){function e(t){tn(this,e),this.value=t}return on(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!XN(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=JN(t)}},{key:"setAll",value:function(e){var t=this,n=lP.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=JN(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());XN(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return UN(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];XN(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){yN(t,(function(t,n){return e[t]=n}));var r,i=kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(JN(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function aA(e){var t=[];return yN(e.fields,(function(e,n){var r=new lP([e]);if(XN(n)){var i=aA(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=kn(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new EN(t)}var oA=function(){function e(t,n,r,i,a,o,s){tn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return on(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(oP.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=iA.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=iA.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=oP.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,oP.min(),oP.min(),oP.min(),iA.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,oP.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,oP.min(),oP.min(),iA.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,oP.min(),oP.min(),iA.empty(),2)}}]),e}(),sA=on((function e(t,n){tn(this,e),this.position=t,this.inclusive=n}));function uA(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?hP.comparator(hP.fromName(o.referenceValue),n.key):qN(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function cA(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!UN(e.position[n],t.position[n]))return!1;return!0}var lA=on((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";tn(this,e),this.field=t,this.dir=n}));function hA(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var fA=on((function e(){tn(this,e)})),dA=function(e){un(n,e);var t=fn(n);function n(e,r,i){var a;return tn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return on(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qN(t,this.value)):null!==t&&VN(this.value)===VN(t)&&this.matchesComparison(qN(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return UI()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new xA(e,t,r):"array-contains"===t?new CA(e,r):"in"===t?new IA(e,r):"not-in"===t?new PA(e,r):"array-contains-any"===t?new NA(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new SA(e,n):new EA(e,n)}}]),n}(fA),pA=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return on(n,[{key:"matches",value:function(e){return vA(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(fA);function vA(e){return"and"===e.op}function mA(e){return"or"===e.op}function yA(e){return gA(e)&&vA(e)}function gA(e){var t,n=kn(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof pA)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function kA(e){if(e instanceof dA)return e.field.canonicalString()+e.op.toString()+WN(e.value);if(yA(e))return e.filters.map((function(e){return kA(e)})).join(",");var t=e.filters.map((function(e){return kA(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function bA(e,t){return e instanceof dA?function(e,t){return t instanceof dA&&e.op===t.op&&e.field.isEqual(t.field)&&UN(e.value,t.value)}(e,t):e instanceof pA?function(e,t){return t instanceof pA&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&bA(n,t.filters[r])}),!0)}(e,t):void UI()}function wA(e,t){var n=e.filters.concat(t);return pA.create(n,e.op)}function _A(e){return e instanceof dA?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(WN(e.value))}(e):e instanceof pA?function(e){return e.op.toString()+" {"+e.getFilters().map(_A).join(" ,")+"}"}(e):"Filter"}var xA=function(e){un(n,e);var t=fn(n);function n(e,r,i){var a;return tn(this,n),(a=t.call(this,e,r,i)).key=hP.fromName(i.referenceValue),a}return on(n,[{key:"matches",value:function(e){var t=hP.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(dA),SA=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this,e,"in",r)).keys=TA("in",r),i}return on(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(dA),EA=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this,e,"not-in",r)).keys=TA("not-in",r),i}return on(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(dA);function TA(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return hP.fromName(e.referenceValue)}))}var CA=function(e){un(n,e);var t=fn(n);function n(e,r){return tn(this,n),t.call(this,e,"array-contains",r)}return on(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return QN(t)&&BN(t.arrayValue,this.value)}}]),n}(dA),IA=function(e){un(n,e);var t=fn(n);function n(e,r){return tn(this,n),t.call(this,e,"in",r)}return on(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&BN(this.value.arrayValue,t)}}]),n}(dA),PA=function(e){un(n,e);var t=fn(n);function n(e,r){return tn(this,n),t.call(this,e,"not-in",r)}return on(n,[{key:"matches",value:function(e){if(BN(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!BN(this.value.arrayValue,t)}}]),n}(dA),NA=function(e){un(n,e);var t=fn(n);function n(e,r){return tn(this,n),t.call(this,e,"array-contains-any",r)}return on(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!QN(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return BN(t.value.arrayValue,e)}))}}]),n}(dA),AA=on((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;tn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.le=null}));function RA(e){return new AA(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function DA(e){var t=qI(e);if(null===t.le){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return kA(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),FP(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return WN(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return WN(e)})).join(",")),t.le=n}return t.le}function OA(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hA(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!bA(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cA(e.startAt,t.startAt)&&cA(e.endAt,t.endAt)}function jA(e){return hP.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function LA(e,t){return e.filters.filter((function(e){return e instanceof dA&&e.field.isEqual(t)}))}function MA(e,t,n){var r,i=FN,a=!0,o=kn(LA(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=FN,c=!0;switch(s.op){case"<":case"<=":u=eA(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=FN}nA({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];nA({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function FA(e,t,n){var r,i=MN,a=!0,o=kn(LA(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=MN,c=!0;switch(s.op){case">=":case">":u=tA(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=MN}rA({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];rA({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}var VA=on((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;tn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function UA(e,t,n,r,i,a,o,s){return new VA(e,t,n,r,i,a,o,s)}function BA(e){return new VA(e)}function qA(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zA(e){return null!==e.collectionGroup}function WA(e){var t=qI(e);if(null===t.he){t.he=[];var n,r=new Set,i=kn(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.he.push(a),r.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new _N(lP.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.he.push(new lA(e,o))})),r.has(lP.keyField().canonicalString())||t.he.push(new lA(lP.keyField(),o))}return t.he}function KA(e){var t=qI(e);return t.Pe||(t.Pe=HA(t,WA(e))),t.Pe}function HA(e,t){if("F"===e.limitType)return RA(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new lA(e.field,t)}));var n=e.endAt?new sA(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new sA(e.startAt.position,e.startAt.inclusive):null;return RA(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function GA(e,t){var n=e.filters.concat([t]);return new VA(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function QA(e,t,n){return new VA(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function YA(e,t){return OA(KA(e),KA(t))&&e.limitType===t.limitType}function $A(e){return"".concat(DA(KA(e)),"|lt:").concat(e.limitType)}function XA(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return _A(e)})).join(", "),"]")),FP(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return WN(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return WN(e)})).join(",")),"Target(".concat(t,")")}(KA(e)),"; limitType=").concat(e.limitType,")")}function JA(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):hP.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=kn(WA(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=kn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=uA(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,WA(e),t))&&!(e.endAt&&!function(e,t,n){var r=uA(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,WA(e),t))}(e,t)}function ZA(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function eR(e){return function(t,n){var r,i=!1,a=kn(WA(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=tR(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function tR(e,t,n){var r=e.field.isKeyField()?hP.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qN(r,i):UI()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return UI()}}var nR=function(){function e(t,n){tn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return on(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=kn(n);try{for(i.s();!(r=i.n()).done;){var a=yn(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){yN(this.inner,(function(t,n){var r,i=kn(n);try{for(i.s();!(r=i.n()).done;){var a=yn(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return gN(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),rR=new kN(hP.comparator);function iR(){return rR}var aR=new kN(hP.comparator);function oR(){for(var e=aR,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function sR(e){var t=aR;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function uR(){return lR()}function cR(){return lR()}function lR(){return new nR((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var hR=new kN(hP.comparator),fR=new _N(hP.comparator);function dR(){for(var e=fR,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var pR=new _N(nP);function vR(){return pR}function mR(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:VP(t)?"-0":t}}function yR(e){return{integerValue:""+e}}function gR(e,t){return UP(t)?yR(t):mR(e,t)}var kR=on((function e(){tn(this,e),this._=void 0}));function bR(e,t,n){return e instanceof xR?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&RN(t)&&(t=DN(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof SR?ER(e,t):e instanceof TR?CR(e,t):function(e,t){var n=_R(e,t),r=PR(n)+PR(e.Te);return GN(n)&&GN(e.Te)?yR(r):mR(e.serializer,r)}(e,t)}function wR(e,t,n){return e instanceof SR?ER(e,t):e instanceof TR?CR(e,t):n}function _R(e,t){return e instanceof IR?function(e){return GN(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var xR=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n)}(kR),SR=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this)).elements=e,r}return on(n)}(kR);function ER(e,t){var n,r=NR(t),i=kn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return UN(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var TR=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this)).elements=e,r}return on(n)}(kR);function CR(e,t){var n,r=NR(t),i=kn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!UN(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var IR=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return on(n)}(kR);function PR(e){return NN(e.integerValue||e.doubleValue)}function NR(e){return QN(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var AR=on((function e(t,n){tn(this,e),this.field=t,this.transform=n}));var RR=on((function e(t,n){tn(this,e),this.version=t,this.transformResults=n})),DR=function(){function e(t,n){tn(this,e),this.updateTime=t,this.exists=n}return on(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function OR(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var jR=on((function e(){tn(this,e)}));function LR(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new QR(e.key,DR.none()):new BR(e.key,e.data,DR.none());var n,r=e.data,i=iA.empty(),a=new _N(lP.comparator),o=kn(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new qR(e.key,i,new EN(a.toArray()),DR.none())}function MR(e,t,n){e instanceof BR?function(e,t,n){var r=e.value.clone(),i=WR(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qR?function(e,t,n){if(OR(e.precondition,t)){var r=WR(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(zR(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function FR(e,t,n,r){return e instanceof BR?function(e,t,n,r){if(!OR(e.precondition,t))return n;var i=e.value.clone(),a=KR(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof qR?function(e,t,n,r){if(!OR(e.precondition,t))return n;var i=KR(e.fieldTransforms,r,t),a=t.data;return a.setAll(zR(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return OR(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function VR(e,t){var n,r=null,i=kn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=_R(a.transform,o||null);null!=s&&(null===r&&(r=iA.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function UR(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&rP(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof SR&&t instanceof SR||e instanceof TR&&t instanceof TR?rP(e.elements,t.elements,UN):e instanceof IR&&t instanceof IR?UN(e.Te,t.Te):e instanceof xR&&t instanceof xR}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var BR=function(e){un(n,e);var t=fn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return tn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return on(n,[{key:"getFieldMask",value:function(){return null}}]),n}(jR),qR=function(e){un(n,e);var t=fn(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return tn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return on(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(jR);function zR(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function WR(e,t,n){var r=new Map;BI(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,wR(o,s,n[i]))}return r}function KR(e,t,n){var r,i=new Map,a=kn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,bR(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var HR,GR,QR=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return on(n,[{key:"getFieldMask",value:function(){return null}}]),n}(jR),YR=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return on(n,[{key:"getFieldMask",value:function(){return null}}]),n}(jR),$R=function(){function e(t,n,r,i){tn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return on(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&MR(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=kn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=FR(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=kn(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=FR(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=cR();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=LR(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(oP.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),dR())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&rP(this.mutations,e.mutations,(function(e,t){return UR(e,t)}))&&rP(this.baseMutations,e.baseMutations,(function(e,t){return UR(e,t)}))}}]),e}(),XR=function(){function e(t,n,r,i){tn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return on(e,null,[{key:"from",value:function(t,n,r){BI(t.mutations.length===r.length);for(var i=hR,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),JR=function(){function e(t,n){tn(this,e),this.largestBatchId=t,this.mutation=n}return on(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ZR=on((function e(t,n){tn(this,e),this.count=t,this.unchangedNames=n}));function eD(e){switch(e){default:return UI();case zI.CANCELLED:case zI.UNKNOWN:case zI.DEADLINE_EXCEEDED:case zI.RESOURCE_EXHAUSTED:case zI.INTERNAL:case zI.UNAVAILABLE:case zI.UNAUTHENTICATED:return!1;case zI.INVALID_ARGUMENT:case zI.NOT_FOUND:case zI.ALREADY_EXISTS:case zI.PERMISSION_DENIED:case zI.FAILED_PRECONDITION:case zI.ABORTED:case zI.OUT_OF_RANGE:case zI.UNIMPLEMENTED:case zI.DATA_LOSS:return!0}}function tD(e){if(void 0===e)return MI("GRPC error has no .code"),zI.UNKNOWN;switch(e){case HR.OK:return zI.OK;case HR.CANCELLED:return zI.CANCELLED;case HR.UNKNOWN:return zI.UNKNOWN;case HR.DEADLINE_EXCEEDED:return zI.DEADLINE_EXCEEDED;case HR.RESOURCE_EXHAUSTED:return zI.RESOURCE_EXHAUSTED;case HR.INTERNAL:return zI.INTERNAL;case HR.UNAVAILABLE:return zI.UNAVAILABLE;case HR.UNAUTHENTICATED:return zI.UNAUTHENTICATED;case HR.INVALID_ARGUMENT:return zI.INVALID_ARGUMENT;case HR.NOT_FOUND:return zI.NOT_FOUND;case HR.ALREADY_EXISTS:return zI.ALREADY_EXISTS;case HR.PERMISSION_DENIED:return zI.PERMISSION_DENIED;case HR.FAILED_PRECONDITION:return zI.FAILED_PRECONDITION;case HR.ABORTED:return zI.ABORTED;case HR.OUT_OF_RANGE:return zI.OUT_OF_RANGE;case HR.UNIMPLEMENTED:return zI.UNIMPLEMENTED;case HR.DATA_LOSS:return zI.DATA_LOSS;default:return UI()}}(GR=HR||(HR={}))[GR.OK=0]="OK",GR[GR.CANCELLED=1]="CANCELLED",GR[GR.UNKNOWN=2]="UNKNOWN",GR[GR.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",GR[GR.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",GR[GR.NOT_FOUND=5]="NOT_FOUND",GR[GR.ALREADY_EXISTS=6]="ALREADY_EXISTS",GR[GR.PERMISSION_DENIED=7]="PERMISSION_DENIED",GR[GR.UNAUTHENTICATED=16]="UNAUTHENTICATED",GR[GR.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",GR[GR.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",GR[GR.ABORTED=10]="ABORTED",GR[GR.OUT_OF_RANGE=11]="OUT_OF_RANGE",GR[GR.UNIMPLEMENTED=12]="UNIMPLEMENTED",GR[GR.INTERNAL=13]="INTERNAL",GR[GR.UNAVAILABLE=14]="UNAVAILABLE",GR[GR.DATA_LOSS=15]="DATA_LOSS";var nD=null;function rD(){return new TextEncoder}var iD=new NI([4294967295,4294967295],0);function aD(e){var t=rD().encode(e),n=new PI;return n.update(t),new Uint8Array(n.digest())}function oD(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new NI([n,r],0),new NI([i,a],0)]}var sD=function(){function e(t,n,r){if(tn(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uD("Invalid padding: ".concat(n));if(r<0)throw new uD("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new uD("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new uD("Invalid padding when bitmap length is 0: ".concat(n));this.Ee=8*t.length-n,this.de=NI.fromNumber(this.Ee)}return on(e,[{key:"Ae",value:function(e,t,n){var r=e.add(t.multiply(NI.fromNumber(n)));return 1===r.compare(iD)&&(r=new NI([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}},{key:"Re",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ee)return!1;for(var t=yn(oD(aD(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ae(n,r,i);if(!this.Re(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ee)for(var t=yn(oD(aD(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ae(n,r,i);this.Ve(a)}}},{key:"Ve",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),uD=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return on(n)}(pn(Error)),cD=function(){function e(t,n,r,i,a){tn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return on(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,lD.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(oP.min(),i,new kN(nP),iR(),dR())}}]),e}(),lD=function(){function e(t,n,r,i,a){tn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return on(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,dR(),dR(),dR())}}]),e}(),hD=on((function e(t,n,r,i){tn(this,e),this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i})),fD=on((function e(t,n){tn(this,e),this.targetId=t,this.ge=n})),dD=on((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:CN.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;tn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),pD=function(){function e(){tn(this,e),this.pe=0,this.ye=yD(),this.we=CN.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}return on(e,[{key:"current",get:function(){return this.Se}},{key:"resumeToken",get:function(){return this.we}},{key:"De",get:function(){return 0!==this.pe}},{key:"Ce",get:function(){return this.be}},{key:"ve",value:function(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}},{key:"Fe",value:function(){var e=dR(),t=dR(),n=dR();return this.ye.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:UI()}})),new lD(this.we,this.Se,e,t,n)}},{key:"Me",value:function(){this.be=!1,this.ye=yD()}},{key:"xe",value:function(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}},{key:"Oe",value:function(e){this.be=!0,this.ye=this.ye.remove(e)}},{key:"Ne",value:function(){this.pe+=1}},{key:"Be",value:function(){this.pe-=1}},{key:"Le",value:function(){this.be=!0,this.Se=!0}}]),e}(),vD=function(){function e(t){tn(this,e),this.ke=t,this.qe=new Map,this.Qe=iR(),this.Ke=mD(),this.$e=new kN(nP)}return on(e,[{key:"Ue",value:function(e){var t,n=kn(e.me);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.fe&&e.fe.isFoundDocument()?this.We(r,e.fe):this.Ge(r,e.key,e.fe)}}catch(s){n.e(s)}finally{n.f()}var i,a=kn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Ge(o,e.key,e.fe)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ze",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.je(n);switch(e.state){case 0:t.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||t.removeTarget(n);break;case 3:t.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:t.He(n)&&(t.Je(n),r.ve(e.resumeToken));break;default:UI()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((function(e,r){n.He(r)&&t(r)}))}},{key:"Ye",value:function(e){var t=e.targetId,n=e.ge.count,r=this.Ze(t);if(r){var i=r.target;if(jA(i))if(0===n){var a=new hP(i.path);this.Ge(t,a,oA.newNoDocument(a,oP.min()))}else BI(1===n);else{var o=this.Xe(t);if(o!==n){var s=this.et(e),u=s?this.tt(s,e,o):1;if(0!==u){this.Je(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(t,c)}null==nD||nD.nt(function(e,t,n,r,i){var a,o,s,u,c,l,h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},f=t.unchangedNames;return f&&(h.bloomFilter={applied:0===i,hashCount:null!==(a=null==f?void 0:f.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==f?void 0:f.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==f?void 0:f.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(o,e.ge,this.ke.rt(),s,u))}}}}},{key:"et",value:function(e){var t=e.ge.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=AN(o).toUint8Array()}catch(e){if(e instanceof TN)return FI("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new sD(n,u,l)}catch(e){return FI(e instanceof uD?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ee?null:r}},{key:"tt",value:function(e,t,n){return t.ge.count===n-this.it(e,t.targetId)?0:2}},{key:"it",value:function(e,t){var n=this,r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.ke.rt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.Ge(t,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.qe.forEach((function(r,i){var a=t.Ze(i);if(a){if(r.current&&jA(a.target)){var o=new hP(a.target.path);null!==t.Qe.get(o)||t.ot(i,o)||t.Ge(i,o,oA.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Fe()),r.Me())}}));var r=dR();this.Ke.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ze(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new cD(e,n,this.$e,this.Qe,r);return this.Qe=iR(),this.Ke=mD(),this.$e=new kN(nP),i}},{key:"We",value:function(e,t){if(this.He(e)){var n=this.ot(e,t.key)?2:0;this.je(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.Ke=this.Ke.insert(t.key,this._t(t.key).add(e))}}},{key:"Ge",value:function(e,t,n){if(this.He(e)){var r=this.je(e);this.ot(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this._t(t).delete(e)),n&&(this.Qe=this.Qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qe.delete(e)}},{key:"Xe",value:function(e){var t=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ne",value:function(e){this.je(e).Ne()}},{key:"je",value:function(e){var t=this.qe.get(e);return t||(t=new pD,this.qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.Ke.get(e);return t||(t=new _N(nP),this.Ke=this.Ke.insert(e,t)),t}},{key:"He",value:function(e){var t=null!==this.Ze(e);return t||LI("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ze",value:function(e){var t=this.qe.get(e);return t&&t.De?null:this.ke.ut(e)}},{key:"Je",value:function(e){var t=this;this.qe.set(e,new pD),this.ke.getRemoteKeysForTarget(e).forEach((function(n){t.Ge(e,n,null)}))}},{key:"ot",value:function(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}]),e}();function mD(){return new kN(hP.comparator)}function yD(){return new kN(hP.comparator)}var gD={asc:"ASCENDING",desc:"DESCENDING"},kD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bD={and:"AND",or:"OR"},wD=on((function e(t,n){tn(this,e),this.databaseId=t,this.useProto3Json=n}));function _D(e,t){return e.useProto3Json||FP(t)?t:{value:t}}function xD(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function SD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ED(e,t){return xD(e,t.toTimestamp())}function TD(e){return BI(!!e),oP.fromTimestamp(function(e){var t=PN(e);return new aP(t.seconds,t.nanos)}(e))}function CD(e,t){return function(e){return new uP(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ID(e){var t=uP.fromString(e);return BI(XD(t)),t}function PD(e,t){return CD(e.databaseId,t.path)}function ND(e,t){var n=ID(t);if(n.get(1)!==e.databaseId.projectId)throw new WI(zI.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new WI(zI.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new hP(OD(n))}function AD(e,t){return CD(e.databaseId,t)}function RD(e){var t=ID(e);return 4===t.length?uP.emptyPath():OD(t)}function DD(e){return new uP(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function OD(e){return BI(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jD(e,t,n){return{name:PD(e,t),fields:n.value.mapValue.fields}}function LD(e,t,n){var r=ND(e,t.name),i=TD(t.updateTime),a=t.createTime?TD(t.createTime):oP.min(),o=new iA({mapValue:{fields:t.fields}}),s=oA.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function MD(e,t){return"found"in t?function(e,t){BI(!!t.found),t.found.name,t.found.updateTime;var n=ND(e,t.found.name),r=TD(t.found.updateTime),i=t.found.createTime?TD(t.found.createTime):oP.min(),a=new iA({mapValue:{fields:t.found.fields}});return oA.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){BI(!!t.missing),BI(!!t.readTime);var n=ND(e,t.missing),r=TD(t.readTime);return oA.newNoDocument(n,r)}(e,t):UI()}function FD(e,t){var n;if(t instanceof BR)n={update:jD(e,t.key,t.value)};else if(t instanceof QR)n={delete:PD(e,t.key)};else if(t instanceof qR)n={update:jD(e,t.key,t.data),updateMask:$D(t.fieldMask)};else{if(!(t instanceof YR))return UI();n={verify:PD(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof xR)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof SR)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof TR)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof IR)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw UI()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ED(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:UI()}(e,t.precondition)),n}function VD(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?DR.updateTime(TD(e.updateTime)):void 0!==e.exists?DR.exists(e.exists):DR.none()}(t.currentDocument):DR.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)BI("REQUEST_TIME"===t.setToServerValue),n=new xR;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new SR(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new TR(i)}else"increment"in t?n=new IR(e,t.increment):UI();var a=lP.fromServerFormat(t.fieldPath);return new AR(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=ND(e,t.update.name),a=new iA({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new EN(t.map((function(e){return lP.fromServerFormat(e)})))}(t.updateMask);return new qR(i,a,o,n,r)}return new BR(i,a,n,r)}if(t.delete){var s=ND(e,t.delete);return new QR(s,n)}if(t.verify){var u=ND(e,t.verify);return new YR(u,n)}return UI()}function UD(e,t){return{documents:[AD(e,t.path)]}}function BD(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=AD(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=AD(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return YD(pA.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:GD(e.field),direction:WD(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=_D(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function qD(e){var t=RD(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){BI(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=zD(e);return t instanceof pA&&yA(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new lA(QD(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return FP(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new sA(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new sA(n,t)}(n.endAt)),UA(t,i,s,o,u,"F",c,l)}function zD(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=QD(e.unaryFilter.field);return dA.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=QD(e.unaryFilter.field);return dA.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=QD(e.unaryFilter.field);return dA.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=QD(e.unaryFilter.field);return dA.create(i,"!=",{nullValue:"NULL_VALUE"});default:return UI()}}(e):void 0!==e.fieldFilter?function(e){return dA.create(QD(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return UI()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return pA.create(e.compositeFilter.filters.map((function(e){return zD(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return UI()}}(e.compositeFilter.op))}(e):UI()}function WD(e){return gD[e]}function KD(e){return kD[e]}function HD(e){return bD[e]}function GD(e){return{fieldPath:e.canonicalString()}}function QD(e){return lP.fromServerFormat(e.fieldPath)}function YD(e){return e instanceof dA?function(e){if("=="===e.op){if($N(e.value))return{unaryFilter:{field:GD(e.field),op:"IS_NAN"}};if(YN(e.value))return{unaryFilter:{field:GD(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($N(e.value))return{unaryFilter:{field:GD(e.field),op:"IS_NOT_NAN"}};if(YN(e.value))return{unaryFilter:{field:GD(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:GD(e.field),op:KD(e.op),value:e.value}}}(e):e instanceof pA?function(e){var t=e.getFilters().map((function(e){return YD(e)}));return 1===t.length?t[0]:{compositeFilter:{op:HD(e.op),filters:t}}}(e):UI()}function $D(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function XD(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var JD=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oP.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:oP.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:CN.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;tn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return on(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),ZD=on((function e(t){tn(this,e),this.ct=t}));function eO(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:tO(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:PD(e,t.key),fields:t.data.value.mapValue.fields,updateTime:xD(e,t.version.toTimestamp()),createTime:xD(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:nO(t.version)};else{if(!t.isUnknownDocument())return UI();r.unknownDocument={path:n.path.toArray(),version:nO(t.version)}}return r}function tO(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nO(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function rO(e){var t=new aP(e.seconds,e.nanoseconds);return oP.fromTimestamp(t)}function iO(e,t){for(var n=(t.baseMutations||[]).map((function(t){return VD(e.ct,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return VD(e.ct,t)})),s=aP.fromMillis(t.localWriteTimeMs);return new $R(t.batchId,s,n,o)}function aO(e){var t,n=rO(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?rO(e.lastLimboFreeSnapshotVersion):oP.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return BI(1===e.documents.length),KA(BA(RD(e.documents[0])))}(e.query):function(e){return KA(qD(e))}(e.query),new JD(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,CN.fromBase64String(e.resumeToken))}function oO(e,t){var n,r=nO(t.snapshotVersion),i=nO(t.lastLimboFreeSnapshotVersion);n=jA(t.target)?UD(e.ct,t.target):BD(e.ct,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:DA(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function sO(e){var t=qD({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?QA(t,t.limit,"L"):t}function uO(e,t){return new JR(t.largestBatchId,VD(e.ct,t.overlayMutation))}function cO(e,t){var n=t.path.lastSegment();return[e,BP(t.path.popLast()),n]}function lO(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:nO(r.readTime),documentKey:BP(r.documentKey.path),largestBatchId:r.largestBatchId}}var hO=function(){function e(){tn(this,e)}return on(e,[{key:"getBundleMetadata",value:function(e,t){return fO(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:rO(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return fO(e).put(function(e){return{bundleId:e.id,createTime:nO(TD(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return dO(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:sO(e.bundledQuery),readTime:rO(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return dO(e).put(function(e){return{name:e.name,readTime:nO(TD(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function fO(e){return vN(e,"bundles")}function dO(e){return vN(e,"namedQueries")}var pO=function(){function e(t,n){tn(this,e),this.serializer=t,this.userId=n}return on(e,[{key:"getOverlay",value:function(e,t){var n=this;return vO(e).get(cO(this.userId,t)).next((function(e){return e?uO(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=uR();return EP.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new JR(t,a);i.push(r.ht(e,o))})),EP.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(BP(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(vO(e).J("collectionPathOverlayIndex",i))})),EP.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=uR(),a=BP(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return vO(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=kn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=uO(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=uR(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vO(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=uO(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ht",value:function(e,t){return vO(e).put(function(e,t,n){var r=yn(cO(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:FD(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"lt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function vO(e){return vN(e,"documentOverlays")}var mO=function(){function e(){tn(this,e)}return on(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(NN(e.integerValue));else if("doubleValue"in e){var n=NN(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),VP(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(AN(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?ZN(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):UI()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),hP.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();function yO(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function gO(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=yO(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}mO.bt=new mO;var kO=function(){function e(){tn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return on(e,[{key:"Dt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ct(n.value),n=t.next();this.vt()}},{key:"Ft",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Mt(n.value),n=t.next();this.xt()}},{key:"Ot",value:function(e){var t,n=kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{var a=r.codePointAt(0);this.Ct(240|a>>>18),this.Ct(128|63&a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.vt()}},{key:"Nt",value:function(e){var t,n=kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{var a=r.codePointAt(0);this.Mt(240|a>>>18),this.Mt(128|63&a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.xt()}},{key:"Bt",value:function(e){var t=this.Lt(e),n=gO(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"qt",value:function(e){var t=this.Lt(e),n=gO(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Qt",value:function(){this.Kt(255),this.Kt(255)}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Wt",value:function(){return this.buffer.slice(0,this.position)}},{key:"Lt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ct",value:function(e){var t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}},{key:"Mt",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}},{key:"vt",value:function(){this.Kt(0),this.Kt(1)}},{key:"xt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Kt",value:function(e){this.kt(1),this.buffer[this.position++]=e}},{key:"Ut",value:function(e){this.kt(1),this.buffer[this.position++]=~e}},{key:"kt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),bO=function(){function e(t){tn(this,e),this.Gt=t}return on(e,[{key:"ft",value:function(e){this.Gt.Dt(e)}},{key:"At",value:function(e){this.Gt.Ot(e)}},{key:"dt",value:function(e){this.Gt.Bt(e)}},{key:"Tt",value:function(){this.Gt.Qt()}}]),e}(),wO=function(){function e(t){tn(this,e),this.Gt=t}return on(e,[{key:"ft",value:function(e){this.Gt.Ft(e)}},{key:"At",value:function(e){this.Gt.Nt(e)}},{key:"dt",value:function(e){this.Gt.qt(e)}},{key:"Tt",value:function(){this.Gt.$t()}}]),e}(),_O=function(){function e(){tn(this,e),this.Gt=new kO,this.zt=new bO(this.Gt),this.jt=new wO(this.Gt)}return on(e,[{key:"seed",value:function(e){this.Gt.seed(e)}},{key:"Ht",value:function(e){return 0===e?this.zt:this.jt}},{key:"Wt",value:function(){return this.Gt.Wt()}},{key:"reset",value:function(){this.Gt.reset()}}]),e}(),xO=function(){function e(t,n,r,i){tn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return on(e,[{key:"Jt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function SO(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=EO(e.arrayValue,t.arrayValue))?n:0!==(n=EO(e.directionalValue,t.directionalValue))?n:hP.comparator(e.documentKey,t.documentKey)}function EO(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var TO=function(){function e(t){tn(this,e),this.Yt=new _N((function(e,t){return lP.comparator(e.field,t.field)})),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];var n,r=kn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return on(e,[{key:"en",get:function(){return this.Yt.size>1}},{key:"tn",value:function(e){if(BI(e.collectionGroup===this.collectionId),this.en)return!1;var t=dP(e);if(void 0!==t&&!this.nn(t))return!1;for(var n=pP(e),r=new Set,i=0,a=0;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){var o=this.Yt.getIterator().getNext();if(!r.has(o.field.canonicalString())){var s=n[i];if(!this.rn(o,s)||!this.sn(this.Zt[a++],s))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Zt.length||!this.sn(this.Zt[a++],u))return!1}return!0}},{key:"on",value:function(){if(this.en)return null;var e,t=new _N(lP.comparator),n=[],r=kn(this.Xt);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new vP(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new vP(i.field,0))}}}catch(u){r.e(u)}finally{r.f()}var a,o=kn(this.Zt);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),n.push(new vP(s.field,"asc"===s.dir?0:1)))}}catch(u){o.e(u)}finally{o.f()}return new fP(fP.UNKNOWN_ID,this.collectionId,n,mP.empty())}},{key:"nn",value:function(e){var t,n=kn(this.Xt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.rn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"rn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function CO(e){var t,n;if(BI(e instanceof dA||e instanceof pA),e instanceof dA){if(e instanceof IA){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return dA.create(e.field,"==",t)})))||[];return pA.create(r,"or")}return e}var i=e.filters.map((function(e){return CO(e)}));return pA.create(i,e.op)}function IO(e){if(0===e.getFilters().length)return[];var t=RO(CO(e));return BI(AO(t)),PO(t)||NO(t)?[t]:t.getFilters()}function PO(e){return e instanceof dA}function NO(e){return e instanceof pA&&yA(e)}function AO(e){return PO(e)||NO(e)||function(e){if(e instanceof pA&&mA(e)){var t,n=kn(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!PO(r)&&!NO(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function RO(e){if(BI(e instanceof dA||e instanceof pA),e instanceof dA)return e;if(1===e.filters.length)return RO(e.filters[0]);var t=e.filters.map((function(e){return RO(e)})),n=pA.create(t,e.op);return AO(n=jO(n))?n:(BI(n instanceof pA),BI(vA(n)),BI(n.filters.length>1),n.filters.reduce((function(e,t){return DO(e,t)})))}function DO(e,t){var n;return BI(e instanceof dA||e instanceof pA),BI(t instanceof dA||t instanceof pA),n=e instanceof dA?t instanceof dA?function(e,t){return pA.create([e,t],"and")}(e,t):OO(e,t):t instanceof dA?OO(t,e):function(e,t){if(BI(e.filters.length>0&&t.filters.length>0),vA(e)&&vA(t))return wA(e,t.getFilters());var n=mA(e)?e:t,r=mA(e)?t:e,i=n.filters.map((function(e){return DO(e,r)}));return pA.create(i,"or")}(e,t),jO(n)}function OO(e,t){if(vA(t))return wA(t,e.getFilters());var n=t.filters.map((function(t){return DO(e,t)}));return pA.create(n,"or")}function jO(e){if(BI(e instanceof dA||e instanceof pA),e instanceof dA)return e;var t=e.getFilters();if(1===t.length)return jO(t[0]);if(gA(e))return e;var n=t.map((function(e){return jO(e)})),r=[];return n.forEach((function(t){t instanceof dA?r.push(t):t instanceof pA&&(t.op===e.op?r.push.apply(r,en(t.filters)):r.push(t))})),1===r.length?r[0]:pA.create(r,e.op)}var LO=function(){function e(){tn(this,e),this._n=new MO}return on(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),EP.resolve()}},{key:"getCollectionParents",value:function(e,t){return EP.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return EP.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return EP.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return EP.resolve()}},{key:"createTargetIndexes",value:function(e,t){return EP.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return EP.resolve(null)}},{key:"getIndexType",value:function(e,t){return EP.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return EP.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return EP.resolve(null)}},{key:"getMinOffset",value:function(e,t){return EP.resolve(kP.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return EP.resolve(kP.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return EP.resolve()}},{key:"updateIndexEntries",value:function(e,t){return EP.resolve()}}]),e}(),MO=function(){function e(){tn(this,e),this.index={}}return on(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _N(uP.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new _N(uP.comparator)).toArray()}}]),e}(),FO=new Uint8Array(0),VO=function(){function e(t,n){tn(this,e),this.user=t,this.databaseId=n,this.an=new MO,this.un=new nR((function(e){return DA(e)}),(function(e,t){return OA(e,t)})),this.uid=t.uid||""}return on(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.an.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.an.add(t)}));var a={collectionId:r,parent:BP(i)};return UO(e).put(a)}return EP.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[iP(t),""],!1,!0);return UO(e).G(r).next((function(e){var r,i=kn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(WP(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=qO(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=zO(e);return a.next((function(e){o.put(lO(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=qO(e),r=zO(e),i=BO(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=qO(e),n=BO(e),r=zO(e);return t.J().next((function(){return n.J()})).next((function(){return r.J()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return EP.forEach(this.cn(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new TO(t).on();if(null!=i)return n.addFieldIndex(e,i)}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=BO(e),i=!0,a=new Map;return EP.forEach(this.cn(t),(function(t){return n.ln(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=dR(),o=[];return EP.forEach(a,(function(i,a){LI("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(DA(t)));var s=function(e,t){var n=dP(t);if(void 0===n)return null;var r,i=kn(LA(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=kn(pP(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=kn(LA(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=kn(pP(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?MA(e,o.fieldPath,e.startAt):FA(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new sA(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=kn(pP(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?FA(e,o.fieldPath,e.endAt):MA(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new sA(r,i)}(a,i),h=n.hn(i,a,c),f=n.hn(i,a,l),d=n.Pn(i,a,u),p=n.In(i.indexId,s,h,c.inclusive,f,l.inclusive,d);return EP.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=hP.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return EP.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:IO(pA.create(e.filters,"and")).map((function(t){return RA(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"In",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],h=function(){var u=t?s.Tn(t[f/c]):FO,h=s.En(e,u,n[f%c],r),d=s.dn(e,u,i[f%c],a),p=o.map((function(t){return s.En(e,u,t,!0)}));l.push.apply(l,en(s.createRange(h,d,p)))},f=0;f<u;++f)h();return l}},{key:"En",value:function(e,t,n,r){var i=new xO(e,hP.empty(),t,n);return r?i:i.Jt()}},{key:"dn",value:function(e,t,n,r){var i=new xO(e,hP.empty(),t,n);return r?i.Jt():i}},{key:"ln",value:function(e,t){var n=new TO(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=kn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return EP.forEach(i,(function(t){return n.ln(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new _N(lP.comparator),r=!1,i=kn(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=kn(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(h){o.e(h)}finally{o.f()}}}catch(h){i.e(h)}finally{i.f()}var u,c=kn(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(h){c.e(h)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"An",value:function(e,t){var n,r=new _O,i=kn(pP(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ht(a.kind);mO.bt.Pt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Wt()}},{key:"Tn",value:function(e){var t=new _O;return mO.bt.Pt(e,t.Ht(0)),t.Wt()}},{key:"Rn",value:function(e,t){var n=new _O;return mO.bt.Pt(HN(this.databaseId,t),n.Ht(function(e){var t=pP(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}},{key:"Pn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new _O);var i,a=0,o=kn(pP(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=kn(r);try{for(l.s();!(s=l.n()).done;){var h=s.value;if(this.Vn(t,u.fieldPath)&&QN(c))r=this.mn(r,u,c);else{var f=h.Ht(u.kind);mO.bt.Pt(c,f)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"hn",value:function(e,t,n){return this.Pn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Wt();return t}},{key:"mn",value:function(e,t,n){var r,i=en(e),a=[],o=kn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=kn(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=new _O;h.seed(l.Wt()),mO.bt.Pt(u,h.Ht(t.kind)),a.push(h)}}catch(f){c.e(f)}finally{c.f()}}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"Vn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof dA&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=qO(e),i=zO(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return EP.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new mP(t.sequenceNumber,new kP(rO(t.readTime),new hP(WP(t.documentKey)),t.largestBatchId)):mP.empty(),r=e.fields.map((function(e){var t=yn(e,2),n=t[0],r=t[1];return new vP(lP.fromServerFormat(n),r)}));return new fP(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:nP(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=qO(e),a=zO(e);return this.gn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return EP.forEach(t,(function(t){return a.put(lO(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return EP.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?EP.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),EP.forEach(a,(function(r){return n.pn(e,t,r).next((function(t){var a=n.yn(i,r);return t.isEqual(a)?EP.resolve():n.wn(e,i,r,t,a)}))}))}))}))}},{key:"Sn",value:function(e,t,n,r){return BO(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"bn",value:function(e,t,n,r){return BO(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}},{key:"pn",value:function(e,t,n){var r=BO(e),i=new _N(SO);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},(function(e,r){i=i.add(new xO(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"yn",value:function(e,t){var n=new _N(SO),r=this.An(t,e);if(null==r)return n;var i=dP(t);if(null!=i){var a=e.data.field(i.fieldPath);if(QN(a)){var o,s=kn(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new xO(t.indexId,e.key,this.Tn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new xO(t.indexId,e.key,FO,r));return n}},{key:"wn",value:function(e,t,n,r,i){var a=this;LI("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=SN(a),u=SN(o);s||u;){var c=!1,l=!1;if(s&&u){var h=n(s,u);h<0?l=!0:h>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=SN(o)):l?(i(s),s=SN(a)):(s=SN(a),u=SN(o))}}(r,i,SO,(function(r){o.push(a.Sn(e,t,n,r))}),(function(r){o.push(a.bn(e,t,n,r))})),EP.waitFor(o)}},{key:"gn",value:function(e){var t=1;return zO(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return SO(e,t)})).filter((function(e,t,n){return!t||0!==SO(e,n[t-1])}));var r=[];r.push(e);var i,a=kn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=SO(o,e),u=SO(o,t);if(0===s)r[0]=e.Jt();else if(s>0&&u<0)r.push(o),r.push(o.Jt());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Dn(r[l],r[l+1]))return[];var h=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,FO,[]],f=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,FO,[]];c.push(IDBKeyRange.bound(h,f))}return c}},{key:"Dn",value:function(e,t){return SO(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(WO)}},{key:"getMinOffset",value:function(e,t){var n=this;return EP.mapArray(this.cn(t),(function(t){return n.ln(e,t).next((function(e){return e||UI()}))})).next(WO)}}]),e}();function UO(e){return vN(e,"collectionParents")}function BO(e){return vN(e,"indexEntries")}function qO(e){return vN(e,"indexConfiguration")}function zO(e){return vN(e,"indexState")}function WO(e){BI(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;bP(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new kP(t.readTime,t.documentKey,n)}var KO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HO=function(){function e(t,n,r){tn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return on(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function GO(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){BI(1===s)})));var c,l=[],h=kn(n.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value,d=GP(t,f.key.path,n.batchId);a.push(i.delete(d)),l.push(f.key)}}catch(p){h.e(p)}finally{h.f()}return EP.waitFor(a).next((function(){return l}))}function QO(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw UI();t=e.noDocument}return JSON.stringify(t).length}HO.DEFAULT_COLLECTION_PERCENTILE=10,HO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,HO.DEFAULT=new HO(41943040,HO.DEFAULT_COLLECTION_PERCENTILE,HO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),HO.DISABLED=new HO(-1,0,0);var YO=function(){function e(t,n,r,i){tn(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}return on(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return XO(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=JO(e),o=XO(e);return o.add({}).next((function(s){BI("number"==typeof s);var u,c=new $R(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return FD(e.ct,t)})),i=n.mutations.map((function(t){return FD(e.ct,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),h=[],f=new _N((function(e,t){return nP(e.canonicalString(),t.canonicalString())})),d=kn(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=GP(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),h.push(o.put(l)),h.push(a.put(v,QP))}}catch(m){d.e(m)}finally{d.f()}return f.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Cn[s]=c.keys()})),EP.waitFor(h).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return XO(e).get(t).next((function(e){return e?(BI(e.userId===n.userId),iO(n.serializer,e)):null}))}},{key:"vn",value:function(e,t){var n=this;return this.Cn[t]?EP.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Cn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return XO(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(BI(t.batchId>=r),a=iO(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return XO(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return XO(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return iO(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=HP(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return JO(e).Z({range:i},(function(r,i,o){var s=yn(r,3),u=s[0],c=s[1],l=s[2],h=WP(c);if(u===n.userId&&t.path.isEqual(h))return XO(e).get(l).next((function(e){if(!e)throw UI();BI(e.userId===n.userId),a.push(iO(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _N(nP),i=[];return t.forEach((function(t){var a=HP(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=JO(e).Z({range:o},(function(e,i,a){var o=yn(e,3),s=o[0],u=o[1],c=o[2],l=WP(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),EP.waitFor(i).next((function(){return n.Fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=HP(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new _N(nP);return JO(e).Z({range:o},(function(e,t,a){var o=yn(e,3),u=o[0],c=o[1],l=o[2],h=WP(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.Fn(e,s)}))}},{key:"Fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(XO(e).get(t).next((function(e){if(null===e)throw UI();BI(e.userId===n.userId),r.push(iO(n.serializer,e))})))})),EP.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return GO(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Mn(t.batchId)})),EP.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Mn",value:function(e){delete this.Cn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return EP.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return JO(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=WP(e[1]);i.push(a)}else r.done()})).next((function(){BI(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return $O(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return ZO(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"lt",value:function(t,n,r,i){return BI(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function $O(e,t,n){var r=HP(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return JO(e).Z({range:a,Y:!0},(function(e,n,r){var a=yn(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function XO(e){return vN(e,"mutations")}function JO(e){return vN(e,"documentMutations")}function ZO(e){return vN(e,"mutationQueues")}var ej=function(){function e(t){tn(this,e),this.On=t}return on(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Bn",value:function(){return new e(-1)}}]),e}(),tj=function(){function e(t,n){tn(this,e),this.referenceDelegate=t,this.serializer=n}return on(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ln(e).next((function(n){var r=new ej(n.highestTargetId);return n.highestTargetId=r.next(),t.kn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ln(e).next((function(e){return oP.fromTimestamp(new aP(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ln(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ln(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.kn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.qn(e,t).next((function(){return n.Ln(e).next((function(r){return r.targetCount+=1,n.Qn(t,r),n.kn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return nj(e).delete(t.targetId)})).next((function(){return n.Ln(e)})).next((function(t){return BI(t.targetCount>0),t.targetCount-=1,n.kn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return nj(e).Z((function(o,s){var u=aO(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return EP.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return nj(e).Z((function(e,n){var r=aO(n);t(r)}))}},{key:"Ln",value:function(e){return rj(e).get("targetGlobalKey").next((function(e){return BI(null!==e),e}))}},{key:"kn",value:function(e,t){return rj(e).put("targetGlobalKey",t)}},{key:"qn",value:function(e,t){return nj(e).put(oO(this.serializer,t))}},{key:"Qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ln(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=DA(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return nj(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=aO(n);OA(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ij(e);return t.forEach((function(t){var o=BP(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),EP.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ij(e);return EP.forEach(t,(function(t){var a=BP(t.path);return EP.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ij(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ij(e),i=dR();return r.Z({range:n,Y:!0},(function(e,t,n){var r=WP(e[1]),a=new hP(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=BP(t.path),r=IDBKeyRange.bound([n],[iP(n)],!1,!0),i=0;return ij(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=yn(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ut",value:function(e,t){return nj(e).get(t).next((function(e){return e?aO(e):null}))}}]),e}();function nj(e){return vN(e,"targets")}function rj(e){return vN(e,"targetGlobal")}function ij(e){return vN(e,"targetDocuments")}function aj(e,t){var n=yn(e,2),r=n[0],i=n[1],a=yn(t,2),o=a[0],s=a[1],u=nP(r,o);return 0===u?nP(i,s):u}var oj=function(){function e(t){tn(this,e),this.Kn=t,this.buffer=new _N(aj),this.$n=0}return on(e,[{key:"Un",value:function(){return++this.$n}},{key:"Wn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();aj(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),sj=function(){function e(t,n,r){tn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return on(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"zn",value:function(e){var t=this;LI("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!NP(e.t0)){e.next=12;break}LI("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,xP(e.t0);case 14:return e.next=16,t.zn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),uj=function(){function e(t,n){tn(this,e),this.jn=t,this.params=n}return on(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.Hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return EP.resolve(MP.ae);var r=new oj(t);return this.jn.forEachTarget(e,(function(e){return r.Wn(e.sequenceNumber)})).next((function(){return n.jn.Jn(e,(function(e){return r.Wn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(LI("LruGarbageCollector","Garbage collection skipped; disabled"),EP.resolve(KO)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(LI("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),KO):n.Yn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Yn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(LI("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),jI()<=_m.DEBUG&&LI("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),EP.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function cj(e,t){return new uj(e,t)}var lj=function(){function e(t,n){tn(this,e),this.db=t,this.garbageCollector=cj(this,n)}return on(e,[{key:"Hn",value:function(e){var t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Zn",value:function(e){var t=0;return this.Jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Jn",value:function(e,t){return this.Xn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return hj(e,n)}},{key:"removeReference",value:function(e,t,n){return hj(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return hj(e,t)}},{key:"er",value:function(e,t){return function(e,t){var n=!1;return ZO(e).X((function(r){return $O(e,r,t).next((function(e){return e&&(n=!0),EP.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Xn(e,(function(o,s){if(s<=t){var u=n.er(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,oP.min()),ij(e).delete(function(e){return[0,BP(e.path)]}(o))}))}));i.push(u)}})).next((function(){return EP.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return hj(e,t)}},{key:"Xn",value:function(e,t){var n,r=ij(e),i=MP.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=yn(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==MP.ae&&t(new hP(WP(n)),i),i=u,n=s):i=MP.ae})).next((function(){i!==MP.ae&&t(new hP(WP(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function hj(e,t){return ij(e).put(function(e,t){return{targetId:0,path:BP(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var fj=function(){function e(){tn(this,e),this.changes=new nR((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return on(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,oA.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?EP.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),dj=function(){function e(t){tn(this,e),this.serializer=t}return on(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return yj(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return yj(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],tO(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.tr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=oA.newInvalidDocument(t);return yj(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(gj(t))},(function(e,i){r=n.nr(t,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r={size:0,document:oA.newInvalidDocument(t)};return yj(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(gj(t))},(function(e,i){r={document:n.nr(t,i),size:QO(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=iR();return this.ir(e,t,(function(e,t){var i=n.nr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"sr",value:function(e,t){var n=this,r=iR(),i=new kN(hP.comparator);return this.ir(e,t,(function(e,t){var a=n.nr(e,t);r=r.insert(e,a),i=i.insert(e,QO(t))})).next((function(){return{documents:r,_r:i}}))}},{key:"ir",value:function(e,t,n){if(t.isEmpty())return EP.resolve();var r=new _N(bj);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(gj(r.first()),gj(r.last())),a=r.getIterator(),o=a.getNext();return yj(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=hP.fromSegments([].concat(en(t.prefixPath),[t.collectionGroup,t.documentId]));o&&bj(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(gj(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,s=[o.popLast().toArray(),o.lastSegment(),tO(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yj(e).G(IDBKeyRange.bound(s,u,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=iR(),s=kn(e);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=a.nr(hP.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);c.isFoundDocument()&&(JA(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){s.e(l)}finally{s.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=iR(),o=kj(t,n),s=kj(t,kP.max());return yj(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.nr(hP.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new vj(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return mj(e).get("remoteDocumentGlobalKey").next((function(e){return BI(!!e),e}))}},{key:"tr",value:function(e,t){return mj(e).put("remoteDocumentGlobalKey",t)}},{key:"nr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=LD(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=hP.fromSegments(t.noDocument.path),i=rO(t.noDocument.readTime);n=oA.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return UI();var a=hP.fromSegments(t.unknownDocument.path),o=rO(t.unknownDocument.version);n=oA.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new aP(e[0],e[1]);return oP.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(oP.min()))return n}return oA.newInvalidDocument(e)}}]),e}();function pj(e){return new dj(e)}var vj=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this)).ar=e,i.trackRemovals=r,i.ur=new nR((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return on(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new _N((function(e,t){return nP(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.ur.get(a);if(n.push(t.ar.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=eO(t.ar.serializer,o);i=i.add(a.path.popLast());var c=QO(u);r+=c-s.size,n.push(t.ar.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=eO(t.ar.serializer,o.convertToNoDocument(oP.min()));n.push(t.ar.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ar.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ar.updateMetadata(e,r)),EP.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ar.rr(e,t).next((function(e){return n.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ar.sr(e,t).next((function(e){var t=e.documents;return e._r.forEach((function(e,r){n.ur.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(fj);function mj(e){return vN(e,"remoteDocumentGlobal")}function yj(e){return vN(e,"remoteDocumentsV14")}function gj(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function kj(e,t){var n=t.documentKey.path.toArray();return[e,tO(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bj(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=nP(n[a],r[a]))return i;return(i=nP(n.length,r.length))||((i=nP(n[n.length-2],r[r.length-2]))||nP(n[n.length-1],r[r.length-1]))}var wj=on((function e(t,n){tn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),_j=function(){function e(t,n,r,i){tn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return on(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&FR(r.mutation,e,EN.empty(),aP.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,dR()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dR(),i=uR();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=oR();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=uR();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,dR())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=iR(),a=lR(),o=lR();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof qR)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),FR(o.mutation,t,o.mutation.getFieldMask(),aP.now())):a.set(t.key,EN.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new wj(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=lR(),i=new kN((function(e,t){return e-t})),a=dR();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=kn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||EN.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||dR()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=cR();c.forEach((function(e){if(!a.has(e)){var n=LR(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return EP.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return hP.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):EP.resolve(uR()),s=-1,u=a;return o.next((function(t){return EP.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?EP.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,dR())})).next((function(e){return{batchId:s,changes:sR(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new hP(t)).next((function(e){var t=oR();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=oR();return this.indexManager.getCollectionParents(e,a).next((function(s){return EP.forEach(s,(function(s){var u=function(e,t){return new VA(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,oA.newInvalidDocument(r)))}));var n=oR();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&FR(a.mutation,r,EN.empty(),aP.now()),JA(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),xj=function(){function e(t){tn(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return on(e,[{key:"getBundleMetadata",value:function(e,t){return EP.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:TD(e.createTime)}}(t)),EP.resolve()}},{key:"getNamedQuery",value:function(e,t){return EP.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:sO(e.bundledQuery),readTime:TD(e.readTime)}}(t)),EP.resolve()}}]),e}(),Sj=function(){function e(){tn(this,e),this.overlays=new kN(hP.comparator),this.hr=new Map}return on(e,[{key:"getOverlay",value:function(e,t){return EP.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=uR();return EP.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),EP.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),EP.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=uR(),i=t.length+1,a=new hP(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return EP.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new kN((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=uR(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=uR(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return EP.resolve(u)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new JR(t,n));var a=this.hr.get(t);void 0===a&&(a=dR(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),Ej=function(){function e(){tn(this,e),this.Pr=new _N(Tj.Ir),this.Tr=new _N(Tj.Er)}return on(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Tj(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new Tj(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new hP(new uP([])),r=new Tj(n,e),i=new Tj(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new hP(new uP([])),n=new Tj(t,e),r=new Tj(t,e+1),i=dR();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Tj(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Tj=function(){function e(t,n){tn(this,e),this.key=t,this.pr=n}return on(e,null,[{key:"Ir",value:function(e,t){return hP.comparator(e.key,t.key)||nP(e.pr,t.pr)}},{key:"Er",value:function(e,t){return nP(e.pr,t.pr)||hP.comparator(e.key,t.key)}}]),e}(),Cj=function(){function e(t,n){tn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new _N(Tj.Ir)}return on(e,[{key:"checkEmpty",value:function(e){return EP.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new $R(i,t,n,r);this.mutationQueue.push(a);var o,s=kn(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.wr=this.wr.add(new Tj(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return EP.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return EP.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return EP.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return EP.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return EP.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Tj(t,0),i=new Tj(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),EP.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _N(nP);return t.forEach((function(e){var t=new Tj(e,0),i=new Tj(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),EP.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;hP.isDocumentKey(i)||(i=i.child(""));var a=new Tj(new hP(i),0),o=new _N(nP);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),EP.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;BI(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return EP.forEach(t.mutations,(function(i){var a=new Tj(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Tj(t,0),r=this.wr.firstAfterOrEqual(n);return EP.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,EP.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Ij=function(){function e(t){tn(this,e),this.vr=t,this.docs=new kN(hP.comparator),this.size=0}return on(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return EP.resolve(n?n.document.mutableCopy():oA.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=iR();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():oA.newInvalidDocument(e))})),EP.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=iR(),a=t.path,o=new hP(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||bP(gP(l),n)<=0||(r.has(l.key)||JA(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return EP.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){UI()}},{key:"Fr",value:function(e,t){return EP.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Pj(this)}},{key:"getSize",value:function(e){return EP.resolve(this.size)}}]),e}(),Pj=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this)).ar=e,r}return on(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),EP.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(fj),Nj=function(){function e(t){tn(this,e),this.persistence=t,this.Mr=new nR((function(e){return DA(e)}),OA),this.lastRemoteSnapshotVersion=oP.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ej,this.targetCount=0,this.Br=ej.Nn()}return on(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),EP.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return EP.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return EP.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Br.next(),EP.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),EP.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Br=new ej(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,EP.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),EP.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,EP.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),EP.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return EP.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return EP.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),EP.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),EP.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),EP.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return EP.resolve(n)}},{key:"containsKey",value:function(e,t){return EP.resolve(this.Nr.containsKey(t))}}]),e}(),Aj=function(){function e(t,n){var r=this;tn(this,e),this.Lr={},this.overlays={},this.kr=new MP(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Nj(this),this.indexManager=new LO,this.remoteDocumentCache=function(e){return new Ij(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new ZD(n),this.$r=new xj(this.serializer)}return on(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Sj,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Lr[e.toKey()];return n||(n=new Cj(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;LI("MemoryPersistence","Starting transaction:",e);var i=new Rj(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return EP.or(Object.values(this.Lr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Rj=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return on(n)}(_P),Dj=function(){function e(t){tn(this,e),this.persistence=t,this.zr=new Ej,this.jr=null}return on(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw UI()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),EP.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),EP.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),EP.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return EP.forEach(this.Jr,(function(r){var i=hP.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,oP.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return EP.or([function(){return EP.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}(),Oj=function(){function e(t){tn(this,e),this.serializer=t}return on(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new TP("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",KP,{unique:!0}),e.createObjectStore("documentMutations")}(e),jj(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=EP.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),jj(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:oP.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",KP,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return EP.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Xr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ei(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ti(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ni(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ri(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:oN});t.createIndex("collectionPathOverlayIndex",sN,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",uN,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:YP});t.createIndex("documentKeyIndex",$P),t.createIndex("collectionGroupIndex",XP)}(e)})).next((function(){return i.ii(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:nN}).createIndex("sequenceNumberIndex",rN,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:iN}).createIndex("documentKeyIndex",aN,{unique:!1})}(e)}))),o}},{key:"ei",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=QO(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Xr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return EP.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return EP.forEach(r,(function(r){BI(r.userId===n.userId);var i=iO(t.serializer,r);return GO(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ti",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new uP(n),o=function(e){return[0,BP(e)]}(a);r.push(t.get(o).next((function(n){return n?EP.resolve():function(n){return t.put({targetId:0,path:BP(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return EP.waitFor(r)}))}))}},{key:"ni",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:tN});var n=t.store("collectionParents"),r=new MO,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:BP(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new uP(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=yn(e,3),r=(n[0],n[1]),a=(n[2],WP(r));return i(a.popLast())}))}))}},{key:"ri",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=aO(r),a=oO(t.serializer,i);return n.put(a)}))}},{key:"ii",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new hP(uP.fromString(e.document.name).popFirst(5)):e.noDocument?hP.fromSegments(e.noDocument.path):e.unknownDocument?hP.fromSegments(e.unknownDocument.path):UI()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return EP.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=pj(this.serializer),a=new Aj(Dj.Hr,this.serializer.ct);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:dR();iO(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),EP.forEach(r,(function(e,r){var o=new RI(r),s=pO.lt(n.serializer,o),u=a.getIndexManager(o),c=YO.lt(o,n.serializer,u,a.referenceDelegate);return new _j(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new pN(t,MP.ae),e).next()}))}))}}]),e}();function jj(e){e.createObjectStore("targetDocuments",{keyPath:ZP}).createIndex("documentTargetsIndex",eN,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",JP,{unique:!0}),e.createObjectStore("targetGlobal")}var Lj="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Mj=function(){function e(t,n,r,i,a,o,s,u,c,l){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(tn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.oi=a,this.window=o,this.document=s,this._i=c,this.ai=l,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=function(e){return Promise.resolve()},!e.C())throw new WI(zI.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lj(this,i),this.Ti=n+"main",this.serializer=new ZD(u),this.Ei=new CP(this.Ti,this.ui,new Oj(this.serializer)),this.Qr=new tj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pj(this.serializer),this.$r=new hO,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&MI("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return on(e,[{key:"start",value:function(){var e=this;return this.Ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new WI(zI.FAILED_PRECONDITION,Lj);return e.Ri(),e.Vi(),e.mi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Qr.getHighestSequenceNumber(t)}))})).then((function(t){e.kr=new MP(t,e._i)})).then((function(){e.qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"fi",value:function(e){var t=this;return this.Ii=function(){var n=yv(vv().mark((function n(r){return vv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ei.k(function(){var t=yv(vv().mark((function t(n){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Vj(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.gi(t).next((function(t){t||(e.isPrimary=!1,e.oi.enqueueRetryable((function(){return e.Ii(!1)})))}))})).next((function(){return e.pi(t)})).next((function(n){return e.isPrimary&&!n?e.yi(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(NP(t))return LI("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return LI("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.oi.enqueueRetryable((function(){return e.Ii(t)})),e.isPrimary=t}))}},{key:"gi",value:function(e){var t=this;return Fj(e).get("owner").next((function(e){return EP.resolve(t.Si(e))}))}},{key:"bi",value:function(e){return Vj(e).delete(this.clientId)}},{key:"Di",value:function(){var e=yv(vv().mark((function e(){var t,n,r,i,a=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ci(this.Pi,18e5)){e.next=6;break}return this.Pi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=vN(e,"clientMetadata");return t.G().next((function(e){var n=a.vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return EP.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.di){n=kn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.di.removeItem(this.Fi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mi",value:function(){var e=this;this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ai().then((function(){return e.Di()})).then((function(){return e.mi()}))}))}},{key:"Si",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"pi",value:function(e){var t=this;return this.ai?EP.resolve(!0):Fj(e).get("owner").next((function(n){if(null!==n&&t.Ci(n.leaseTimestampMs,5e3)&&!t.Mi(n.ownerId)){if(t.Si(n)&&t.networkEnabled)return!0;if(!t.Si(n)){if(!n.allowTabSynchronization)throw new WI(zI.FAILED_PRECONDITION,Lj);return!1}}return!(!t.networkEnabled||!t.inForeground)||Vj(e).G().next((function(e){return void 0===t.vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&LI("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=yv(vv().mark((function e(){var t=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new pN(e,MP.ae);return t.yi(n).next((function(){return t.bi(n)}))}));case 7:this.Ei.close(),this.Bi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vi",value:function(e,t){var n=this;return e.filter((function(e){return n.Ci(e.updateTimeMs,t)&&!n.Mi(e.clientId)}))}},{key:"Li",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Vj(t).G().next((function(t){return e.vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.qr}},{key:"getMutationQueue",value:function(e,t){return YO.lt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new VO(e,this.serializer.ct.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return pO.lt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;LI("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?dN:14===e?fN:13===e?hN:12===e?lN:11===e?cN:void UI()}(this.ui);return this.Ei.runTransaction(e,a,o,(function(a){return i=new pN(a,r.kr?r.kr.next():MP.ae),"readwrite-primary"===t?r.gi(i).next((function(e){return!!e||r.pi(i)})).next((function(t){if(!t)throw MI("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.oi.enqueueRetryable((function(){return r.Ii(!1)})),new WI(zI.FAILED_PRECONDITION,wP);return n(i)})).next((function(e){return r.wi(i).next((function(){return e}))})):r.ki(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"ki",value:function(e){var t=this;return Fj(e).get("owner").next((function(e){if(null!==e&&t.Ci(e.leaseTimestampMs,5e3)&&!t.Mi(e.ownerId)&&!t.Si(e)&&!(t.ai||t.allowTabSynchronization&&e.allowTabSynchronization))throw new WI(zI.FAILED_PRECONDITION,Lj)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fj(e).put("owner",t)}},{key:"yi",value:function(e){var t=this,n=Fj(e);return n.get("owner").next((function(e){return t.Si(e)?(LI("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):EP.resolve()}))}},{key:"Ci",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(MI("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=function(){e.oi.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ai()}))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}},{key:"Oi",value:function(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}},{key:"Vi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!Uv()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.oi.enterRestrictedMode(!0),t.oi.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"Ni",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Mi",value:function(e){var t;try{var n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return LI("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return MI("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){MI("Failed to set zombie client id.",e)}}},{key:"Bi",value:function(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}},{key:"Fi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return CP.C()}}]),e}();function Fj(e){return vN(e,"owner")}function Vj(e){return vN(e,"clientMetadata")}function Uj(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Bj=function(){function e(t,n,r,i){tn(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return on(e,null,[{key:"Ki",value:function(t,n){var r,i=dR(),a=dR(),o=kn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),qj=function(){function e(){tn(this,e),this._documentReadCount=0}return on(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),zj=function(){function e(){tn(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}return on(e,[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.ji(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Hi(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new qj;return i.Ji(e,t,n).next((function(r){if(a.result=r,i.Ui)return i.Yi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Yi",value:function(e,t,n,r){return n.documentReadCount<this.Wi?(jI()<=_m.DEBUG&&LI("QueryEngine","SDK will not create cache indexes for query:",XA(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),EP.resolve()):(jI()<=_m.DEBUG&&LI("QueryEngine","Query:",XA(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(jI()<=_m.DEBUG&&LI("QueryEngine","The SDK decides to create cache indexes for query:",XA(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,KA(t))):EP.resolve())}},{key:"ji",value:function(e,t){var n=this;if(qA(t))return EP.resolve(null);var r=KA(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=QA(t,null,"F"),r=KA(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=dR.apply(void 0,en(i));return n.zi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Zi(t,i);return n.Xi(t,o,a,r.readTime)?n.ji(e,QA(t,null,"F")):n.es(e,o,t,r)}))}))})))}))}},{key:"Hi",value:function(e,t,n,r){var i=this;return qA(t)||r.isEqual(oP.min())?EP.resolve(null):this.zi.getDocuments(e,n).next((function(a){var o=i.Zi(t,a);return i.Xi(t,o,n,r)?EP.resolve(null):(jI()<=_m.DEBUG&&LI("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),XA(t)),i.es(e,o,t,yP(r,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var n=new _N(eR(e));return t.forEach((function(t,r){JA(e,r)&&(n=n.add(r))})),n}},{key:"Xi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ji",value:function(e,t,n){return jI()<=_m.DEBUG&&LI("QueryEngine","Using full collection scan to execute query:",XA(t)),this.zi.getDocumentsMatchingQuery(e,t,kP.min(),n)}},{key:"es",value:function(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Wj=function(){function e(t,n,r,i){tn(this,e),this.persistence=t,this.ts=n,this.serializer=i,this.ns=new kN(nP),this.rs=new nR((function(e){return DA(e)}),OA),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}return on(e,[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _j(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ns)}))}}]),e}();function Kj(e,t,n,r){return new Wj(e,t,n,r)}function Hj(e,t){return Gj.apply(this,arguments)}function Gj(){return Gj=yv(vv().mark((function e(t,n){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qI(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r._s(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=dR(),u=kn(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,h=kn(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=kn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=kn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{us:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Gj.apply(this,arguments)}function Qj(e,t){var n=qI(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=EP.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);BI(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=dR(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Yj(e){var t=qI(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function $j(e,t){var n=qI(e),r=t.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(CN.EMPTY_BYTE_STRING,oP.min()).withLastLimboFreeSnapshotVersion(oP.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Qr.updateTargetData(e,c))}}));var s=iR(),u=dR();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Xj(e,a,t.documentUpdates).next((function(e){s=e.cs,u=e.ls}))),!r.isEqual(oP.min())){var c=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return EP.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.ns=i,e}))}function Xj(e,t,n){var r=dR(),i=dR();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=iR();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(oP.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):LI("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{cs:r,ls:i}}))}function Jj(e,t){var n=qI(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Zj(e,t){var n=qI(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,EP.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new JD(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}function eL(e,t,n){return tL.apply(this,arguments)}function tL(){return tL=yv(vv().mark((function e(t,n,r){var i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qI(t),a=i.ns.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),NP(e.t1)){e.next=12;break}throw e.t1;case 12:LI("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ns=i.ns.remove(n),i.rs.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),tL.apply(this,arguments)}function nL(e,t,n){var r=qI(e),i=oP.min(),a=dR();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=qI(e),i=r.rs.get(n);return void 0!==i?EP.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,KA(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ts.getDocumentsMatchingQuery(e,t,n?i:oP.min(),n?a:dR())})).next((function(e){return aL(r,ZA(t),e),{documents:e,hs:a}}))}))}function rL(e,t){var n=qI(e),r=qI(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ut(e,t).next((function(e){return e?e.target:null}))}))}function iL(e,t){var n=qI(e),r=n.ss.get(t)||oP.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.os.getAllFromCollectionGroup(e,t,yP(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return aL(n,t,e),e}))}function aL(e,t,n){var r=e.ss.get(t)||oP.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}function oL(e,t,n,r){return sL.apply(this,arguments)}function sL(){return sL=yv(vv().mark((function e(t,n,r,i){var a,o,s,u,c,l,h,f,d,p;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=qI(t),o=dR(),s=iR(),u=kn(r);try{for(u.s();!(c=u.n()).done;)l=c.value,h=n.Ps(l.metadata.name),l.document&&(o=o.add(h)),(f=n.Is(l)).setReadTime(n.Ts(l.metadata.readTime)),s=s.insert(h,f)}catch(v){u.e(v)}finally{u.f()}return d=a.os.newChangeBuffer({trackRemovals:!0}),e.next=7,Zj(a,function(e){return KA(BA(uP.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Xj(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls)})).next((function(){return t.cs}))}))})));case 9:case"end":return e.stop()}}),e)}))),sL.apply(this,arguments)}function uL(e,t){return cL.apply(this,arguments)}function cL(){return cL=yv(vv().mark((function e(t,n){var r,i,a,o=arguments;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:dR(),e.next=3,Zj(t,KA(sO(n.bundledQuery)));case 3:return i=e.sent,a=qI(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=TD(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$r.saveNamedQuery(e,n);var o=i.withResumeToken(CN.EMPTY_BYTE_STRING,t);return a.ns=a.ns.insert(o.targetId,o),a.Qr.updateTargetData(e,o).next((function(){return a.Qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$r.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),cL.apply(this,arguments)}function lL(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function hL(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function fL(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var dL=function(){function e(t,n,r,i){tn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return on(e,[{key:"ds",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new WI(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(MI("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),pL=function(){function e(t,n,r){tn(this,e),this.targetId=t,this.state=n,this.error=r}return on(e,[{key:"ds",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new WI(i.error.code,i.error.message))),a?new e(t,i.state,r):(MI("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),vL=function(){function e(t,n){tn(this,e),this.clientId=t,this.activeTargetIds=n}return on(e,null,[{key:"Es",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=vR(),o=0;i&&o<r.activeTargetIds.length;++o)i=UP(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(MI("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),mL=function(){function e(t,n){tn(this,e),this.clientId=t,this.onlineState=n}return on(e,null,[{key:"Es",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(MI("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),yL=function(){function e(){tn(this,e),this.activeTargetIds=vR()}return on(e,[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),gL=function(){function e(t,n,r,i,a){tn(this,e),this.window=t,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new kN(nP),this.started=!1,this.ys=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ws=lL(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new yL),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}return on(e,[{key:"start",value:function(){var e=yv(vv().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,f=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Li();case 2:t=e.sent,n=kn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Vs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(lL(this.persistenceKey,i)))&&(o=vL.Es(i,a))&&(this.ps=this.ps.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ms(),(s=this.storage.getItem(this.vs))&&(u=this.xs(s))&&this.Os(u),c=kn(this.ys);try{for(c.s();!(l=c.n()).done;)h=l.value,this.gs(h)}catch(d){c.e(d)}finally{c.f()}this.ys=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ss,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ns(this.ps)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ps.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Bs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Bs(e,t,n),this.Ls(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(fL(this.persistenceKey,e));if(n){var r=pL.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ks.Rs(e),this.Ms()}},{key:"isLocalQueryTarget",value:function(e){return this.ks.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(fL(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.qs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ls(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Qs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ks(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return LI("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){LI("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){LI("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"gs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(LI("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void MI("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(yv(vv().mark((function e(){var r,i,a,o,s,u,c;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.bs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.$s(n.key),e.abrupt("return",t.Us(r,null));case 6:if(!(i=t.Ws(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Us(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Ds.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Gs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.zs(a));case 16:e.next=41;break;case 18:if(!t.Cs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.js(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Hs(o));case 23:e.next=41;break;case 25:if(n.key!==t.vs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.xs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Os(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ss){e.next=37;break}u=function(e){var t=MP.ae;if(null!=e)try{var n=JSON.parse(e);BI("number"==typeof n),t=n}catch(e){MI("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==MP.ae&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Fs){e.next=41;break}return c=t.Js(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Ys(e)})));case 41:e.next=44;break;case 43:t.ys.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"ks",get:function(){return this.ps.get(this.Vs)}},{key:"Ms",value:function(){this.setItem(this.ws,this.ks.ds())}},{key:"Bs",value:function(e,t,n){var r=new dL(this.currentUser,e,t,n),i=hL(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}},{key:"Ls",value:function(e){var t=hL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Qs",value:function(e){var t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}},{key:"qs",value:function(e,t,n){var r=fL(this.persistenceKey,e),i=new pL(e,t,n);this.setItem(r,i.ds())}},{key:"Ks",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}},{key:"$s",value:function(e){var t=this.bs.exec(e);return t?t[1]:null}},{key:"Ws",value:function(e,t){var n=this.$s(e);return vL.Es(n,t)}},{key:"Gs",value:function(e,t){var n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return dL.Es(new RI(i),r,t)}},{key:"js",value:function(e,t){var n=this.Cs.exec(e),r=Number(n[1]);return pL.Es(r,t)}},{key:"xs",value:function(e){return mL.Es(e)}},{key:"Js",value:function(e){return JSON.parse(e)}},{key:"zs",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Zs(t.batchId,t.state,t.error));case 2:LI("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Hs",value:function(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}},{key:"Us",value:function(e,t){var n=this,r=t?this.ps.insert(e,t):this.ps.remove(e),i=this.Ns(this.ps),a=this.Ns(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.eo(o,s).then((function(){n.ps=r}))}},{key:"Os",value:function(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ns",value:function(e){var t=vR();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),kL=function(){function e(){tn(this,e),this.no=new yL,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return on(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new yL,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),bL=function(){function e(){tn(this,e)}return on(e,[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),wL=function(){function e(){var t=this;tn(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}return on(e,[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){LI("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=kn(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ao",value:function(){LI("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=kn(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),_L=null;function xL(){return null===_L?_L=268435456+Math.round(2147483648*Math.random()):_L++,"0x"+_L.toString(16)}var SL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},EL=function(){function e(t){tn(this,e),this.lo=t.lo,this.ho=t.ho}return on(e,[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"onMessage",value:function(e){this.Ao=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"Ro",value:function(){this.Io()}},{key:"Vo",value:function(e){this.Eo(e)}},{key:"mo",value:function(e){this.Ao(e)}}]),e}(),TL="WebChannelConnection",CL=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return on(n,[{key:"Co",value:function(e,t,n,r){var i=xL();return new Promise((function(a,o){var s=new II;s.setWithCredentials(!0),s.listenOnce(SI.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case xI.NO_ERROR:var t=s.getResponseJson();LI(TL,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case xI.TIMEOUT:LI(TL,"RPC '".concat(e,"' ").concat(i," timed out")),o(new WI(zI.DEADLINE_EXCEEDED,"Request time out"));break;case xI.HTTP_ERROR:var n=s.getStatus();if(LI(TL,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(zI).indexOf(t)>=0?t:zI.UNKNOWN}(u.status);o(new WI(c,u.message))}else o(new WI(zI.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new WI(zI.UNAVAILABLE,"Connection failed."));break;default:UI()}}finally{LI(TL,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);LI(TL,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Fo",value:function(e,t,n){var r=xL(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=wI(),o=_I(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");LI(TL,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),h=!1,f=!1,d=new EL({lo:function(t){f?LI(TL,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(LI(TL,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),h=!0),LI(TL,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ho:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,CI.EventType.OPEN,(function(){f||LI(TL,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,CI.EventType.CLOSE,(function(){f||(f=!0,LI(TL,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Vo())})),p(l,CI.EventType.ERROR,(function(t){f||(f=!0,FI(TL,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Vo(new WI(zI.UNAVAILABLE,"The operation could not be completed")))})),p(l,CI.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];BI(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){LI(TL,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=HR[e];if(void 0!==t)return tD(t)}(s),c=o.message;void 0===u&&(u=zI.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),f=!0,d.Vo(new WI(u,c)),l.close()}else LI(TL,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.mo(i)}})),p(o,EI.STAT_EVENT,(function(t){t.stat===TI.PROXY?LI(TL,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===TI.NOPROXY&&LI(TL,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ro()}),0),d}}]),n}(function(){function e(t){tn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+t.host,this.po="projects/".concat(r,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return on(e,[{key:"wo",get:function(){return!1}},{key:"So",value:function(e,t,n,r,i){var a=xL(),o=this.bo(e,t);LI("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(s,r,i),this.Co(e,o,s,n).then((function(t){return LI("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw FI("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.So(e,t,n,r,i)}},{key:"Do",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+DI,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"bo",value:function(e,t){var n=SL[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}}]),e}());function IL(){return"undefined"!=typeof window?window:null}function PL(){return"undefined"!=typeof document?document:null}function NL(e){return new wD(e,!0)}var AL=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;tn(this,e),this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=a,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}return on(e,[{key:"reset",value:function(){this.No=0}},{key:"ko",value:function(){this.No=this.Oo}},{key:"qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&LI("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Lo=Date.now(),e()})),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}},{key:"Ko",value:function(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}},{key:"cancel",value:function(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Qo",value:function(){return(Math.random()-.5)*this.No}}]),e}(),RL=function(){function e(t,n,r,i,a,o,s,u){tn(this,e),this.oi=t,this.$o=r,this.Uo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new AL(t,n)}return on(e,[{key:"Ho",value:function(){return 1===this.state||5===this.state||this.Jo()}},{key:"Jo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Yo()}},{key:"stop",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ho(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.state=0,this.jo.reset()}},{key:"Xo",value:function(){var e=this;this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(function(){return e.e_()})))}},{key:"t_",value:function(e){this.n_(),this.stream.send(e)}},{key:"e_",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Jo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"close",value:function(){var e=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():n&&n.code===zI.RESOURCE_EXHAUSTED?(MI(n.toString()),MI("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===zI.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.To(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"i_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=yn(t,2),i=r[0],a=r[1];e.Wo===n&&e.o_(i,a)}),(function(n){t((function(){var t=new WI(zI.UNKNOWN,"Fetching auth token failed: "+n.message);return e.__(t)}))}))}},{key:"o_",value:function(e,t){var n=this,r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((function(){r((function(){return n.state=2,n.zo=n.oi.enqueueAfterDelay(n.Uo,1e4,(function(){return n.Jo()&&(n.state=3),Promise.resolve()})),n.listener.Po()}))})),this.stream.To((function(e){r((function(){return n.__(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Yo",value:function(){var e=this;this.state=5,this.jo.qo(yv(vv().mark((function t(){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"__",value:function(e){return LI("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"s_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Wo===e?n():(LI("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),DL=function(e){un(n,e);var t=fn(n);function n(e,r,i,a,o,s){var u;return tn(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return on(n,[{key:"a_",value:function(e,t){return this.connection.Fo("Listen",e,t)}},{key:"onMessage",value:function(e){this.jo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:UI()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(BI(void 0===t||"string"==typeof t),CN.fromBase64String(t||"")):(BI(void 0===t||t instanceof Uint8Array),CN.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?zI.UNKNOWN:tD(e.code);return new WI(t,e.message||"")}(o);n=new dD(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=ND(e,u.document.name),l=TD(u.document.updateTime),h=u.document.createTime?TD(u.document.createTime):oP.min(),f=new iA({mapValue:{fields:u.document.fields}}),d=oA.newFoundDocument(c,l,h,f),p=u.targetIds||[],v=u.removedTargetIds||[];n=new hD(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=ND(e,m.document),g=m.readTime?TD(m.readTime):oP.min(),k=oA.newNoDocument(y,g),b=m.removedTargetIds||[];n=new hD([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=ND(e,w.document),x=w.removedTargetIds||[];n=new hD([],x,_,null)}else{if(!("filter"in t))return UI();t.filter;var S=t.filter;S.targetId;var E=S.count,T=void 0===E?0:E,C=S.unchangedNames,I=new ZR(T,C),P=S.targetId;n=new fD(P,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return oP.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?oP.min():t.readTime?TD(t.readTime):oP.min()}(e);return this.listener.u_(t,n)}},{key:"c_",value:function(e){var t={};t.database=DD(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=jA(r)?{documents:UD(e,r)}:{query:BD(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=SD(e,t.resumeToken);var i=_D(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(oP.min())>0){n.readTime=xD(e,t.snapshotVersion.toTimestamp());var a=_D(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return UI()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}},{key:"l_",value:function(e){var t={};t.database=DD(this.serializer),t.removeTarget=e,this.t_(t)}}]),n}(RL),OL=function(e){un(n,e);var t=fn(n);function n(e,r,i,a,o,s){var u;return tn(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.h_=!1,u}return on(n,[{key:"P_",get:function(){return this.h_}},{key:"start",value:function(){this.h_=!1,this.lastStreamToken=void 0,Wh(cn(n.prototype),"start",this).call(this)}},{key:"i_",value:function(){this.h_&&this.I_([])}},{key:"a_",value:function(e,t){return this.connection.Fo("Write",e,t)}},{key:"onMessage",value:function(e){if(BI(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();var t=function(e,t){return e&&e.length>0?(BI(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?TD(e.updateTime):TD(t);return n.isEqual(oP.min())&&(n=TD(t)),new RR(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=TD(e.commitTime);return this.listener.T_(n,t)}return BI(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}},{key:"d_",value:function(){var e={};e.database=DD(this.serializer),this.t_(e)}},{key:"I_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return FD(t.serializer,e)}))};this.t_(n)}}]),n}(RL),jL=function(e){un(n,e);var t=fn(n);function n(e,r,i,a){var o;return tn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.A_=!1,o}return on(n,[{key:"R_",value:function(){if(this.A_)throw new WI(zI.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"So",value:function(e,t,n){var r=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=yn(i,2),o=a[0],s=a[1];return r.connection.So(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===zI.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new WI(zI.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=yn(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===zI.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new WI(zI.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.A_=!0}}]),n}(on((function e(){tn(this,e)})));var LL=function(){function e(t,n){tn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}return on(e,[{key:"p_",value:function(){var e=this;0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.f_=null,e.w_("Backend didn't respond within 10 seconds."),e.y_("Offline"),Promise.resolve()})))}},{key:"S_",value:function(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}},{key:"set",value:function(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}},{key:"y_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"w_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(MI(t),this.g_=!1):LI("OnlineStateTracker",t)}},{key:"b_",value:function(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}]),e}(),ML=on((function e(t,n,r,i,a){var o=this;tn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=a,this.M_.io((function(e){r.enqueueAndForget(yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=QL(o),!e.t0){e.next=5;break}return LI("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qI(t)).v_.add(4),e.next=4,UL(n);case 4:return n.x_.set("Unknown"),n.v_.delete(4),e.next=8,FL(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.x_=new LL(r,i)}));function FL(e){return VL.apply(this,arguments)}function VL(){return(VL=yv(vv().mark((function e(t){var n,r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!QL(t)){e.next=18;break}n=kn(t.F_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function UL(e){return BL.apply(this,arguments)}function BL(){return(BL=yv(vv().mark((function e(t){var n,r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kn(t.F_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function qL(e,t){var n=qI(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),GL(n)?HL(n):xM(n).Jo()&&WL(n,t))}function zL(e,t){var n=qI(e),r=xM(n);n.C_.delete(t),r.Jo()&&KL(n,t),0===n.C_.size&&(r.Jo()?r.Xo():QL(n)&&n.x_.set("Unknown"))}function WL(e,t){if(e.O_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(oP.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xM(e).c_(t)}function KL(e,t){e.O_.Ne(t),xM(e).l_(t)}function HL(e){e.O_=new vD({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.C_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),xM(e).start(),e.x_.p_()}function GL(e){return QL(e)&&!xM(e).Ho()&&e.C_.size>0}function QL(e){return 0===qI(e).v_.size}function YL(e){e.O_=void 0}function $L(e){return XL.apply(this,arguments)}function XL(){return(XL=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.C_.forEach((function(e,n){WL(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JL(e,t){return ZL.apply(this,arguments)}function ZL(){return(ZL=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:YL(t),GL(t)?(t.x_.S_(n),HL(t)):t.x_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eM(e,t,n){return tM.apply(this,arguments)}function tM(){return tM=yv(vv().mark((function e(t,n,r){var i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.x_.set("Online"),!(n instanceof dD&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=yv(vv().mark((function e(t,n){var r,i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=kn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.C_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.C_.delete(o),t.O_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),LI("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,nM(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof hD?t.O_.Ue(n):n instanceof fD?t.O_.Ye(n):t.O_.ze(n),r.isEqual(oP.min())){e.next=29;break}return e.prev=14,e.next=17,Yj(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.O_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.C_.get(t);if(r){e.C_.set(t,r.withResumeToken(CN.EMPTY_BYTE_STRING,r.snapshotVersion)),KL(e,t);var i=new JD(r.target,t,n,r.sequenceNumber);WL(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),LI("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,nM(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),tM.apply(this,arguments)}function nM(e,t,n){return rM.apply(this,arguments)}function rM(){return rM=yv(vv().mark((function e(t,n,r){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(NP(n)){e.next=2;break}throw n;case 2:return t.v_.add(1),e.next=5,UL(t);case 5:t.x_.set("Offline"),r||(r=function(){return Yj(t.localStore)}),t.asyncQueue.enqueueRetryable(yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LI("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.v_.delete(1),e.next=6,FL(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),rM.apply(this,arguments)}function iM(e,t){return t().catch((function(n){return nM(e,n,t)}))}function aM(e){return oM.apply(this,arguments)}function oM(){return oM=yv(vv().mark((function e(t){var n,r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qI(t),r=SM(n),i=n.D_.length>0?n.D_[n.D_.length-1].batchId:-1;case 2:if(!sM(n)){e.next=19;break}return e.prev=3,e.next=6,Jj(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.D_.length&&r.Xo(),e.abrupt("break",19);case 10:i=a.batchId,uM(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,nM(n,e.t0);case 17:e.next=2;break;case 19:cM(n)&&lM(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),oM.apply(this,arguments)}function sM(e){return QL(e)&&e.D_.length<10}function uM(e,t){e.D_.push(t);var n=SM(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function cM(e){return QL(e)&&!SM(e).Ho()&&e.D_.length>0}function lM(e){SM(e).start()}function hM(e){return fM.apply(this,arguments)}function fM(){return(fM=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:SM(t).d_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dM(e){return pM.apply(this,arguments)}function pM(){return pM=yv(vv().mark((function e(t){var n,r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=SM(t),r=kn(t.D_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.I_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),pM.apply(this,arguments)}function vM(e,t,n){return mM.apply(this,arguments)}function mM(){return mM=yv(vv().mark((function e(t,n,r){var i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.D_.shift(),a=XR.from(i,n,r),e.next=3,iM(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,aM(t);case 5:case"end":return e.stop()}}),e)}))),mM.apply(this,arguments)}function yM(e,t){return gM.apply(this,arguments)}function gM(){return gM=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&SM(t).P_,!e.t0){e.next=4;break}return e.next=4,function(){var e=yv(vv().mark((function e(t,n){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return eD(e)&&e!==zI.ABORTED}(n.code)){e.next=7;break}return r=t.D_.shift(),SM(t).Zo(),e.next=5,iM(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,aM(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:cM(t)&&lM(t);case 5:case"end":return e.stop()}}),e)}))),gM.apply(this,arguments)}function kM(e,t){return bM.apply(this,arguments)}function bM(){return bM=yv(vv().mark((function e(t,n){var r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=qI(t)).asyncQueue.verifyOperationInProgress(),LI("RemoteStore","RemoteStore received new credentials"),i=QL(r),r.v_.add(3),e.next=6,UL(r);case 6:return i&&r.x_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.v_.delete(3),e.next=12,FL(r);case 12:case"end":return e.stop()}}),e)}))),bM.apply(this,arguments)}function wM(e,t){return _M.apply(this,arguments)}function _M(){return _M=yv(vv().mark((function e(t,n){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qI(t),!n){e.next=7;break}return r.v_.delete(2),e.next=5,FL(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.v_.add(2),e.next=12,UL(r);case 12:r.x_.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),_M.apply(this,arguments)}function xM(e){return e.N_||(e.N_=function(e,t,n){var r=qI(e);return r.R_(),new DL(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:$L.bind(null,e),To:JL.bind(null,e),u_:eM.bind(null,e)}),e.F_.push(function(){var t=yv(vv().mark((function t(n){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.N_.Zo(),GL(e)?HL(e):e.x_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.N_.stop();case 6:YL(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}function SM(e){return e.B_||(e.B_=function(e,t,n){var r=qI(e);return r.R_(),new OL(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:hM.bind(null,e),To:yM.bind(null,e),E_:dM.bind(null,e),T_:vM.bind(null,e)}),e.F_.push(function(){var t=yv(vv().mark((function t(n){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.B_.Zo(),t.next=4,aM(e);case 4:t.next=9;break;case 6:return t.next=8,e.B_.stop();case 8:e.D_.length>0&&(LI("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.B_}var EM=function(){function e(t,n,r,i,a){tn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new KI,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return on(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new WI(zI.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function TM(e,t){if(MI("AsyncQueue","".concat(t,": ").concat(e)),NP(e))return new WI(zI.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var CM=function(){function e(t){tn(this,e),this.comparator=t?function(e,n){return t(e,n)||hP.comparator(e.key,n.key)}:function(e,t){return hP.comparator(e.key,t.key)},this.keyedMap=oR(),this.sortedSet=new kN(this.comparator)}return on(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),IM=function(){function e(){tn(this,e),this.L_=new kN(hP.comparator)}return on(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):UI():this.L_=this.L_.insert(t,e)}},{key:"k_",value:function(){var e=[];return this.L_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),PM=function(){function e(t,n,r,i,a,o,s,u,c){tn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return on(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&YA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,CM.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),NM=on((function e(){tn(this,e),this.q_=void 0,this.listeners=[]})),AM=on((function e(){tn(this,e),this.queries=new nR((function(e){return $A(e)}),YA),this.onlineState="Unknown",this.Q_=new Set}));function RM(e,t){return DM.apply(this,arguments)}function DM(){return DM=yv(vv().mark((function e(t,n){var r,i,a,o,s;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qI(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new NM),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=TM(e.t0,"Initialization of query '".concat(XA(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.K_(r.onlineState),o.q_&&n.U_(o.q_)&&FM(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),DM.apply(this,arguments)}function OM(e,t){return jM.apply(this,arguments)}function jM(){return jM=yv(vv().mark((function e(t,n){var r,i,a,o,s;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qI(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),jM.apply(this,arguments)}function LM(e,t){var n,r=qI(e),i=!1,a=kn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=kn(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.U_(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.q_=o}}}catch(h){a.e(h)}finally{a.f()}i&&FM(r)}function MM(e,t,n){var r=qI(e),i=r.queries.get(t);if(i){var a,o=kn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function FM(e){e.Q_.forEach((function(e){e.next()}))}var VM=function(){function e(t,n,r){tn(this,e),this.query=t,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}return on(e,[{key:"U_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=kn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new PM(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.G_?this.j_(e)&&(this.W_.next(e),a=!0):this.H_(e,this.onlineState)&&(this.J_(e),a=!0),this.z_=e,a}},{key:"onError",value:function(e){this.W_.error(e)}},{key:"K_",value:function(e){this.onlineState=e;var t=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),t=!0),t}},{key:"H_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Y_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"j_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"J_",value:function(e){e=PM.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}]),e}(),UM=function(){function e(t,n){tn(this,e),this.Z_=t,this.byteLength=n}return on(e,[{key:"X_",value:function(){return"metadata"in this.Z_}}]),e}(),BM=function(){function e(t){tn(this,e),this.serializer=t}return on(e,[{key:"Ps",value:function(e){return ND(this.serializer,e)}},{key:"Is",value:function(e){return e.metadata.exists?LD(this.serializer,e.document,!1):oA.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}},{key:"Ts",value:function(e){return TD(e)}}]),e}(),qM=function(){function e(t,n,r){tn(this,e),this.ea=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zM(t)}return on(e,[{key:"ta",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Z_.namedQuery)this.queries.push(e.Z_.namedQuery);else if(e.Z_.documentMetadata){this.documents.push({metadata:e.Z_.documentMetadata}),e.Z_.documentMetadata.exists||++t;var n=uP.fromString(e.Z_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Z_.document&&(this.documents[this.documents.length-1].document=e.Z_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"na",value:function(e){var t,n=new Map,r=new BM(this.serializer),i=kn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ps(a.metadata.name),u=kn(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||dR()).add(s);n.set(c,l)}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=yv(vv().mark((function e(){var t,n,r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oL(this.localStore,new BM(this.serializer),this.documents,this.ea.id);case 2:t=e.sent,n=this.na(this.documents),r=kn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,uL(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,ra:this.collectionGroups,ia:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function zM(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var WM=on((function e(t){tn(this,e),this.key=t})),KM=on((function e(t){tn(this,e),this.key=t})),HM=function(){function e(t,n){tn(this,e),this.query=t,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=dR(),this.mutatedKeys=dR(),this.aa=eR(t),this.ua=new CM(this.aa)}return on(e,[{key:"ca",get:function(){return this.sa}},{key:"la",value:function(e,t){var n=this,r=t?t.ha:new IM,i=t?t.ua:this.ua,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=JA(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Pa(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.aa(h,u)>0||c&&n.aa(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ua:o,ha:r,Xi:s,mutatedKeys:a}}},{key:"Pa",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;var a=e.ha.k_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return UI()}};return n(e)-n(t)}(e.type,t.type)||r.aa(e.doc,t.doc)})),this.Ia(n);var o=t?this.Ta():[],s=0===this._a.size&&this.current?1:0,u=s!==this.oa;return this.oa=s,0!==a.length||u?{snapshot:new PM(this.query,e.ua,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}},{key:"K_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ua:this.ua,ha:new IM,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}},{key:"da",value:function(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}},{key:"Ia",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.sa=t.sa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.sa=t.sa.delete(e)})),this.current=e.current)}},{key:"Ta",value:function(){var e=this;if(!this.current)return[];var t=this._a;this._a=dR(),this.ua.forEach((function(t){e.da(t.key)&&(e._a=e._a.add(t.key))}));var n=[];return t.forEach((function(t){e._a.has(t)||n.push(new KM(t))})),this._a.forEach((function(e){t.has(e)||n.push(new WM(e))})),n}},{key:"Aa",value:function(e){this.sa=e.hs,this._a=dR();var t=this.la(e.documents);return this.applyChanges(t,!0)}},{key:"Ra",value:function(){return PM.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,0===this.oa,this.hasCachedResults)}}]),e}(),GM=on((function e(t,n,r){tn(this,e),this.query=t,this.targetId=n,this.view=r})),QM=on((function e(t){tn(this,e),this.key=t,this.Va=!1})),YM=function(){function e(t,n,r,i,a,o){tn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new nR((function(e){return $A(e)}),YA),this.ga=new Map,this.pa=new Set,this.ya=new kN(hP.comparator),this.wa=new Map,this.Sa=new Ej,this.ba={},this.Da=new Map,this.Ca=ej.Bn(),this.onlineState="Unknown",this.va=void 0}return on(e,[{key:"isPrimaryClient",get:function(){return!0===this.va}}]),e}();function $M(e,t){return XM.apply(this,arguments)}function XM(){return XM=yv(vv().mark((function e(t,n){var r,i,a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zF(t),!(o=r.fa.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Ra(),e.next=15;break;case 6:return e.next=8,Zj(r.localStore,KA(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,JM(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&qL(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),XM.apply(this,arguments)}function JM(e,t,n,r,i){return ZM.apply(this,arguments)}function ZM(){return ZM=yv(vv().mark((function e(t,n,r,i,a){var o,s,u,c,l,h;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Fa=function(e,n,r){return function(){var e=yv(vv().mark((function e(t,n,r,i){var a,o,s;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.la(r),e.t0=a.Xi,!e.t0){e.next=6;break}return e.next=5,nL(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.la(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(kF(t,n.targetId,s.Ea),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,nL(t.localStore,n,!0);case 3:return o=e.sent,s=new HM(n,o.hs),u=s.la(o.documents),c=lD.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),kF(t,r,l.Ea),h=new GM(n,r,s),e.abrupt("return",(t.fa.set(n,h),t.ga.has(r)?t.ga.get(r).push(n):t.ga.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),ZM.apply(this,arguments)}function eF(e,t){return tF.apply(this,arguments)}function tF(){return tF=yv(vv().mark((function e(t,n){var r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qI(t),i=r.fa.get(n),!((a=r.ga.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ga.set(i.targetId,a.filter((function(e){return!YA(e,n)}))),void r.fa.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,eL(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),zL(r.remoteStore,i.targetId),yF(r,i.targetId)})).catch(xP);case 9:e.next=14;break;case 11:return yF(r,i.targetId),e.next=14,eL(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),tF.apply(this,arguments)}function nF(e,t,n){return rF.apply(this,arguments)}function rF(){return rF=yv(vv().mark((function e(t,n,r){var i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=WF(t),e.prev=1,e.next=4,function(e,t){var n,r,i=qI(e),a=aP.now(),o=t.reduce((function(e,t){return e.add(t.key)}),dR());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=iR(),u=dR();return i.os.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=kn(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=VR(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new qR(c.key,l,aA(l.value.mapValue),DR.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:sR(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ba[e.currentUser.toKey()];r||(r=new kN(nP)),r=r.insert(t,n),e.ba[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,_F(i,a.changes);case 9:return e.next=11,aM(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=TM(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),rF.apply(this,arguments)}function iF(e,t){return aF.apply(this,arguments)}function aF(){return aF=yv(vv().mark((function e(t,n){var r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qI(t),e.prev=1,e.next=4,$j(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.wa.get(t);n&&(BI(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Va=!0:e.modifiedDocuments.size>0?BI(n.Va):e.removedDocuments.size>0&&(BI(n.Va),n.Va=!1))})),e.next=8,_F(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,xP(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),aF.apply(this,arguments)}function oF(e,t,n){var r=qI(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.fa.forEach((function(e,n){var r=n.view.K_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=qI(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=kn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.K_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&FM(n)}(r.eventManager,t),i.length&&r.ma.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function sF(e,t,n){return uF.apply(this,arguments)}function uF(){return uF=yv(vv().mark((function e(t,n,r){var i,a,o,s,u,c;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=qI(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.wa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new kN(hP.comparator)).insert(o,oA.newNoDocument(o,oP.min())),u=dR().add(o),c=new cD(oP.min(),new Map,new kN(nP),s,u),e.next=9,iF(i,c);case 9:i.ya=i.ya.remove(o),i.wa.delete(n),wF(i),e.next=16;break;case 14:return e.next=16,eL(i.localStore,n,!1).then((function(){return yF(i,n,r)})).catch(xP);case 16:case"end":return e.stop()}}),e)}))),uF.apply(this,arguments)}function cF(e,t){return lF.apply(this,arguments)}function lF(){return lF=yv(vv().mark((function e(t,n){var r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qI(t),i=n.batch.batchId,e.prev=1,e.next=4,Qj(r.localStore,n);case 4:return a=e.sent,mF(r,i,null),vF(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,_F(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xP(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),lF.apply(this,arguments)}function hF(e,t,n){return fF.apply(this,arguments)}function fF(){return fF=yv(vv().mark((function e(t,n,r){var i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qI(t),e.prev=1,e.next=4,function(e,t){var n=qI(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return BI(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,mF(i,n,r),vF(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,_F(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xP(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),fF.apply(this,arguments)}function dF(e,t){return pF.apply(this,arguments)}function pF(){return pF=yv(vv().mark((function e(t,n){var r,i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QL((r=qI(t)).remoteStore)||LI("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=qI(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Da.get(i)||[]).push(n),r.Da.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=TM(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),pF.apply(this,arguments)}function vF(e,t){(e.Da.get(t)||[]).forEach((function(e){e.resolve()})),e.Da.delete(t)}function mF(e,t,n){var r=qI(e),i=r.ba[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ba[r.currentUser.toKey()]=i}}function yF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=kn(e.ga.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.fa.delete(a),n&&e.ma.Ma(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ga.delete(t),e.isPrimaryClient&&e.Sa.Vr(t).forEach((function(t){e.Sa.containsKey(t)||gF(e,t)}))}function gF(e,t){e.pa.delete(t.path.canonicalString());var n=e.ya.get(t);null!==n&&(zL(e.remoteStore,n),e.ya=e.ya.remove(t),e.wa.delete(n),wF(e))}function kF(e,t,n){var r,i=kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof WM?(e.Sa.addReference(a.key,t),bF(e,a)):a instanceof KM?(LI("SyncEngine","Document no longer in limbo: "+a.key),e.Sa.removeReference(a.key,t),e.Sa.containsKey(a.key)||gF(e,a.key)):UI()}}catch(o){i.e(o)}finally{i.f()}}function bF(e,t){var n=t.key,r=n.path.canonicalString();e.ya.get(n)||e.pa.has(r)||(LI("SyncEngine","New document in limbo: "+n),e.pa.add(r),wF(e))}function wF(e){for(;e.pa.size>0&&e.ya.size<e.maxConcurrentLimboResolutions;){var t=e.pa.values().next().value;e.pa.delete(t);var n=new hP(uP.fromString(t)),r=e.Ca.next();e.wa.set(r,new QM(n)),e.ya=e.ya.insert(n,r),qL(e.remoteStore,new JD(KA(BA(n.path)),r,"TargetPurposeLimboResolution",MP.ae))}}function _F(e,t,n){return xF.apply(this,arguments)}function xF(){return xF=yv(vv().mark((function e(t,n,r){var i,a,o,s;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qI(t),a=[],o=[],s=[],e.t0=i.fa.isEmpty(),e.t0){e.next=9;break}return i.fa.forEach((function(e,t){s.push(i.Fa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Bj.Ki(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.ma.u_(a),e.next=9,function(){var e=yv(vv().mark((function e(t,n){var r,i,a,o,s,u,c,l;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qI(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return EP.forEach(n,(function(t){return EP.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return EP.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),NP(e.t0)){e.next=10;break}throw e.t0;case 10:LI("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=kn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ns.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ns=r.ns.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),xF.apply(this,arguments)}function SF(e,t){return EF.apply(this,arguments)}function EF(){return EF=yv(vv().mark((function e(t,n){var r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=qI(t)).currentUser.isEqual(n)){e.next=11;break}return LI("SyncEngine","User change. New user:",n.toKey()),e.next=5,Hj(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Da.forEach((function(e){e.forEach((function(e){e.reject(new WI(zI.CANCELLED,t))}))})),e.Da.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,_F(r,i.us);case 11:case"end":return e.stop()}}),e)}))),EF.apply(this,arguments)}function TF(e,t){var n=qI(e),r=n.wa.get(t);if(r&&r.Va)return dR().add(r.key);var i=dR(),a=n.ga.get(t);if(!a)return i;var o,s=kn(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.fa.get(u);i=i.unionWith(c.view.ca)}}catch(l){s.e(l)}finally{s.f()}return i}function CF(e,t){return IF.apply(this,arguments)}function IF(){return IF=yv(vv().mark((function e(t,n){var r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qI(t),e.next=3,nL(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Aa(i),e.abrupt("return",(r.isPrimaryClient&&kF(r,n.targetId,a.Ea),a));case 6:case"end":return e.stop()}}),e)}))),IF.apply(this,arguments)}function PF(e,t){return NF.apply(this,arguments)}function NF(){return NF=yv(vv().mark((function e(t,n){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qI(t),e.abrupt("return",iL(r.localStore,n).then((function(e){return _F(r,e)})));case 2:case"end":return e.stop()}}),e)}))),NF.apply(this,arguments)}function AF(e,t,n,r){return RF.apply(this,arguments)}function RF(){return RF=yv(vv().mark((function e(t,n,r,i){var a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qI(t),e.next=3,function(e,t){var n=qI(e),r=qI(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):EP.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,aM(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(mF(a,n,i||null),vF(a,n),function(e,t){qI(qI(e).mutationQueue).Mn(t)}(a.localStore,n)):UI();case 11:return e.next=13,_F(a,o);case 13:e.next=16;break;case 15:LI("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),RF.apply(this,arguments)}function DF(e,t){return OF.apply(this,arguments)}function OF(){return OF=yv(vv().mark((function e(t,n){var r,i,a,o,s,u,c,l;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zF(r=qI(t)),WF(r),!0!==n||!0===r.va){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,jF(r,i.toArray());case 5:return a=e.sent,r.va=!0,e.next=9,wM(r.remoteStore,!0);case 9:o=kn(a);try{for(o.s();!(s=o.n()).done;)u=s.value,qL(r.remoteStore,u)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.va){e.next=25;break}return c=[],l=Promise.resolve(),r.ga.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return yF(r,t),eL(r.localStore,t,!0)})),zL(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,jF(r,c);case 21:return function(e){var t=qI(e);t.wa.forEach((function(e,n){zL(t.remoteStore,n)})),t.Sa.mr(),t.wa=new Map,t.ya=new kN(hP.comparator)}(r),r.va=!1,e.next=25,wM(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),OF.apply(this,arguments)}function jF(e,t,n){return LF.apply(this,arguments)}function LF(){return LF=yv(vv().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,d,p,v,m,y;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=qI(t),a=[],o=[],s=kn(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(h=i.ga.get(c))||0===h.length){e.next=34;break}return e.next=11,Zj(i.localStore,KA(h[0]));case 11:l=e.sent,f=kn(h),e.prev=13,f.s();case 15:if((d=f.n()).done){e.next=24;break}return p=d.value,v=i.fa.get(p),e.next=20,CF(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,rL(i.localStore,c);case 36:return y=e.sent,e.next=39,Zj(i.localStore,y);case 39:return l=e.sent,e.next=42,JM(i,MF(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.ma.u_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),LF.apply(this,arguments)}function MF(e){return UA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function FF(e){return function(e){return qI(qI(e).persistence).Li()}(qI(e).localStore)}function VF(e,t,n,r){return UF.apply(this,arguments)}function UF(){return UF=yv(vv().mark((function e(t,n,r,i){var a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=qI(t)).va){e.next=3;break}return e.abrupt("return",void LI("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ga.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,iL(a.localStore,ZA(o[0]));case 10:return s=e.sent,u=cD.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,CN.EMPTY_BYTE_STRING),e.next=14,_F(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,eL(a.localStore,n,!0);case 17:return yF(a,n,i),e.abrupt("break",20);case 19:UI();case 20:case"end":return e.stop()}}),e)}))),UF.apply(this,arguments)}function BF(e,t,n){return qF.apply(this,arguments)}function qF(){return qF=yv(vv().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=zF(t)).va){e.next=45;break}a=kn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ga.has(s)){e.next=10;break}return LI("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,rL(i.localStore,s);case 12:return u=e.sent,e.next=15,Zj(i.localStore,u);case 15:return c=e.sent,e.next=18,JM(i,MF(u),c.targetId,!1,c.resumeToken);case 18:qL(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=kn(r),e.prev=30,f=vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ga.has(t),!e.t0){e.next=5;break}return e.next=5,eL(i.localStore,t,!1).then((function(){zL(i.remoteStore,t),yF(i,t)})).catch(xP);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),qF.apply(this,arguments)}function zF(e){var t=qI(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=iF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sF.bind(null,t),t.ma.u_=LM.bind(null,t.eventManager),t.ma.Ma=MM.bind(null,t.eventManager),t}function WF(e){var t=qI(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hF.bind(null,t),t}function KF(e,t,n){var r=qI(e);(function(){var e=yv(vv().mark((function e(t,n,r){var i,a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=qI(e),r=TD(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$r.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(zM(i)),a=new qM(i,t.localStore,n.serializer),e.next=15,n.xa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ta(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.xa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,_F(t,u.ia,void 0);case 31:return e.next=33,function(e,t){var n=qI(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$r.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.ra));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(FI("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var HF=function(){function e(){tn(this,e),this.synchronizeTabs=!1}return on(e,[{key:"initialize",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=NL(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Kj(this.persistence,new zj,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Aj(Dj.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new kL}},{key:"terminate",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),GF=function(e){un(n,e);var t=fn(n);function n(e,r,i){var a;return tn(this,n),(a=t.call(this)).Oa=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return on(n,[{key:"initialize",value:function(){var e=yv(vv().mark((function e(t){var r=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh(cn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Oa.initialize(this,t);case 4:return e.next=6,WF(this.Oa.syncEngine);case 6:return e.next=8,aM(this.Oa.remoteStore);case 8:return e.next=10,this.persistence.fi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Kj(this.persistence,new zj,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new sj(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new LP(t,this.persistence);return new jP(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=Uj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?HO.withCacheSize(this.cacheSizeBytes):HO.DEFAULT;return new Mj(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,IL(),PL(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new kL}}]),n}(HF),QF=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this,e,r,!1)).Oa=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return on(n,[{key:"initialize",value:function(){var e=yv(vv().mark((function e(t){var r,i=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh(cn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Oa.syncEngine,e.t0=this.sharedClientState instanceof gL,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Zs:AF.bind(null,r),Xs:VF.bind(null,r),eo:BF.bind(null,r),Li:FF.bind(null,r),Ys:PF.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.fi(function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DF(i.Oa.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=IL();if(!gL.C(t))throw new WI(zI.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Uj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gL(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(GF),YF=function(){function e(){tn(this,e)}return on(e,[{key:"initialize",value:function(){var e=yv(vv().mark((function e(t,n){var r=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return oF(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=SF.bind(null,this.syncEngine),e.next=12,wM(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new AM}},{key:"createDatastore",value:function(e){var t=NL(e.databaseInfo.databaseId),n=function(e){return new CL(e)}(e.databaseInfo);return function(e,t,n,r){return new jL(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new ML(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return oF(t.syncEngine,e,0)}),wL.C()?new wL:new bL)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new YM(e,t,n,r,i,a);return o&&(s.va=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qI(t),LI("RemoteStore","RemoteStore shutting down."),n.v_.add(5),e.next=5,UL(n);case 5:n.M_.shutdown(),n.x_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function $F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return yv(vv().mark((function r(){var i;return vv().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var XF=function(){function e(t){tn(this,e),this.observer=t,this.muted=!1}return on(e,[{key:"next",value:function(e){this.observer.next&&this.Na(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Na(this.observer.error,e):MI("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ba",value:function(){this.muted=!0}},{key:"Na",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),JF=function(){function e(t,n){var r=this;tn(this,e),this.La=t,this.serializer=n,this.metadata=new KI,this.buffer=new Uint8Array,this.ka=new TextDecoder("utf-8"),this.qa().then((function(e){e&&e.X_()?r.metadata.resolve(e.Z_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Z_))))}),(function(e){return r.metadata.reject(e)}))}return on(e,[{key:"close",value:function(){return this.La.cancel()}},{key:"getMetadata",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xa",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.qa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"qa",value:function(){var e=yv(vv().mark((function e(){var t,n,r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Qa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ka.decode(t),r=Number(n),isNaN(r)&&this.Ka("length string (".concat(n,") is not valid number")),e.next=9,this.$a(r);case 9:return i=e.sent,e.abrupt("return",new UM(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Qa",value:function(){var e=yv(vv().mark((function e(){var t,n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Ua()<0)){e.next=7;break}return e.next=3,this.Wa();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Ua())<0&&this.Ka("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$a",value:function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Wa();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ka("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ka.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ka",value:function(e){throw this.La.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Wa",value:function(){var e=yv(vv().mark((function e(){var t,n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.La.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ZF=function(){function e(t){tn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return on(e,[{key:"lookup",value:function(){var e=yv(vv().mark((function e(t){var n,r=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new WI(zI.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=yv(vv().mark((function e(t,n){var r,i,a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qI(t),i=DD(r.serializer)+"/documents",a={documents:n.map((function(e){return PD(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=MD(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());BI(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new QR(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=yv(vv().mark((function e(){var t,n=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=hP.fromPath(t);n.mutations.push(new YR(r,n.precondition(r)))})),e.next=7,function(){var e=yv(vv().mark((function e(t,n){var r,i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qI(t),i=DD(r.serializer)+"/documents",a={writes:n.map((function(e){return FD(r.serializer,e)}))},e.next=3,r.So("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw UI();t=oP.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new WI(zI.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(oP.min())?DR.exists(!1):DR.updateTime(t):DR.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(oP.min()))throw new WI(zI.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return DR.updateTime(t)}return DR.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),eV=function(){function e(t,n,r,i,a){tn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Ga=r.maxAttempts,this.jo=new AL(this.asyncQueue,"transaction_retry")}return on(e,[{key:"run",value:function(){this.Ga-=1,this.za()}},{key:"za",value:function(){var e=this;this.jo.qo(yv(vv().mark((function t(){var n,r;return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new ZF(e.datastore),(r=e.ja(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ha(t)}))}))})).catch((function(t){e.Ha(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ja",value:function(e){try{var t=this.updateFunction(e);return!FP(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ha",value:function(e){var t=this;this.Ga>0&&this.Ja(e)?(this.Ga-=1,this.asyncQueue.enqueueAndForget((function(){return t.za(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ja",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!eD(t)}return!1}}]),e}(),tV=function(){function e(t,n,r,i){var a=this;tn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=RI.UNAUTHENTICATED,this.clientId=tP.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LI("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return LI("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return on(e,[{key:"getConfiguration",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new WI(zI.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new KI;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(yv(vv().mark((function n(){var r;return vv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=TM(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function nV(e,t){return rV.apply(this,arguments)}function rV(){return rV=yv(vv().mark((function e(t,n){var r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),LI("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Hj(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),rV.apply(this,arguments)}function iV(e,t){return aV.apply(this,arguments)}function aV(){return aV=yv(vv().mark((function e(t,n){var r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,sV(t);case 3:return r=e.sent,LI("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return kM(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return kM(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),aV.apply(this,arguments)}function oV(e){return"FirebaseError"===e.name?e.code===zI.FAILED_PRECONDITION||e.code===zI.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function sV(e){return uV.apply(this,arguments)}function uV(){return uV=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return LI("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,nV(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),oV(n=e.t0)){e.next=13;break}throw n;case 13:return FI("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,nV(t,new HF);case 16:e.next=21;break;case 18:return LI("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,nV(t,new HF);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),uV.apply(this,arguments)}function cV(e){return lV.apply(this,arguments)}function lV(){return(lV=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return LI("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,iV(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return LI("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,iV(t,new YF);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hV(e){return sV(e).then((function(e){return e.persistence}))}function fV(e){return sV(e).then((function(e){return e.localStore}))}function dV(e){return cV(e).then((function(e){return e.remoteStore}))}function pV(e){return cV(e).then((function(e){return e.syncEngine}))}function vV(e){return cV(e).then((function(e){return e.datastore}))}function mV(e){return yV.apply(this,arguments)}function yV(){return yV=yv(vv().mark((function e(t){var n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cV(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=$M.bind(null,n.syncEngine),r.onUnlisten=eF.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),yV.apply(this,arguments)}function gV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new KI;return e.asyncQueue.enqueueAndForget(yv(vv().mark((function i(){return vv().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new XF({next:function(a){t.enqueueAndForget((function(){return OM(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new WI(zI.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new WI(zI.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new VM(BA(n.path),a,{includeMetadataChanges:!0,Y_:!0});return RM(e,o)},i.next=3,mV(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function kV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new KI;return e.asyncQueue.enqueueAndForget(yv(vv().mark((function i(){return vv().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new XF({next:function(n){t.enqueueAndForget((function(){return OM(e,o)})),n.fromCache&&"server"===r.source?i.reject(new WI(zI.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new VM(n,a,{includeMetadataChanges:!0,Y_:!0});return RM(e,o)},i.next=3,mV(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function bV(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var wV=new Map;function _V(e,t,n){if(!n)throw new WI(zI.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function xV(e,t,n,r){if(!0===t&&!0===r)throw new WI(zI.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function SV(e){if(!hP.isDocumentKey(e))throw new WI(zI.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function EV(e){if(hP.isDocumentKey(e))throw new WI(zI.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function TV(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":UI()}function CV(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new WI(zI.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=TV(e);throw new WI(zI.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function IV(e,t){if(t<=0)throw new WI(zI.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var PV=function(){function e(t){var n,r;if(tn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new WI(zI.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new WI(zI.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bV(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new WI(zI.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new WI(zI.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new WI(zI.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return on(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),NV=function(){function e(t,n,r,i){tn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PV({}),this._settingsFrozen=!1}return on(e,[{key:"app",get:function(){if(!this._app)throw new WI(zI.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new WI(zI.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PV(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new GI;switch(e.type){case"firstParty":return new XI(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new WI(zI.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=wV.get(e);t&&(LI("ComponentProvider","Removing Datastore"),wV.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function AV(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=CV(e,NV))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&FI("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=RI.MOCK_USER;else{s=Mv(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new WI(zI.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new RI(c)}e._authCredentials=new QI(new HI(s,u))}}var RV=function(){function e(t,n,r){tn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return on(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),DV=function(){function e(t,n,r){tn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return on(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new OV(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),OV=function(e){un(n,e);var t=fn(n);function n(e,r,i){var a;return tn(this,n),(a=t.call(this,e,r,BA(i)))._path=i,a.type="collection",a}return on(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new DV(this.firestore,null,new hP(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(RV);function jV(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mm(e),_V("collection","path",t),e instanceof NV){var a=uP.fromString.apply(uP,[t].concat(r));return EV(a),new OV(e,null,a)}if(!(e instanceof DV||e instanceof OV))throw new WI(zI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(uP.fromString.apply(uP,[t].concat(r)));return EV(o),new OV(e.firestore,null,o)}function LV(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mm(e),1===arguments.length&&(t=tP.V()),_V("doc","path",t),e instanceof NV){var a=uP.fromString.apply(uP,[t].concat(r));return SV(a),new DV(e,null,new hP(a))}if(!(e instanceof DV||e instanceof OV))throw new WI(zI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(uP.fromString.apply(uP,[t].concat(r)));return SV(o),new DV(e.firestore,e instanceof OV?e.converter:null,new hP(o))}function MV(e,t){return e=mm(e),t=mm(t),(e instanceof DV||e instanceof OV)&&(t instanceof DV||t instanceof OV)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function FV(e,t){return e=mm(e),t=mm(t),e instanceof RV&&t instanceof RV&&e.firestore===t.firestore&&YA(e._query,t._query)&&e.converter===t.converter}var VV=function(){function e(){var t=this;tn(this,e),this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new AL(this,"async_queue_retry"),this.su=function(){var e=PL();e&&LI("AsyncQueue","Visibility state changed to "+e.visibilityState),t.jo.Ko()};var n=PL();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.su)}return on(e,[{key:"isShuttingDown",get:function(){return this.Xa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ou(),this._u(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;var t=PL();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.su)}}},{key:"enqueue",value:function(e){var t=this;if(this.ou(),this.Xa)return new Promise((function(){}));var n=new KI;return this._u((function(){return t.Xa&&t.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Za.push(e),t.au()}))}},{key:"au",value:function(){var e=yv(vv().mark((function e(){var t=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Za.length){e.next=14;break}return e.prev=1,e.next=4,this.Za[0]();case 4:this.Za.shift(),this.jo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),NP(e.t0)){e.next=12;break}throw e.t0;case 12:LI("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Za.length>0&&this.jo.qo((function(){return t.au()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"_u",value:function(e){var t=this,n=this.Ya.then((function(){return t.nu=!0,e().catch((function(e){t.tu=e,t.nu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw MI("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.nu=!1,e}))}));return this.Ya=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ou(),this.iu.indexOf(e)>-1&&(t=0);var i=EM.createAndSchedule(this,e,t,n,(function(e){return r.uu(e)}));return this.eu.push(i),i}},{key:"ou",value:function(){this.tu&&UI()}},{key:"verifyOperationInProgress",value:function(){}},{key:"cu",value:function(){var e=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ya,e.next=3,t;case 3:if(t!==this.Ya){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"lu",value:function(e){var t,n=kn(this.eu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"hu",value:function(e){var t=this;return this.cu().then((function(){t.eu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=kn(t.eu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.cu()}))}},{key:"Pu",value:function(e){this.iu.push(e)}},{key:"uu",value:function(e){var t=this.eu.indexOf(e);this.eu.splice(t,1)}}]),e}();function UV(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=kn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var BV=function(){function e(){tn(this,e),this._progressObserver={},this._taskCompletionResolver=new KI,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return on(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),qV=function(e){un(n,e);var t=fn(n);function n(e,r,i,a){var o;return tn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new VV,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return on(n,[{key:"_terminate",value:function(){return this._firestoreClient||WV(this),this._firestoreClient.terminate()}}]),n}(NV);function zV(e){return e._firestoreClient||WV(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function WV(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new jN(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,bV(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new tV(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function KV(e,t,n){var r=new KI;return e.asyncQueue.enqueue(yv(vv().mark((function i(){var a;return vv().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nV(e,n);case 3:return i.next=5,iV(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),oV(a=i.t0)){i.next=13;break}throw a;case 13:FI("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function HV(e){return function(e){var t=new KI;return e.asyncQueue.enqueueAndForget(yv(vv().mark((function n(){return vv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=dF,n.next=3,pV(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(zV(e=CV(e,qV)))}function GV(e){return function(e){return e.asyncQueue.enqueue(yv(vv().mark((function t(){var n,r;return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hV(e);case 2:return n=t.sent,t.next=5,dV(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=qI(e);return t.v_.delete(0),FL(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(zV(e=CV(e,qV)))}function QV(e){return function(e){return e.asyncQueue.enqueue(yv(vv().mark((function t(){var n,r;return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hV(e);case 2:return n=t.sent,t.next=5,dV(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qI(t)).v_.add(0),e.next=4,UL(n);case 4:n.x_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(zV(e=CV(e,qV)))}function YV(e,t){var n=zV(e=CV(e,qV)),r=new BV;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new JF(e,t)}(function(e,t){if(e instanceof Uint8Array)return $F(e,t);if(e instanceof ArrayBuffer)return $F(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?rD().encode(e):e),t)}(n,NL(t));e.asyncQueue.enqueueAndForget(yv(vv().mark((function t(){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=KF,t.next=3,pV(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function $V(e,t){return function(e,t){return e.asyncQueue.enqueue(yv(vv().mark((function n(){return vv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=qI(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$r.getNamedQuery(e,t)}))},n.next=3,fV(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(zV(e=CV(e,qV)),t).then((function(t){return t?new RV(e,null,t.query):null}))}function XV(e){if(e._initialized||e._terminated)throw new WI(zI.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var JV=function(){function e(t){tn(this,e),this._byteString=t}return on(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(CN.fromBase64String(t))}catch(t){throw new WI(zI.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(CN.fromUint8Array(t))}}]),e}(),ZV=function(){function e(){tn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new WI(zI.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lP(n)}return on(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var eU=on((function e(t){tn(this,e),this._methodName=t})),tU=function(){function e(t,n){if(tn(this,e),!isFinite(t)||t<-90||t>90)throw new WI(zI.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new WI(zI.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return on(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return nP(this._lat,e._lat)||nP(this._long,e._long)}}]),e}(),nU=/^__.*__$/,rU=function(){function e(t,n,r){tn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return on(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new qR(e,this.data,this.fieldMask,t,this.fieldTransforms):new BR(e,this.data,t,this.fieldTransforms)}}]),e}(),iU=function(){function e(t,n,r){tn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return on(e,[{key:"toMutation",value:function(e,t){return new qR(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function aU(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw UI()}}var oU=function(){function e(t,n,r,i,a,o){tn(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Iu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return on(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Au:!1});return r.Ru(e),r}},{key:"Vu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Au:!1});return r.Iu(),r}},{key:"mu",value:function(e){return this.Eu({path:void 0,Au:!0})}},{key:"fu",value:function(e){return TU(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Iu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}},{key:"Ru",value:function(e){if(0===e.length)throw this.fu("Document fields must not be empty");if(aU(this.Tu)&&nU.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}]),e}(),sU=function(){function e(t,n,r){tn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||NL(t)}return on(e,[{key:"yu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new oU({Tu:e,methodName:t,pu:n,path:lP.emptyPath(),Au:!1,gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function uU(e){var t=e._freezeSettings(),n=NL(e._databaseId);return new sU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cU(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.yu(a.merge||a.mergeFields?2:0,t,n,i);_U("Data must be an object, but it was:",o,r);var s,u,c=bU(r,o);if(a.merge)s=new EN(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=kn(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var d=xU(t,l.value,n);if(!o.contains(d))throw new WI(zI.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));CU(h,d)||h.push(d)}}catch(p){f.e(p)}finally{f.f()}s=new EN(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new rU(new iA(c),s,u)}var lU=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Tu)throw 1===e.Tu?e.fu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(eU);function hU(e,t,n){return new oU({Tu:3,pu:t.settings.pu,methodName:e._methodName,Au:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var fU=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"_toFieldTransform",value:function(e){return new AR(e.path,new xR)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(eU),dU=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this,e)).wu=r,i}return on(n,[{key:"_toFieldTransform",value:function(e){var t=hU(this,e,!0),n=this.wu.map((function(e){return kU(e,t)})),r=new SR(n);return new AR(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eU),pU=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this,e)).wu=r,i}return on(n,[{key:"_toFieldTransform",value:function(e){var t=hU(this,e,!0),n=this.wu.map((function(e){return kU(e,t)})),r=new TR(n);return new AR(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eU),vU=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this,e)).Su=r,i}return on(n,[{key:"_toFieldTransform",value:function(e){var t=new IR(e.serializer,gR(e.serializer,this.Su));return new AR(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eU);function mU(e,t,n,r){var i=e.yu(1,t,n);_U("Data must be an object, but it was:",i,r);var a=[],o=iA.empty();yN(r,(function(e,r){var s=EU(t,e,n);r=mm(r);var u=i.Vu(s);if(r instanceof lU)a.push(s);else{var c=kU(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new EN(a);return new iU(o,s,i.fieldTransforms)}function yU(e,t,n,r,i,a){var o=e.yu(1,t,n),s=[xU(t,r,n)],u=[i];if(a.length%2!=0)throw new WI(zI.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(xU(t,a[c])),u.push(a[c+1]);for(var l=[],h=iA.empty(),f=s.length-1;f>=0;--f)if(!CU(l,s[f])){var d=s[f],p=u[f];p=mm(p);var v=o.Vu(d);if(p instanceof lU)l.push(d);else{var m=kU(p,v);null!=m&&(l.push(d),h.set(d,m))}}var y=new EN(l);return new iU(h,y,o.fieldTransforms)}function gU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kU(n,e.yu(r?4:3,t))}function kU(e,t){if(wU(e=mm(e)))return _U("Unsupported field value:",t,e),bU(e,t);if(e instanceof eU)return function(e,t){if(!aU(t.Tu))throw t.fu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Au&&4!==t.Tu)throw t.fu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=kn(e);try{for(a.s();!(n=a.n()).done;){var o=kU(n.value,t.mu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=mm(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gR(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=aP.fromDate(e);return{timestampValue:xD(t.serializer,n)}}if(e instanceof aP){var r=new aP(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xD(t.serializer,r)}}if(e instanceof tU)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof JV)return{bytesValue:SD(t.serializer,e._byteString)};if(e instanceof DV){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:CD(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fu("Unsupported field value: ".concat(TV(e)))}(e,t)}function bU(e,t){var n={};return gN(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yN(e,(function(e,r){var i=kU(r,t.du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function wU(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof aP||e instanceof tU||e instanceof JV||e instanceof DV||e instanceof eU)}function _U(e,t,n){if(!wU(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=TV(n);throw"an object"===r?t.fu(e+" a custom object"):t.fu(e+" "+r)}}function xU(e,t,n){if((t=mm(t))instanceof ZV)return t._internalPath;if("string"==typeof t)return EU(e,t);throw TU("Field path arguments must be of type string or ",e,!1,void 0,n)}var SU=new RegExp("[~\\*/\\[\\]]");function EU(e,t,n){if(t.search(SU)>=0)throw TU("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return dn(ZV,en(t.split(".")))._internalPath}catch(Zh){throw TU("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function TU(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new WI(zI.INVALID_ARGUMENT,s+e+u)}function CU(e,t){return e.some((function(e){return e.isEqual(t)}))}var IU=function(){function e(t,n,r,i,a){tn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return on(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new DV(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new PU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(NU("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),PU=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"data",value:function(){return Wh(cn(n.prototype),"data",this).call(this)}}]),n}(IU);function NU(e,t){return"string"==typeof t?EU(e,t):t instanceof ZV?t._internalPath:t._delegate._internalPath}function AU(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new WI(zI.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var RU=on((function e(){tn(this,e)})),DU=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n)}(RU);function OU(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof RU&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof LU})).length,n=e.filter((function(e){return e instanceof jU})).length;if(t>1||t>0&&n>0)throw new WI(zI.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=kn(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var jU=function(e){un(n,e);var t=fn(n);function n(e,r,i){var a;return tn(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return on(n,[{key:"_apply",value:function(e){var t=this._parse(e);return YU(e._query,t),new RV(e.firestore,e.converter,GA(e._query,t))}},{key:"_parse",value:function(e){var t=uU(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new WI(zI.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){QU(o,a);var u,c=[],l=kn(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push(GU(r,e,h))}}catch(f){l.e(f)}finally{l.f()}s={arrayValue:{values:c}}}else s=GU(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||QU(o,a),s=gU(n,t,o,"in"===a||"not-in"===a);return dA.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(DU);var LU=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return on(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:pA.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=kn(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;YU(r,a),r=GA(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new RV(e.firestore,e.converter,GA(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(RU);var MU=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return on(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new WI(zI.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new WI(zI.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lA(t,n)}(e._query,this._field,this._direction);return new RV(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new VA(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(DU);function FU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=NU("orderBy",e);return MU._create(n,t)}var VU=function(e){un(n,e);var t=fn(n);function n(e,r,i){var a;return tn(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return on(n,[{key:"_apply",value:function(e){return new RV(e.firestore,e.converter,QA(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(DU);var UU=function(e){un(n,e);var t=fn(n);function n(e,r,i){var a;return tn(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return on(n,[{key:"_apply",value:function(e){var t=HU(e,this.type,this._docOrFields,this._inclusive);return new RV(e.firestore,e.converter,function(e,t){return new VA(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(DU);function BU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return UU._create("startAt",t,!0)}function qU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return UU._create("startAfter",t,!1)}var zU=function(e){un(n,e);var t=fn(n);function n(e,r,i){var a;return tn(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return on(n,[{key:"_apply",value:function(e){var t=HU(e,this.type,this._docOrFields,this._inclusive);return new RV(e.firestore,e.converter,function(e,t){return new VA(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(DU);function WU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zU._create("endBefore",t,!1)}function KU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zU._create("endAt",t,!0)}function HU(e,t,n,r){if(n[0]=mm(n[0]),n[0]instanceof IU)return function(e,t,n,r,i){if(!r)throw new WI(zI.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=kn(WA(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(HN(t,r.key));else{var c=r.data.field(u.field);if(RN(c))throw new WI(zI.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new WI(zI.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(h){s.e(h)}finally{s.f()}return new sA(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=uU(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new WI(zI.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new WI(zI.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!zA(e)&&-1!==c.indexOf("/"))throw new WI(zI.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(uP.fromString(c));if(!hP.isDocumentKey(l))throw new WI(zI.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var h=new hP(l);s.push(HN(t,h))}else{var f=gU(n,r,c);s.push(f)}}return new sA(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function GU(e,t,n){if("string"==typeof(n=mm(n))){if(""===n)throw new WI(zI.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zA(t)&&-1!==n.indexOf("/"))throw new WI(zI.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(uP.fromString(n));if(!hP.isDocumentKey(r))throw new WI(zI.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return HN(e,new hP(r))}if(n instanceof DV)return HN(e,n._key);throw new WI(zI.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(TV(n),"."))}function QU(e,t){if(!Array.isArray(e)||0===e.length)throw new WI(zI.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function YU(e,t){var n=function(e,t){var n,r=kn(e);try{for(r.s();!(n=r.n()).done;){var i,a=kn(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new WI(zI.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new WI(zI.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var $U=function(){function e(){tn(this,e)}return on(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(VN(e)){case 0:return null;case 1:return e.booleanValue;case 2:return NN(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(AN(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw UI()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return yN(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new tU(NN(e.latitude),NN(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=DN(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ON(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=PN(e);return new aP(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=uP.fromString(e);BI(XD(n));var r=new LN(n.get(1),n.get(3)),i=new hP(n.popFirst(5));return r.isEqual(t)||MI("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function XU(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var JU=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this)).firestore=e,r}return on(n,[{key:"convertBytes",value:function(e){return new JV(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new DV(this.firestore,null,t)}}]),n}($U);var ZU=function(){function e(t,n){tn(this,e),this.hasPendingWrites=t,this.fromCache=n}return on(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),eB=function(e){un(n,e);var t=fn(n);function n(e,r,i,a,o,s){var u;return tn(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return on(n,[{key:"exists",value:function(){return Wh(cn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new tB(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(NU("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(IU),tB=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Wh(cn(n.prototype),"data",this).call(this,e)}}]),n}(eB),nB=function(){function e(t,n,r,i){tn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ZU(i.hasPendingWrites,i.fromCache),this.query=r}return on(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new tB(n._firestore,n._userDataWriter,r.key,r,new ZU(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new WI(zI.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new tB(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ZU(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new tB(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ZU(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:rB(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function rB(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return UI()}}function iB(e,t){return e instanceof eB&&t instanceof eB?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof nB&&t instanceof nB&&e._firestore===t._firestore&&FV(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var aB=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this)).firestore=e,r}return on(n,[{key:"convertBytes",value:function(e){return new JV(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new DV(this.firestore,null,t)}}]),n}($U);function oB(e){e=CV(e,DV);var t=CV(e.firestore,qV),n=zV(t),r=new aB(t);return function(e,t){var n=new KI;return e.asyncQueue.enqueueAndForget(yv(vv().mark((function r(){return vv().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=yv(vv().mark((function e(t,n,r){var i,a;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=qI(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new WI(zI.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=TM(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,fV(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new eB(t,r,e._key,n,new ZU(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function sB(e){e=CV(e,RV);var t=CV(e.firestore,qV),n=zV(t),r=new aB(t);return AU(e._query),kV(n,e._query).then((function(n){return new nB(t,r,e,n)}))}function uB(e){e=CV(e,RV);var t=CV(e.firestore,qV),n=zV(t),r=new aB(t);return function(e,t){var n=new KI;return e.asyncQueue.enqueueAndForget(yv(vv().mark((function r(){return vv().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=yv(vv().mark((function e(t,n,r){var i,a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nL(t,n,!0);case 3:i=e.sent,a=new HM(n,i.hs),o=a.la(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=TM(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,fV(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new nB(t,r,e,n)}))}function cB(e){e=CV(e,RV);var t=CV(e.firestore,qV),n=zV(t),r=new aB(t);return kV(n,e._query,{source:"server"}).then((function(n){return new nB(t,r,e,n)}))}function lB(e,t,n){e=CV(e,DV);var r=CV(e.firestore,qV),i=XU(e.converter,t,n);return mB(r,[cU(uU(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,DR.none())])}function hB(e,t,n){e=CV(e,DV);for(var r=CV(e.firestore,qV),i=uU(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return mB(r,[("string"==typeof(t=mm(t))||t instanceof ZV?yU(i,"updateDoc",e._key,t,n,o):mU(i,"updateDoc",e._key,t)).toMutation(e._key,DR.exists(!0))])}function fB(e){return mB(CV(e.firestore,qV),[new QR(e._key,DR.none())])}function dB(e,t){var n=CV(e.firestore,qV),r=LV(e),i=XU(e.converter,t);return mB(n,[cU(uU(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,DR.exists(!1))]).then((function(){return r}))}function pB(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=mm(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||UV(n[u])||(s=n[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(UV(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof DV)l=CV(e.firestore,qV),h=BA(e._key.path),c={next:function(t){n[u]&&n[u](yB(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=CV(e,RV);l=CV(p.firestore,qV),h=p._query;var v=new aB(l);c={next:function(e){n[u]&&n[u](new nB(l,v,p,e))},error:n[u+1],complete:n[u+2]},AU(e._query)}return function(e,t,n,r){var i=new XF(r),a=new VM(t,i,n);return e.asyncQueue.enqueueAndForget(yv(vv().mark((function t(){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=RM,t.next=3,mV(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ba(),e.asyncQueue.enqueueAndForget(yv(vv().mark((function t(){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=OM,t.next=3,mV(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zV(l),h,f,c)}function vB(e,t){return function(e,t){var n=new XF(t);return e.asyncQueue.enqueueAndForget(yv(vv().mark((function t(){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){qI(e).Q_.add(t),t.next()},t.next=3,mV(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ba(),e.asyncQueue.enqueueAndForget(yv(vv().mark((function t(){return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){qI(e).Q_.delete(t)},t.next=3,mV(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zV(e=CV(e,qV)),UV(t)?t:{next:t})}function mB(e,t){return function(e,t){var n=new KI;return e.asyncQueue.enqueueAndForget(yv(vv().mark((function r(){return vv().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=nF,r.next=3,pV(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(zV(e),t)}function yB(e,t,n){var r=n.docs.get(t._key),i=new aB(e);return new eB(e,i,t._key,r,new ZU(n.hasPendingWrites,n.fromCache),t.converter)}var gB={maxAttempts:5},kB=function(){function e(t,n){tn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=uU(t)}return on(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=bB(e,this._firestore),i=XU(r.converter,t,n),a=cU(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,DR.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=bB(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=mm(t))||t instanceof ZV?yU(this._dataReader,"WriteBatch.update",i._key,t,n,o):mU(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,DR.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=bB(e,this._firestore);return this._mutations=this._mutations.concat(new QR(t._key,DR.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new WI(zI.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function bB(e,t){if((e=mm(e)).firestore!==t)throw new WI(zI.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var wB=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this,e,r))._firestore=e,i}return on(n,[{key:"get",value:function(e){var t=this,r=bB(e,this._firestore),i=new aB(this._firestore);return Wh(cn(n.prototype),"get",this).call(this,e).then((function(e){return new eB(t._firestore,i,r._key,e._document,new ZU(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){tn(this,e),this._firestore=t,this._transaction=n,this._dataReader=uU(t)}return on(e,[{key:"get",value:function(e){var t=this,n=bB(e,this._firestore),r=new JU(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return UI();var i=e[0];if(i.isFoundDocument())return new IU(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new IU(t._firestore,r,n._key,null,n.converter);throw UI()}))}},{key:"set",value:function(e,t,n){var r=bB(e,this._firestore),i=XU(r.converter,t,n),a=cU(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=bB(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=mm(t))||t instanceof ZV?yU(this._dataReader,"Transaction.update",i._key,t,n,o):mU(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=bB(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function _B(e,t,n){e=CV(e,qV);var r=Object.assign(Object.assign({},gB),n);return function(e){if(e.maxAttempts<1)throw new WI(zI.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new KI;return e.asyncQueue.enqueueAndForget(yv(vv().mark((function i(){var a;return vv().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,vV(e);case 2:a=i.sent,new eV(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(zV(e),(function(n){return t(new wB(e,n))}),r)}function xB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dU("arrayUnion",t)}function SB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pU("arrayRemove",t)}var EB;new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){DI=e}(fy),ay(new ym("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new qV(new YI(e.getProvider("auth-internal")),new ZI(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new WI(zI.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new LN(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),gy(AI,"4.3.0",e),gy(AI,"4.3.0","esm2017")}();var TB=function(){function e(t,n){var r=this;tn(this,e),this._delegate=t,this.firebase=n,ry(t,new ym("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return on(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),my(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zm;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zm;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ry(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){iy(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),CB=(Qr(EB={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Qr(EB,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),EB),IB=new Gv("app-compat","Firebase",CB);var PB=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=dy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Jv(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:gy,setLogLevel:by,onLog:ky,apps:null,SDK_VERSION:fy,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ay(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw IB.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Pv(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Jv(n,e=e||Zm))throw IB.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(TB);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Pv(n,e)},createSubscribe:um,ErrorFactory:Gv,deepExtend:Pv}),n}(),NB=new Pm("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){NB.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var AB=self.firebase.SDK_VERSION;AB&&AB.indexOf("LITE")>=0&&NB.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var RB=PB;!function(e){gy("@firebase/app-compat","0.2.20",e)}();function DB(){return window}RB.registerVersion("firebase","10.5.0","app-compat");var OB=2e3;function jB(e,t,n){return LB.apply(this,arguments)}function LB(){return(LB=yv(vv().mark((function e(t,n,r){var i,a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=DB(),o=a.BuildInfo,ug(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,qB(n.sessionId);case 4:return s=e.sent,u={},vk()?u.ibi=o.packageName:fk()?u.apn=o.packageName:tg(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Wx(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MB(){return(MB=yv(vv().mark((function e(t){var n,r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=DB(),r=n.BuildInfo,i={},vk()?i.iosBundleId=r.packageName:fk()?i.androidPackageName=r.packageName:tg(t,"operation-not-supported-in-this-environment"),e.next=5,bx(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FB(e){var t=DB().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function VB(e,t,n){return UB.apply(this,arguments)}function UB(){return(UB=yv(vv().mark((function e(t,n,r){var i,a,o;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=DB(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(ng(t,"redirect-cancelled-by-user"))}),OB))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),fk()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function BB(e){var t,n,r,i,a,o,s,u,c,l,h=DB();og("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),og("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),og("function"===typeof(null===(a=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),og("function"===typeof(null===(u=null===(s=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),og("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function qB(e){return zB.apply(this,arguments)}function zB(){return(zB=yv(vv().mark((function e(t){var n,r,i;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=WB(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WB(e){if(ug(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var KB=20,HB=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return on(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Wh(cn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(yx);function GB(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:JB(),postBody:null,tenantId:e.tenantId,error:ng(e,"no-auth-event")}}function QB(e,t){return ZB()._set(eq(e),t)}function YB(e){return $B.apply(this,arguments)}function $B(){return($B=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZB()._get(eq(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,ZB()._remove(eq(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XB(e,t){var n,r,i=function(e){var t=tq(e),n=t.link?decodeURIComponent(t.link):void 0,r=tq(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return tq(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=tq(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?ng(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function JB(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<KB;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function ZB(){return nk(Uw)}function eq(e){return ak("authEvent",e.config.apiKey,e.name)}function tq(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=gn(e.split("?"));t[0];return am(t.slice(1).join("?"))}var nq=function(){function e(){tn(this,e),this._redirectPersistence=qw,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=dx,this._overrideRedirectResult=nx}return on(e,[{key:"_initialize",value:function(){var e=yv(vv().mark((function e(t){var n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new HB(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){tg(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=yv(vv().mark((function e(t,n,r,i){var a,o,s,u;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BB(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),$_.clear(),e.next=10,this._originValidation(t);case 10:return o=GB(t,r,i),e.next=13,QB(t,o);case 13:return e.next=15,jB(t,o,n);case 15:return s=e.sent,e.next=18,FB(s);case 18:return u=e.sent,e.abrupt("return",VB(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return MB.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=DB(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(yv(vv().mark((function n(){return vv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,YB(e);case 2:t.onEvent(iq());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=yv(vv().mark((function n(r){var i,a;return vv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,YB(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=XB(i,r.url)),t.onEvent(a||iq());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");DB().handleOpenURL=function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),rq=nq;function iq(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ng("no-auth-event")}}var aq=1e3;function oq(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function sq(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv();return!("file:"!==oq()&&"ionic:"!==oq()&&"capacitor:"!==oq()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function uq(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv();return zv()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv();return/Edge\/\d+/.test(e)}(e)}function cq(){try{var e=self.localStorage,t=Kw();if(e)return e.setItem(t,"1"),e.removeItem(t),!uq()||Kv()}catch(n){return lq()&&Kv()}return!1}function lq(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function hq(){return("http:"===oq()||"https:"===oq()||Bv()||sq())&&!(qv()||Uv())&&cq()&&!lq()}function fq(){return sq()&&"undefined"!==typeof document}function dq(){return pq.apply(this,arguments)}function pq(){return(pq=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fq()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),aq);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vq={LOCAL:"local",NONE:"none",SESSION:"session"},mq=og,yq="persistence";function gq(e,t){mq(Object.values(vq).includes(t),e,"invalid-persistence-type"),qv()?mq(t!==vq.SESSION,e,"unsupported-persistence-type"):Uv()?mq(t===vq.NONE,e,"unsupported-persistence-type"):lq()?mq(t===vq.NONE||t===vq.LOCAL&&Kv(),e,"unsupported-persistence-type"):mq(t===vq.NONE||cq(),e,"unsupported-persistence-type")}function kq(e){return bq.apply(this,arguments)}function bq(){return bq=yv(vv().mark((function e(t){var n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=wq(),r=ak(yq,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),bq.apply(this,arguments)}function wq(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var _q=og,xq=function(){function e(){tn(this,e),this.browserResolver=nk(Yx),this.cordovaResolver=nk(rq),this.underlyingResolver=null,this._redirectPersistence=qw,this._completeRedirectFn=dx,this._overrideRedirectResult=nx}return on(e,[{key:"_initialize",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=yv(vv().mark((function e(t,n,r,i){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=yv(vv().mark((function e(t,n,r,i){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return fq()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return _q(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,dq();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Sq(e){return e.unwrap()}function Eq(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Nq(e,function(e,t){var n,r=mm(e),i=t;return og(t.customData.operationType,r,"argument-error"),og(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Rw._fromError(r,i)}(e,t));else if(r){var i=Tq(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Tq(e){var t=(e instanceof Hv?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Hv)&&"temporaryProof"in t&&"phoneNumber"in t)return O_.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Fy.PASSWORD)return null;switch(r){case Fy.GOOGLE:n=kb;break;case Fy.FACEBOOK:n=gb;break;case Fy.GITHUB:n=bb;break;case Fy.TWITTER:n=xb;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?wb._create(r,s):ab._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new yb(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Hv?n.credentialFromError(e):n.credentialFromResult(e)}function Cq(e,t){return t.catch((function(t){throw t instanceof Hv&&Eq(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Tq(t)),additionalUserInfo:Nw(e),user:Aq.getOrCreate(r)}}))}function Iq(e,t){return Pq.apply(this,arguments)}function Pq(){return(Pq=yv(vv().mark((function e(t,n){var r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Cq(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nq=function(){function e(t,n){tn(this,e),this.resolver=n,this.auth=t.wrapped()}return on(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Cq(Sq(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Aq=function(){function e(t){tn(this,e),this._delegate=t,this.multiFactor=function(e){var t=mm(e);return Lw.has(t)||Lw.set(t,jw._fromUser(t)),Lw.get(t)}(t)}return on(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cq(this.auth,Wb(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iq(this.auth,I_(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cq(this.auth,H_(this._delegate,t,xq)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kq(xk(this.auth));case 2:return e.abrupt("return",cx(this._delegate,t,xq));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cq(this.auth,Hb(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Iq(this.auth,function(e,t,n){return N_.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Cq(this.auth,function(e,t,n){return K_.apply(this,arguments)}(this._delegate,e,xq))}},{key:"reauthenticateWithRedirect",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kq(xk(this.auth));case 2:return e.abrupt("return",sx(this._delegate,t,xq));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return yw.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rb(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return _w(mm(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return _w(mm(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return D_.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ww.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return gw.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Aq.USER_MAP=new WeakMap;var Rq=og,Dq=function(){function e(t,n){if(tn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Rq(r,"invalid-api-key",{appName:t.name}),Rq(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?xq:void 0;this._delegate=n.initialize({options:{persistence:jq(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Yy),this.linkUnderlyingAuth()}return on(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Aq.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Nk(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return aw.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ow(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return iw.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=yv(vv().mark((function e(t,n){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cq(this._delegate,cw(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return mw.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=db.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rq(hq(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,hx(this._delegate,xq);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Cq(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){xk(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Oq(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Oq(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return fw.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return rw.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=yv(vv().mark((function e(t){var n,r;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gq(this._delegate,t),e.t0=t,e.next=e.t0===vq.SESSION?4:e.t0===vq.LOCAL?6:e.t0===vq.NONE?11:13;break;case 4:return n=qw,e.abrupt("break",14);case 6:return e.next=8,nk(f_)._isAvailable();case 8:return r=e.sent,n=r?f_:Uw,e.abrupt("break",14);case 11:return n=ik,e.abrupt("break",14);case 13:return e.abrupt("return",tg("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Cq(this._delegate,function(e){return Ib.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Cq(this._delegate,qb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Cq(this._delegate,function(e,t){return $b.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Cq(this._delegate,hw(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Cq(this._delegate,function(e,t,n){return dw.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Iq(this._delegate,function(e,t,n){return C_.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rq(hq(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Cq(this._delegate,z_(this._delegate,t,xq)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rq(hq(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,kq(this._delegate);case 3:return e.abrupt("return",ax(this._delegate,t,xq));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return uw.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Oq(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Aq.getOrCreate(e))},error:t,complete:n}}function jq(e,t){var n=function(e,t){var n=wq();if(!n)return[];var r=ak(yq,e,t);switch(n.getItem(r)){case vq.NONE:return[ik];case vq.LOCAL:return[f_,qw];case vq.SESSION:return[qw];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(f_)||n.push(f_),"undefined"!==typeof window)for(var r=0,i=[Uw,qw];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ik)||n.push(ik),n}Dq.Persistence=vq;var Lq=function(){function e(){tn(this,e),this.providerId="phone",this._delegate=new O_(Sq(RB.auth()))}return on(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return O_.credential(e,t)}}]),e}();Lq.PHONE_SIGN_IN_METHOD=O_.PHONE_SIGN_IN_METHOD,Lq.PROVIDER_ID=O_.PROVIDER_ID;var Mq,Fq=og,Vq=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RB.app();tn(this,e),Fq(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new S_(i.auth(),t,n),this.type=this._delegate.type}return on(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Mq=RB).INTERNAL.registerComponent(new ym("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Dq(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vy,PASSWORD_RESET:Uy,RECOVER_EMAIL:By,REVERT_SECOND_FACTOR_ADDITION:qy,VERIFY_AND_CHANGE_EMAIL:zy,VERIFY_EMAIL:Wy}},EmailAuthProvider:pb,FacebookAuthProvider:gb,GithubAuthProvider:bb,GoogleAuthProvider:kb,OAuthProvider:yb,SAMLAuthProvider:_b,PhoneAuthProvider:Lq,PhoneMultiFactorGenerator:Jx,RecaptchaVerifier:Vq,TwitterAuthProvider:xb,Auth:Dq,AuthCredential:Dk,Error:Hv}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Mq.registerVersion("@firebase/auth-compat","0.4.6");function Uq(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new WI("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Bq(){if("undefined"===typeof Uint8Array)throw new WI("unimplemented","Uint8Arrays are not available in this environment.")}function qq(){if("undefined"==typeof atob)throw new WI("unimplemented","Blobs are unavailable in Firestore in this environment.")}var zq=function(){function e(t){tn(this,e),this._delegate=t}return on(e,[{key:"toBase64",value:function(){return qq(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Bq(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return qq(),new e(JV.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Bq(),new e(JV.fromUint8Array(t))}}]),e}();function Wq(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=kn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Kq=function(){function e(){tn(this,e)}return on(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){XV(e=CV(e,qV));var n=zV(e);if(n._uninitializedComponentsProvider)throw new WI(zI.FAILED_PRECONDITION,"SDK cache is already specified.");FI("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new YF;return KV(n,i,new GF(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){XV(e=CV(e,qV));var t=zV(e);if(t._uninitializedComponentsProvider)throw new WI(zI.FAILED_PRECONDITION,"SDK cache is already specified.");FI("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new YF;return KV(t,r,new QF(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new WI(zI.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new KI;return e._queue.enqueueAndForgetEvenWhileRestricted(yv(vv().mark((function n(){return vv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=yv(vv().mark((function e(t){var n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(CP.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,CP.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Uj(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Hq=function(){function e(t,n,r){var i=this;tn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof LN||(this._appCompat=t)}return on(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||FI("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};AV(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return GV(this._delegate)}},{key:"disableNetwork",value:function(){return QV(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&xV("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return HV(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return vB(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new WI("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new oz(this,jV(this._delegate,e))}catch(t){throw Jq(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Xq(this,LV(this._delegate,e))}catch(t){throw Jq(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new rz(this,function(e,t){if(e=CV(e,NV),_V("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new WI(zI.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new RV(e,null,function(e){return new VA(uP.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Jq(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return _B(this._delegate,(function(n){return e(new Qq(t,n))}))}},{key:"batch",value:function(){var e=this;return zV(this._delegate),new Yq(new kB(this._delegate,(function(t){return mB(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return YV(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return $V(this._delegate,e).then((function(e){return e?new rz(t,e):null}))}}]),e}(),Gq=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this)).firestore=e,r}return on(n,[{key:"convertBytes",value:function(e){return new zq(new JV(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Xq.forKey(t,this.firestore,null)}}]),n}($U);var Qq=function(){function e(t,n){tn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Gq(t)}return on(e,[{key:"get",value:function(e){var t=this,n=sz(e);return this._delegate.get(n).then((function(e){return new tz(t._firestore,new eB(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=sz(e);return n?(Uq("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=sz(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=sz(e);return this._delegate.delete(t),this}}]),e}(),Yq=function(){function e(t){tn(this,e),this._delegate=t}return on(e,[{key:"set",value:function(e,t,n){var r=sz(e);return n?(Uq("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=sz(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=sz(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),$q=function(){function e(t,n,r){tn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return on(e,[{key:"fromFirestore",value:function(e,t){var n=new tB(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new nz(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Gq(t),n),i.set(n,a)),a}}]),e}();$q.INSTANCES=new WeakMap;var Xq=function(){function e(t,n){tn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Gq(t)}return on(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new oz(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new oz(this.firestore,jV(this._delegate,e))}catch(t){throw Jq(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=mm(e))instanceof DV&&MV(this._delegate,e)}},{key:"set",value:function(e,t){t=Uq("DocumentReference.set",t);try{return t?lB(this._delegate,e,t):lB(this._delegate,e)}catch(n){throw Jq(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?hB(this._delegate,e):hB.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Jq(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return fB(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Zq(n),a=ez(n,(function(t){return new tz(e.firestore,new eB(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return pB(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?oB(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CV(e,DV);var t=CV(e.firestore,qV);return gV(zV(t),e._key,{source:"server"}).then((function(n){return yB(t,e,n)}))}(this._delegate):function(e){e=CV(e,DV);var t=CV(e.firestore,qV);return gV(zV(t),e._key).then((function(n){return yB(t,e,n)}))}(this._delegate),t.then((function(e){return new tz(n.firestore,new eB(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($q.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new WI("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new DV(n._delegate,r,new hP(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new DV(n._delegate,r,t))}}]),e}();function Jq(e,t,n){return e.message=e.message.replace(t,n),e}function Zq(e){var t,n=kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Wq(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function ez(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Wq(e[0])?e[0]:Wq(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var tz=function(){function e(t,n){tn(this,e),this._firestore=t,this._delegate=n}return on(e,[{key:"ref",get:function(){return new Xq(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return iB(this._delegate,e._delegate)}}]),e}(),nz=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||UI()}(void 0!==t),t}}]),n}(tz),rz=function(){function e(t,n){tn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Gq(t)}return on(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,OU(this._delegate,function(e,t,n){var r=t,i=NU("where",e);return jU._create(i,r,n)}(t,n,r)))}catch(i){throw Jq(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,OU(this._delegate,FU(t,n)))}catch(r){throw Jq(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,OU(this._delegate,function(e){return IV("limit",e),VU._create("limit",e,"F")}(t)))}catch(n){throw Jq(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,OU(this._delegate,function(e){return IV("limitToLast",e),VU._create("limitToLast",e,"L")}(t)))}catch(n){throw Jq(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,OU(this._delegate,BU.apply(void 0,arguments)))}catch(t){throw Jq(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,OU(this._delegate,qU.apply(void 0,arguments)))}catch(t){throw Jq(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,OU(this._delegate,WU.apply(void 0,arguments)))}catch(t){throw Jq(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,OU(this._delegate,KU.apply(void 0,arguments)))}catch(t){throw Jq(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return FV(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?uB(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?cB(this._delegate):sB(this._delegate)).then((function(e){return new az(t.firestore,new nB(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Zq(n),a=ez(n,(function(t){return new az(e.firestore,new nB(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return pB(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($q.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),iz=function(){function e(t,n){tn(this,e),this._firestore=t,this._delegate=n}return on(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new nz(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),az=function(){function e(t,n){tn(this,e),this._firestore=t,this._delegate=n}return on(e,[{key:"query",get:function(){return new rz(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new nz(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new iz(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new nz(n._firestore,r))}))}},{key:"isEqual",value:function(e){return iB(this._delegate,e._delegate)}}]),e}(),oz=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return on(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Xq(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Xq(this.firestore,void 0===e?LV(this._delegate):LV(this._delegate,e))}catch(t){throw Jq(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return dB(this._delegate,e).then((function(e){return new Xq(t.firestore,e)}))}},{key:"isEqual",value:function(e){return MV(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter($q.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(rz);function sz(e){return CV(e,DV)}var uz=function(){function e(){tn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=dn(ZV,n)}return on(e,[{key:"isEqual",value:function(e){return(e=mm(e))instanceof ZV&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(lP.keyField().canonicalString())}}]),e}(),cz=function(){function e(t){tn(this,e),this._delegate=t}return on(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new fU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new lU("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=xB.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=SB.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new vU("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),lz={Firestore:Hq,GeoPoint:tU,Timestamp:aP,Blob:zq,Transaction:Qq,WriteBatch:Yq,DocumentReference:Xq,DocumentSnapshot:tz,Query:rz,QueryDocumentSnapshot:nz,QuerySnapshot:az,CollectionReference:oz,FieldPath:uz,FieldValue:cz,setLogLevel:function(e){!function(e){OI.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ym("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},lz)))}(e,(function(e,t){return new Hq(e,t,new Kq)})),e.registerVersion("@firebase/firestore-compat","0.3.19")}(RB);var hz="@firebase/database",fz="1.0.1",dz="";function pz(e){dz=e}var vz=function(){function e(t){tn(this,e),this.domStorage_=t,this.prefix_="firebase:"}return on(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$v(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Yv(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),mz=function(){function e(){tn(this,e),this.cache_={},this.isInMemoryStorage=!0}return on(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Jv(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),yz=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new vz(t)}}catch(n){}return new mz},gz=yz("localStorage"),kz=yz("sessionStorage"),bz=new Pm("@firebase/database"),wz=function(){var e=1;return function(){return e++}}(),_z=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,wv(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new sm;n.update(t);var r=n.digest();return Sv.encodeByteArray(r)},xz=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?$v(r):r,t+=" "}return t},Sz=null,Ez=!0,Tz=function(e,t){wv(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(bz.logLevel=_m.VERBOSE,Sz=bz.log.bind(bz),t&&kz.set("logging_enabled",!0)):"function"===typeof e?Sz=e:(Sz=null,kz.remove("logging_enabled"))},Cz=function(){if(!0===Ez&&(Ez=!1,null===Sz&&!0===kz.get("logging_enabled")&&Tz(!0)),Sz){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=xz.apply(null,t);Sz(r)}},Iz=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Cz.apply(void 0,[e].concat(n))}},Pz=function(){var e="FIREBASE INTERNAL ERROR: "+xz.apply(void 0,arguments);bz.error(e)},Nz=function(){var e="FIREBASE FATAL ERROR: ".concat(xz.apply(void 0,arguments));throw bz.error(e),new Error(e)},Az=function(){var e="FIREBASE WARNING: "+xz.apply(void 0,arguments);bz.warn(e)},Rz=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Dz="[MIN_NAME]",Oz="[MAX_NAME]",jz=function(e,t){if(e===t)return 0;if(e===Dz||t===Oz)return-1;if(t===Dz||e===Oz)return 1;var n=zz(e),r=zz(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Lz=function(e,t){return e===t?0:e<t?-1:1},Mz=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+$v(t))},Fz=function e(t){if("object"!==typeof t||null===t)return $v(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=$v(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Vz=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Uz(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Bz=function(e){wv(!Rz(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var qz=new RegExp("^-?(0*)\\d{1,10}$"),zz=function(e){if(qz.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Wz=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Az("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Kz=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Hz=function(){function e(t,n){var r=this;tn(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return on(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Az('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Gz=function(){function e(t,n,r){var i=this;tn(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return on(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Cz("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Az(e)}}]),e}(),Qz=function(){function e(t){tn(this,e),this.accessToken=t}return on(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Qz.OWNER="owner";var Yz="5",$z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Xz="ac",Jz="websocket",Zz="long_polling",eW=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];tn(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gz.get("host:"+t)||this._host}return on(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gz.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function tW(e,t,n){var r;if(wv("string"===typeof t,"typeof type must == string"),wv("object"===typeof n,"typeof params must == object"),t===Jz)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Zz)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Uz(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var nW=function(){function e(){tn(this,e),this.counters_={}}return on(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Jv(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Pv(void 0,this.counters_)}}]),e}(),rW={},iW={};function aW(e){var t=e.toString();return rW[t]||(rW[t]=new nW),rW[t]}var oW=function(){function e(t){tn(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return on(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Wz((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),1;n.currentResponseNum++};this.pendingResponses[this.currentResponseNum]&&!r(););}}]),e}(),sW="start",uW=function(){function e(t,n,r,i,a,o,s){var u=this;tn(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Iz(t),this.stats_=aW(n),this.urlFn=function(e){return u.appCheckToken&&(e[Xz]=u.appCheckToken),tW(n,Zz,e)}}return on(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new oW(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Wv()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new cW((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===sW)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[sW]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Yz,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Xz]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&$z.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=$v(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Tv(t),r=Vz(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Wv()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=$v(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Wv()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),cW=function(){function e(t,n,r,i){if(tn(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Wv())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=wz(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Cz("frame writing exception"),s.stack&&Cz(s.stack),Cz(s)}}}return on(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Wv()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Cz("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Cz("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),lW=null;"undefined"!==typeof MozWebSocket?lW=MozWebSocket:"undefined"!==typeof WebSocket&&(lW=WebSocket);var hW=function(){function e(t,n,r,i,a,o,s){tn(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Iz(this.connId),this.stats_=aW(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return on(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gz.set("previous_websocket_failure",!0);try{var r;if(Wv()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Yz,"/").concat(dz,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new lW(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){gz.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Yv(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(wv(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=$v(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Vz(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Yz,!Wv()&&"undefined"!==typeof location&&location.hostname&&$z.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[Xz]=r),i&&(a.p=i),tW(e,Jz,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==lW&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return gz.isInMemoryStorage||!0===gz.get("previous_websocket_failure")}}]),e}();hW.responsesRequiredToBeHealthy=2,hW.healthyTimeout=3e4;var fW=function(){function e(t){tn(this,e),this.initTransports_(t)}return on(e,[{key:"initTransports_",value:function(t){var n=hW&&hW.isAvailable(),r=n&&!hW.previouslyFailed();if(t.webSocketOnly&&(n||Az("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[hW];else{var i,a=this.transports_=[],o=kn(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[uW,hW]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();fW.globalTransportInitialized_=!1;var dW=function(){function e(t,n,r,i,a,o,s,u,c,l){tn(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Iz("c:"+this.id+":"),this.transportManager_=new fW(n),this.log_("Connection created"),this.start_()}return on(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Kz((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Mz("t",e),n=Mz("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Mz("t",e),n=Mz("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Mz("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Pz("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pz("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Yz!==n&&Az("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Kz((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kz((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gz.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),pW=function(){function e(){tn(this,e)}return on(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),vW=function(){function e(t){tn(this,e),this.allowedEvents_=t,this.listeners_={},wv(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return on(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=en(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){wv(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),mW=function(e){un(n,e);var t=fn(n);function n(){var e;return tn(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Vv()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return on(n,[{key:"getInitialEvent",value:function(e){return wv("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(vW),yW=32,gW=768,kW=function(){function e(t,n){if(tn(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return on(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function bW(){return new kW("")}function wW(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function _W(e){return e.pieces_.length-e.pieceNum_}function xW(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new kW(e.pieces_,t)}function SW(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function EW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function TW(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new kW(t,0)}function CW(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof kW)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new kW(n,0)}function IW(e){return e.pieceNum_>=e.pieces_.length}function PW(e,t){var n=wW(e),r=wW(t);if(null===n)return t;if(n===r)return PW(xW(e),xW(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function NW(e,t){for(var n=EW(e,0),r=EW(t,0),i=0;i<n.length&&i<r.length;i++){var a=jz(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function AW(e,t){if(_W(e)!==_W(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function RW(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(_W(e)>_W(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var DW=on((function e(t,n){tn(this,e),this.errorPrefix_=n,this.parts_=EW(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=vm(this.parts_[r]);OW(this)}));function OW(e){if(e.byteLength_>gW)throw new Error(e.errorPrefix_+"has a key path longer than "+gW+" bytes ("+e.byteLength_+").");if(e.parts_.length>yW)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yW+") or object contains a cycle "+jW(e))}function jW(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var LW=function(e){un(n,e);var t=fn(n);function n(){var e,r,i;return tn(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return on(n,[{key:"getInitialEvent",value:function(e){return wv("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(vW),MW=1e3,FW=function(e){un(n,e);var t=fn(n);function n(e,r,i,a,o,s,u,c){var l;if(tn(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Iz("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=MW,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Wv())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return LW.getInstance().on("visible",l.onVisible_,hn(l)),-1===e.host.indexOf("fblocal")&&mW.getInstance().on("online",l.onOnline_,hn(l)),l}return on(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_($v(i)),wv(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Lv,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),wv(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),wv(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Xv(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Xv(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),wv(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+$v(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Pz("Unrecognized action received from server: "+$v(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;wv(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=MW,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=MW,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=MW),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=yv(vv().mark((function e(){var t,r,i,a,o,s,u,c,l,h,f,d,p,v,m=this;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},l=function(e){wv(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:l},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:f=e.sent,d=yn(f,2),p=d[0],v=d[1],s?Cz("getToken() completed but was canceled"):(Cz("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new dW(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Az(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Az(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Cz("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Cz("Resuming connection for reason: "+e),delete this.interruptReasons_[e],em(this.interruptReasons_)&&(this.reconnectDelay_=MW,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Fz(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new kW(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Cz("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Cz("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=kn(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=kn(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Wv()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+dz.replace(/\./g,"-")]=1,Vv()?e["framework.cordova"]=1:qv()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=mW.getInstance().currentlyOnline();return em(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Jv(e,"w")){var n=Zv(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Az("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(pW);FW.nextPersistentConnectionId_=0,FW.nextConnectionId_=0;var VW,UW=function(){function e(t,n){tn(this,e),this.name=t,this.node=n}return on(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),BW=function(){function e(){tn(this,e)}return on(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new UW(Dz,e),r=new UW(Dz,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return UW.MIN}}]),e}(),qW=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"compare",value:function(e,t){return jz(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw _v("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return UW.MIN}},{key:"maxPost",value:function(){return new UW(Oz,VW)}},{key:"makePost",value:function(e,t){return wv("string"===typeof e,"KeyIndex indexValue must always be a string."),new UW(e,VW)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return VW},set:function(e){VW=e}}]),n}(BW),zW=new qW,WW=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;tn(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return on(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),KW=function(){function e(t,n,r,i,a){tn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:QW.EMPTY_NODE,this.right=null!=a?a:QW.EMPTY_NODE}return on(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return QW.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return QW.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();KW.RED=!0,KW.BLACK=!1;var HW,GW=function(){function e(){tn(this,e)}return on(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new KW(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),QW=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;tn(this,e),this.comparator_=t,this.root_=n}return on(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,KW.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,KW.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new WW(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new WW(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new WW(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new WW(this.root_,null,this.comparator_,!0,e)}}]),e}();function YW(e,t){return jz(e.name,t.name)}function $W(e,t){return jz(e,t)}QW.EMPTY_NODE=new GW;var XW,JW,ZW,eK=function(e){return"number"===typeof e?"number:"+Bz(e):"string:"+e},tK=function(e){if(e.isLeafNode()){var t=e.val();wv("string"===typeof t||"number"===typeof t||"object"===typeof t&&Jv(t,".sv"),"Priority must be a string or number.")}else wv(e===HW||e.isEmpty(),"priority of unexpected type.");wv(e===HW||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},nK=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;tn(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,wv(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),tK(this.priorityNode_)}return on(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return IW(t)?this:".priority"===wW(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=wW(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(wv(".priority"!==r||1===_W(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(xW(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+eK(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Bz(this.value_):this.value_,this.lazyHash_=_z(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(wv(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return wv(i>=0,"Unknown leaf type: "+n),wv(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return XW},set:function(e){XW=e}}]),e}();nK.VALUE_TYPE_ORDER=["object","boolean","number","string"];var rK,iK,aK=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?jz(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return UW.MIN}},{key:"maxPost",value:function(){return new UW(Oz,new nK("[PRIORITY-POST]",ZW))}},{key:"makePost",value:function(e,t){var n=JW(e);return new UW(t,new nK("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(BW),oK=new aK,sK=Math.log(2),uK=function(){function e(t){tn(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/sK,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return on(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),cK=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new KW(o,a.node,KW.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new KW(o,a.node,KW.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],h=n?n(l):l;u(new KW(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,KW.BLACK):(s(h,KW.BLACK),s(h,KW.RED))}return a}(new uK(e.length));return new QW(r||t,a)},lK={},hK=function(){function e(t,n){tn(this,e),this.indexes_=t,this.indexSet_=n}return on(e,[{key:"get",value:function(e){var t=Zv(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof QW?t:null}},{key:"hasIndex",value:function(e){return Jv(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){wv(t!==zW,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(UW.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?cK(i,t.getCompare()):lK;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this,i=tm(this.indexes_,(function(e,i){var a=Zv(r.indexSet_,i);if(wv(a,"Missing index implementation for "+i),e===lK){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(UW.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),cK(o,a.getCompare())}return lK}var c=n.get(t.name),l=e;return c&&(l=l.remove(new UW(t.name,c))),l.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(tm(this.indexes_,(function(e){if(e===lK)return e;var r=n.get(t.name);return r?e.remove(new UW(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return wv(lK&&oK,"ChildrenNode.ts has not been loaded"),rK=rK||new e({".priority":lK},{".priority":oK})}}]),e}(),fK=function(){function e(t,n,r){tn(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&tK(this.priorityNode_),this.children_.isEmpty()&&wv(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return on(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||iK}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?iK:t}},{key:"getChild",value:function(e){var t=wW(e);return null===t?this:this.getImmediateChild(t).getChild(xW(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(wv(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new UW(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?iK:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=wW(e);if(null===n)return t;wv(".priority"!==wW(e)||1===_W(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(xW(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(oK,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+eK(this.getPriority().val())+":"),this.forEachChild(oK,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":_z(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new UW(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new UW(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new UW(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,UW.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,UW.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===dK?-1:0}},{key:"withIndex",value:function(t){if(t===zW||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===zW||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(oK),r=t.getIterator(oK),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===zW?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return iK||(iK=new e(new QW($W),null,hK.Default))}}]),e}();fK.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var dK=new(function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.call(this,new QW($W),fK.EMPTY_NODE,hK.Default)}return on(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return fK.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(fK));Object.defineProperties(UW,{MIN:{value:new UW(Dz,fK.EMPTY_NODE)},MAX:{value:new UW(Oz,dK)}}),qW.__EMPTY_NODE=fK.EMPTY_NODE,nK.__childrenNodeConstructor=fK,HW=dK,function(e){ZW=e}(dK);var pK=!0;function vK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return fK.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),wv(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new nK(e,vK(t));if(e instanceof Array||!pK){var n=fK.EMPTY_NODE;return Uz(e,(function(t,r){if(Jv(e,t)&&"."!==t.substring(0,1)){var i=vK(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(vK(t))}var r=[],i=!1;if(Uz(e,(function(e,t){if("."!==e.substring(0,1)){var n=vK(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new UW(e,n)))}})),0===r.length)return fK.EMPTY_NODE;var a=cK(r,YW,(function(e){return e.name}),$W);if(i){var o=cK(r,oK.getCompare());return new fK(a,vK(t),new hK({".priority":o},{".priority":oK}))}return new fK(a,vK(t),hK.Default)}!function(e){JW=e}(vK);var mK=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this)).indexPath_=e,wv(!IW(e)&&".priority"!==wW(e),"Can't create PathIndex with empty path or .priority key"),r}return on(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?jz(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=vK(e),r=fK.EMPTY_NODE.updateChild(this.indexPath_,n);return new UW(t,r)}},{key:"maxPost",value:function(){var e=fK.EMPTY_NODE.updateChild(this.indexPath_,dK);return new UW(Oz,e)}},{key:"toString",value:function(){return EW(this.indexPath_,0).join("/")}}]),n}(BW),yK=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?jz(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return UW.MIN}},{key:"maxPost",value:function(){return UW.MAX}},{key:"makePost",value:function(e,t){var n=vK(e);return new UW(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(BW),gK=new yK;function kK(e){return{type:"value",snapshotNode:e}}function bK(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function wK(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _K(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var xK=function(){function e(t){tn(this,e),this.index_=t}return on(e,[{key:"updateChild",value:function(e,t,n,r,i,a){wv(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(wK(t,o)):wv(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(bK(t,n)):a.trackChildChange(_K(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(oK,(function(e,r){t.hasChild(e)||n.trackChildChange(wK(e,r))})),t.isLeafNode()||t.forEachChild(oK,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(_K(t,r,i))}else n.trackChildChange(bK(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?fK.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),SK=function(){function e(t){tn(this,e),this.indexedFilter_=new xK(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return on(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new UW(t,n))||(n=fK.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=fK.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(fK.EMPTY_NODE);var i=this;return t.forEachChild(oK,(function(e,t){i.matches(new UW(e,t))||(r=r.updateImmediateChild(e,fK.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),EK=function(){function e(t){var n=this;tn(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new SK(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return on(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new UW(t,n))||(n=fK.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=fK.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=fK.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(fK.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,fK.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;wv(s.numChildren()===this.limit_,"");var u=new UW(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(_K(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(wK(t,h));var p=s.updateImmediateChild(t,fK.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(bK(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(wK(c.name,c.node)),i.trackChildChange(bK(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,fK.EMPTY_NODE)):e}}]),e}(),TK=function(){function e(){tn(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=oK}return on(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return wv(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return wv(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Dz}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return wv(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return wv(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Oz}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return wv(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===oK}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function CK(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function IK(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function PK(e,t){var n=e.copy();return n.index_=t,n}function NK(e){var t,n={};if(e.isDefault())return n;if(e.index_===oK?t="$priority":e.index_===gK?t="$value":e.index_===zW?t="$key":(wv(e.index_ instanceof mK,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=$v(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=$v(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+$v(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=$v(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+$v(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function AK(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==oK&&(t.i=e.index_.toString()),t}var RK=function(e){un(n,e);var t=fn(n);function n(e,r,i,a){var o;return tn(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Iz("p:rest:"),o.listens_={},o}return on(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=NK(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Zv(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=NK(e._queryParams),r=e._path.toString(),i=new Lv;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=yn(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+im(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Yv(c.responseText)}catch(n){Az("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&Az("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(wv(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(pW),DK=function(){function e(){tn(this,e),this.rootNode_=fK.EMPTY_NODE}return on(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function OK(){return{value:null,children:new Map}}function jK(e,t,n){if(IW(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=wW(t);e.children.has(r)||e.children.set(r,OK()),jK(e.children.get(r),t=xW(t),n)}}function LK(e,t){if(IW(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(oK,(function(t,n){jK(e,new kW(t),n)})),LK(e,t)}if(e.children.size>0){var r=wW(t);if(t=xW(t),e.children.has(r))LK(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function MK(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){MK(r,new kW(t.toString()+"/"+e),n)}))}var FK,VK=function(){function e(t){tn(this,e),this.collection_=t,this.last_=null}return on(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Uz(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),UK=function(){function e(t,n){tn(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new VK(t);var r=1e4+2e4*Math.random();Kz(this.reportStats_.bind(this),Math.floor(r))}return on(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Uz(t,(function(t,i){i>0&&Jv(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Kz(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function BK(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(FK||(FK={}));var qK,zK=function(){function e(t,n,r){tn(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=FK.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return on(e,[{key:"operationForChild",value:function(t){if(IW(this.path)){if(null!=this.affectedTree.value)return wv(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new kW(t));return new e(bW(),n,this.revert)}return wv(wW(this.path)===t,"operationForChild called for unrelated child."),new e(xW(this.path),this.affectedTree,this.revert)}}]),e}(),WK=function(){function e(t,n){tn(this,e),this.source=t,this.path=n,this.type=FK.LISTEN_COMPLETE}return on(e,[{key:"operationForChild",value:function(t){return IW(this.path)?new e(this.source,bW()):new e(this.source,xW(this.path))}}]),e}(),KK=function(){function e(t,n,r){tn(this,e),this.source=t,this.path=n,this.snap=r,this.type=FK.OVERWRITE}return on(e,[{key:"operationForChild",value:function(t){return IW(this.path)?new e(this.source,bW(),this.snap.getImmediateChild(t)):new e(this.source,xW(this.path),this.snap)}}]),e}(),HK=function(){function e(t,n,r){tn(this,e),this.source=t,this.path=n,this.children=r,this.type=FK.MERGE}return on(e,[{key:"operationForChild",value:function(t){if(IW(this.path)){var n=this.children.subtree(new kW(t));return n.isEmpty()?null:n.value?new KK(this.source,bW(),n.value):new e(this.source,bW(),n)}return wv(wW(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,xW(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),GK=function(){function e(t,n,r){tn(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return on(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(IW(e))return this.isFullyInitialized()&&!this.filtered_;var t=wW(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),QK=on((function e(t){tn(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function YK(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw _v("Should only compare child_ events.");var r=new UW(t.childName,t.snapshotNode),i=new UW(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function $K(e,t){return{eventCache:e,serverCache:t}}function XK(e,t,n,r){return $K(new GK(t,n,r),e.serverCache)}function JK(e,t,n,r){return $K(e.eventCache,new GK(t,n,r))}function ZK(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function eH(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var tH=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(qK||(qK=new QW(Lz)),qK);tn(this,e),this.value=t,this.children=n}return on(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:bW(),value:this.value};if(IW(e))return null;var n=wW(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(xW(e),t);return null!=i?{path:CW(new kW(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(IW(t))return this;var n=wW(t),r=this.children.get(n);return null!==r?r.subtree(xW(t)):new e(null)}},{key:"set",value:function(t,n){if(IW(t))return new e(n,this.children);var r=wW(t),i=(this.children.get(r)||new e(null)).set(xW(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(IW(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=wW(t),r=this.children.get(n);if(r){var i,a=r.remove(xW(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(IW(e))return this.value;var t=wW(e),n=this.children.get(t);return n?n.get(xW(e)):null}},{key:"setTree",value:function(t,n){if(IW(t))return n;var r,i=wW(t),a=(this.children.get(i)||new e(null)).setTree(xW(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(bW(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(CW(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,bW(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(IW(e))return null;var i=wW(e),a=this.children.get(i);return a?a.findOnPath_(xW(e),CW(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,bW(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(IW(t))return this;this.value&&r(n,this.value);var i=wW(t),a=this.children.get(i);return a?a.foreachOnPath_(xW(t),CW(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(bW(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(CW(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Uz(t,(function(e,t){n=n.set(new kW(e),t)})),n}}]),e}(),nH=function(){function e(t){tn(this,e),this.writeTree_=t}return on(e,null,[{key:"empty",value:function(){return new e(new tH(null))}}]),e}();function rH(e,t,n){if(IW(t))return new nH(new tH(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=PW(i,t);return a=a.updateChild(o,n),new nH(e.writeTree_.set(i,a))}var s=new tH(n),u=e.writeTree_.setTree(t,s);return new nH(u)}function iH(e,t,n){var r=e;return Uz(n,(function(e,n){r=rH(r,CW(t,e),n)})),r}function aH(e,t){if(IW(t))return nH.empty();var n=e.writeTree_.setTree(t,new tH(null));return new nH(n)}function oH(e,t){return null!=sH(e,t)}function sH(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(PW(n.path,t)):null}function uH(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(oK,(function(e,n){t.push(new UW(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new UW(e,n.value))})),t}function cH(e,t){if(IW(t))return e;var n=sH(e,t);return new nH(null!=n?new tH(n):e.writeTree_.subtree(t))}function lH(e){return e.writeTree_.isEmpty()}function hH(e,t){return fH(bW(),e.writeTree_,t)}function fH(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(wv(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=fH(CW(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(CW(e,".priority"),r)),n}function dH(e,t){return TH(t,e)}function pH(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));wv(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&vH(s,r.path)?i=!1:RW(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=yH(e.allWrites,mH,bW()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=aH(e.visibleWrites,r.path):Uz(r.children,(function(t){e.visibleWrites=aH(e.visibleWrites,CW(r.path,t))}));return!0}return!1}function vH(e,t){if(e.snap)return RW(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&RW(CW(e.path,n),t))return!0;return!1}function mH(e){return e.visible}function yH(e,t,n){for(var r=nH.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)RW(n,o)?r=rH(r,s=PW(n,o),a.snap):RW(o,n)&&(s=PW(o,n),r=rH(r,bW(),a.snap.getChild(s)));else{if(!a.children)throw _v("WriteRecord should have .snap or .children");if(RW(n,o))r=iH(r,s=PW(n,o),a.children);else if(RW(o,n))if(IW(s=PW(o,n)))r=iH(r,bW(),a.children);else{var u=Zv(a.children,wW(s));if(u){var c=u.getChild(xW(s));r=rH(r,bW(),c)}}}}}return r}function gH(e,t,n,r,i){if(r||i){var a=cH(e.visibleWrites,t);if(!i&&lH(a))return n;if(i||null!=n||oH(a,bW())){return hH(yH(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(RW(e.path,t)||RW(t,e.path))}),t),n||fK.EMPTY_NODE)}return null}var o=sH(e.visibleWrites,t);if(null!=o)return o;var s=cH(e.visibleWrites,t);return lH(s)?n:null!=n||oH(s,bW())?hH(s,n||fK.EMPTY_NODE):null}function kH(e,t,n,r){return gH(e.writeTree,e.treePath,t,n,r)}function bH(e,t){return function(e,t,n){var r=fK.EMPTY_NODE,i=sH(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(oK,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=cH(e.visibleWrites,t);return n.forEachChild(oK,(function(e,t){var n=hH(cH(a,new kW(e)),t);r=r.updateImmediateChild(e,n)})),uH(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return uH(cH(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function wH(e,t,n,r){return function(e,t,n,r,i){wv(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=CW(t,n);if(oH(e.visibleWrites,a))return null;var o=cH(e.visibleWrites,a);return lH(o)?i.getChild(n):hH(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function _H(e,t){return function(e,t){return sH(e.visibleWrites,t)}(e.writeTree,CW(e.treePath,t))}function xH(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=cH(e.visibleWrites,t),c=sH(u,bW());if(null!=c)s=c;else{if(null==n)return[];s=hH(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function SH(e,t,n){return function(e,t,n,r){var i=CW(t,n),a=sH(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?hH(cH(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function EH(e,t){return TH(CW(e.treePath,t),e.writeTree)}function TH(e,t){return{treePath:e,writeTree:t}}var CH=function(){function e(){tn(this,e),this.changeMap=new Map}return on(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;wv("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),wv(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,_K(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,wK(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,bK(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw _v("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,_K(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),IH=new(function(){function e(){tn(this,e)}return on(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),PH=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;tn(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return on(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new GK(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return SH(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:eH(this.viewCache_),i=xH(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function NH(e,t,n,r,i){var a,o,s=new CH;if(n.type===FK.OVERWRITE){var u=n;u.source.fromUser?a=DH(e,t,u.path,u.snap,r,i,s):(wv(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!IW(u.path),a=RH(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===FK.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=CW(n,r);OH(t,wW(c))&&(s=DH(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=CW(n,r);OH(t,wW(c))||(s=DH(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(wv(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=LH(e,t,c.path,c.children,r,i,o,s))}else if(n.type===FK.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=_H(r,n))return t;var s,u=new PH(r,t,i),c=t.eventCache.getNode();if(IW(n)||".priority"===wW(n)){var l;if(t.serverCache.isFullyInitialized())l=kH(r,eH(t));else{var h=t.serverCache.getNode();wv(h instanceof fK,"serverChildren would be complete if leaf node"),l=bH(r,h)}s=e.filter.updateFullNode(c,l,a)}else{var f=wW(n),d=SH(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(c,f,d,xW(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,fK.EMPTY_NODE,xW(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=kH(r,eH(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=_H(r,bW()),XK(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=_H(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(IW(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return RH(e,t,n,u.getNode().getChild(n),i,a,s,o);if(IW(n)){var c=new tH(null);return u.getNode().forEachChild(zW,(function(e,t){c=c.set(new kW(e),t)})),LH(e,t,n,c,i,a,s,o)}return t}var l=new tH(null);return r.foreach((function(e,t){var r=CW(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),LH(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==FK.LISTEN_COMPLETE)throw _v("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=JK(t,a.getNode(),a.isFullyInitialized()||IW(n),a.isFiltered());return AH(e,o,n,r,IH,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ZK(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(kK(ZK(t)))}}(t,a,h),{viewCache:a,changes:h}}function AH(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=_H(r,n))return t;if(IW(n))if(wv(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=eH(t),l=bH(r,c instanceof fK?c:fK.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var h=kH(r,eH(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=wW(n);if(".priority"===f){wv(1===_W(n),"Can't have a priority with additional path components");var d=u.getNode(),p=wH(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=xW(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var y=wH(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(f).updateChild(m,y):u.getNode().getImmediateChild(f)}else v=SH(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return XK(t,o,u.isFullyInitialized()||IW(n),e.filter.filtersNodes())}function RH(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(IW(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=wW(n);if(!c.isCompleteForPath(n)&&_W(n)>1)return t;var d=xW(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,IH,null)}var v=JK(t,u,c.isFullyInitialized()||IW(n),l.filtersNodes());return AH(e,v,n,i,new PH(i,v,a),s)}function DH(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new PH(i,t,a);if(IW(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=XK(t,u,!0,e.filter.filtersNodes());else{var h=wW(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=XK(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,d=xW(n),p=c.getNode().getImmediateChild(h);if(IW(d))f=r;else{var v=l.getCompleteChild(h);f=null!=v?".priority"===SW(d)&&v.getChild(TW(d)).isEmpty()?v:v.updateChild(d,r):fK.EMPTY_NODE}if(p.equals(f))s=t;else s=XK(t,e.filter.updateChild(c.getNode(),h,f,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function OH(e,t){return e.eventCache.isCompleteForChild(t)}function jH(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function LH(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=IW(n)?r:new tH(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=jH(0,t.serverCache.getNode().getImmediateChild(n),r);c=RH(e,c,new kW(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var h=jH(0,t.serverCache.getNode().getImmediateChild(n),r);c=RH(e,c,new kW(n),h,i,a,o,s)}})),c}var MH,FH=function(){function e(t,n){tn(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new xK(i.getIndex()),o=(r=i).loadsAllData()?new xK(r.getIndex()):r.hasLimit()?new EK(r):new SK(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(fK.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(fK.EMPTY_NODE,u.getNode(),null),h=new GK(c,s.isFullyInitialized(),a.filtersNodes()),f=new GK(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=$K(f,h),this.eventGenerator_=new QK(this.query_)}return on(e,[{key:"query",get:function(){return this.query_}}]),e}();function VH(e,t){var n=eH(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!IW(t)&&!n.getImmediateChild(wW(t)).isEmpty())?n.getChild(t):null}function UH(e){return 0===e.eventRegistrations_.length}function BH(e,t,n){var r=[];if(n){wv(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function qH(e,t,n,r){t.type===FK.MERGE&&null!==t.source.queryId&&(wv(eH(e.viewCache_),"We should always have a full cache before handling merges"),wv(ZK(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=NH(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,wv(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),wv(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),wv(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,zH(e,s.changes,s.viewCache.eventCache.getNode(),null)}function zH(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),YK(e,i,"child_removed",t,r,n),YK(e,i,"child_added",t,r,n),YK(e,i,"child_moved",a,r,n),YK(e,i,"child_changed",t,r,n),YK(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var WH,KH=on((function e(){tn(this,e),this.views=new Map}));function HH(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return wv(null!=a,"SyncTree gave us an op for an invalid query."),qH(a,t,n,r)}var o,s=[],u=kn(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(qH(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function GH(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=kH(n,i?r:null),u=!1;s?u=!0:r instanceof fK?(s=bH(n,r),u=!1):(s=fK.EMPTY_NODE,u=!1);var c=$K(new GK(s,u,!1),new GK(r,i,!1));return new FH(t,c)}return o}function QH(e,t,n,r,i,a){var o=GH(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(oK,(function(e,t){r.push(bK(e,t))})),n.isFullyInitialized()&&r.push(kK(n.getNode())),zH(e,r,n.getNode(),t)}(o,n)}function YH(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=eG(e);if("default"===i){var u,c=kn(e.views.entries());try{for(c.s();!(u=c.n()).done;){var l=yn(u.value,2),h=l[0],f=l[1];o=o.concat(BH(f,n,r)),UH(f)&&(e.views.delete(h),f.query._queryParams.loadsAllData()||a.push(f.query))}}catch(p){c.e(p)}finally{c.f()}}else{var d=e.views.get(i);d&&(o=o.concat(BH(d,n,r)),UH(d)&&(e.views.delete(i),d.query._queryParams.loadsAllData()||a.push(d.query)))}return s&&!eG(e)&&a.push(new(wv(MH,"Reference.ts has not been loaded"),MH)(t._repo,t._path)),{removed:a,events:o}}function $H(e){var t,n=[],r=kn(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function XH(e,t){var n,r=null,i=kn(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||VH(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function JH(e,t){if(t._queryParams.loadsAllData())return tG(e);var n=t._queryIdentifier;return e.views.get(n)}function ZH(e,t){return null!=JH(e,t)}function eG(e){return null!=tG(e)}function tG(e){var t,n=kn(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var nG=1,rG=on((function e(t){tn(this,e),this.listenProvider_=t,this.syncPointTree_=new tH(null),this.pendingWriteTree_={visibleWrites:nH.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function iG(e,t,n,r,i){return function(e,t,n,r,i){wv(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=rH(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?dG(e,new KK({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function aG(e,t,n,r){!function(e,t,n,r){wv(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=iH(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=tH.fromObject(n);return dG(e,new HK({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function oG(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(pH(e.pendingWriteTree_,t)){var i=new tH(null);return null!=r.snap?i=i.set(bW(),!0):Uz(r.children,(function(e){i=i.set(new kW(e),!0)})),dG(e,new zK(r.path,i,n))}return[]}function sG(e,t,n){return dG(e,new KK({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function uG(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||ZH(o,t))){var u=YH(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),h=e.syncPointTree_.findOnPath(a,(function(e,t){return eG(t)}));if(l&&!h){var f=e.syncPointTree_.subtree(a);if(!f.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&eG(t))return[tG(t)];var r=[];return t&&(r=$H(t)),Uz(n,(function(e,t){r=r.concat(t)})),r}))}(f),p=0;p<d.length;++p){var v=d[p],m=v.query,y=mG(e,v);e.listenProvider_.startListening(_G(m),yG(e,m),y.hashFn,y.onComplete)}}if(!h&&c.length>0&&!r)if(l){e.listenProvider_.stopListening(_G(t),null)}else c.forEach((function(t){var n=e.queryToTagMap.get(gG(t));e.listenProvider_.stopListening(_G(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=gG(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,c)}return s}function cG(e,t,n,r){var i=kG(e,r);if(null!=i){var a=bG(i),o=a.path,s=a.queryId,u=PW(o,t);return wG(e,o,new KK(BK(s),u,n))}return[]}function lG(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=PW(e,i);a=a||XH(t,n),o=o||eG(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||eG(u),a=a||XH(u,bW())):(u=new KH,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=fK.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=XH(t,bW());n&&(a=a.updateImmediateChild(e,n))})));var c=ZH(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=gG(t);wv(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=nG++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=QH(u,t,n,dH(e.pendingWriteTree_,i),a,s);if(!c&&!o&&!r){var d=JH(u,t);f=f.concat(function(e,t,n){var r=t._path,i=yG(e,t),a=mG(e,n),o=e.listenProvider_.startListening(_G(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)wv(!eG(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!IW(e)&&t&&eG(t))return[tG(t).query];var r=[];return t&&(r=r.concat($H(t).map((function(e){return e.query})))),Uz(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(_G(l),yG(e,l))}return o}(e,t,d))}return f}function hG(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=XH(n,PW(e,t));if(r)return r}));return gH(r,t,i,n,!0)}function fG(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=PW(e,n);r=r||XH(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||XH(i,bW()):(i=new KH,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new GK(r,!0,!1):null;return function(e){return ZK(e.viewCache_)}(GH(i,t,dH(e.pendingWriteTree_,t._path),a?o.getNode():fK.EMPTY_NODE,a))}function dG(e,t){return pG(t,e.syncPointTree_,null,dH(e.pendingWriteTree_,bW()))}function pG(e,t,n,r){if(IW(e.path))return vG(e,t,n,r);var i=t.get(bW());null==n&&null!=i&&(n=XH(i,bW()));var a=[],o=wW(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=EH(r,o);a=a.concat(pG(s,u,c,l))}return i&&(a=a.concat(HH(i,e,r,n))),a}function vG(e,t,n,r){var i=t.get(bW());null==n&&null!=i&&(n=XH(i,bW()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=EH(r,t),u=e.operationForChild(t);u&&(a=a.concat(vG(u,i,o,s)))})),i&&(a=a.concat(HH(i,e,r,n))),a}function mG(e,t){var n=t.query,r=yG(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||fK.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=kG(e,n);if(r){var i=bG(r),a=i.path,o=i.queryId,s=PW(a,t);return wG(e,a,new WK(BK(o),s))}return[]}(e,n._path,r):function(e,t){return dG(e,new WK({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return uG(e,n,null,i)}}}function yG(e,t){var n=gG(t);return e.queryToTagMap.get(n)}function gG(e){return e._path.toString()+"$"+e._queryIdentifier}function kG(e,t){return e.tagToQueryMap.get(t)}function bG(e){var t=e.indexOf("$");return wv(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new kW(e.substr(0,t))}}function wG(e,t,n){var r=e.syncPointTree_.get(t);return wv(r,"Missing sync point for query tag that we're tracking"),HH(r,n,dH(e.pendingWriteTree_,t),null)}function _G(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(wv(WH,"Reference.ts has not been loaded"),WH)(e._repo,e._path):e}var xG=function(){function e(t){tn(this,e),this.node_=t}return on(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),SG=function(){function e(t,n){tn(this,e),this.syncTree_=t,this.path_=n}return on(e,[{key:"getImmediateChild",value:function(t){var n=CW(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return hG(this.syncTree_,this.path_)}}]),e}(),EG=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},TG=function(e,t,n){return e&&"object"===typeof e?(wv(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?CG(e[".sv"],t,n):"object"===typeof e[".sv"]?IG(e[".sv"],t):void wv(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},CG=function(e,t,n){if("timestamp"===e)return n.timestamp;wv(!1,"Unexpected server value: "+e)},IG=function(e,t,n){e.hasOwnProperty("increment")||wv(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&wv(!1,"Unexpected increment value: "+r);var i=t.node();if(wv(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},PG=function(e,t,n,r){return AG(t,new SG(n,e),r)},NG=function(e,t,n){return AG(e,new xG(t),n)};function AG(e,t,n){var r,i=e.getPriority().val(),a=TG(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=TG(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new nK(s,vK(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new nK(a))),u.forEachChild(oK,(function(e,i){var a=AG(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var RG=on((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};tn(this,e),this.name=t,this.parent=n,this.node=r}));function DG(e,t){for(var n=t instanceof kW?t:new kW(t),r=e,i=wW(n);null!==i;){var a=Zv(r.node.children,i)||{children:{},childCount:0};r=new RG(i,r,a),i=wW(n=xW(n))}return r}function OG(e){return e.node.value}function jG(e,t){e.node.value=t,UG(e)}function LG(e){return e.node.childCount>0}function MG(e,t){Uz(e.node.children,(function(n,r){t(new RG(n,e,r))}))}function FG(e,t,n,r){n&&!r&&t(e),MG(e,(function(e){FG(e,t,!0,r)})),n&&r&&t(e)}function VG(e){return new kW(null===e.parent?e.name:VG(e.parent)+"/"+e.name)}function UG(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===OG(e)&&!LG(e)}(n),i=Jv(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,UG(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,UG(e))}(e.parent,e.name,e)}var BG=/[\[\].#$\/\u0000-\u001F\u007F]/,qG=/[\[\].#$\u0000-\u001F\u007F]/,zG=10485760,WG=function(e){return"string"===typeof e&&0!==e.length&&!BG.test(e)},KG=function(e){return"string"===typeof e&&0!==e.length&&!qG.test(e)},HG=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Rz(e)||e&&"object"===typeof e&&Jv(e,".sv")},GG=function(e,t,n,r){r&&void 0===t||QG(fm(e,"value"),t,n)},QG=function e(t,n,r){var i=r instanceof kW?new DW(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+jW(i));if("function"===typeof n)throw new Error(t+"contains a function "+jW(i)+" with contents = "+n.toString());if(Rz(n))throw new Error(t+"contains "+n.toString()+" "+jW(i));if("string"===typeof n&&n.length>zG/3&&vm(n)>zG)throw new Error(t+"contains a string greater than "+zG+" utf8 bytes "+jW(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Uz(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!WG(n)))throw new Error(t+" contains an invalid key ("+n+") "+jW(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=vm(u),OW(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=vm(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+jW(i)+" in addition to actual children.")}},YG=function(e,t,n,r){if(!r||void 0!==t){var i=fm(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];Uz(t,(function(e,t){var r=new kW(e);if(QG(i,t,CW(n,r)),".priority"===SW(r)&&!HG(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=EW(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!WG(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(NW);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&RW(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},$G=function(e,t,n){if(!n||void 0!==t){if(Rz(t))throw new Error(fm(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!HG(t))throw new Error(fm(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},XG=function(e,t,n,r){if((!r||void 0!==n)&&!WG(n))throw new Error(fm(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},JG=function(e,t,n,r){if((!r||void 0!==n)&&!KG(n))throw new Error(fm(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ZG=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),JG(e,t,n,r)},eQ=function(e,t){if(".info"===wW(t))throw new Error(e+" failed = Can't modify data under /.info/")},tQ=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!WG(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),KG(e)}(n))throw new Error(fm(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},nQ=on((function e(){tn(this,e),this.eventLists_=[],this.recursionDepth_=0}));function rQ(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||AW(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function iQ(e,t,n){rQ(e,n),oQ(e,(function(e){return AW(e,t)}))}function aQ(e,t,n){rQ(e,n),oQ(e,(function(e){return RW(e,t)||RW(t,e)}))}function oQ(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(sQ(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function sQ(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Sz&&Cz("event: "+n.toString()),Wz(r)}}}var uQ="repo_interrupt",cQ=25,lQ=function(){function e(t,n,r,i){tn(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=OK(),this.transactionQueueTree_=new RG,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return on(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function hQ(e,t,n){if(e.stats_=aW(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new RK(e.repoInfo_,(function(t,n,r,i){pQ(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return vQ(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$v(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new FW(e.repoInfo_,t,(function(t,n,r,i){pQ(e,t,n,r,i)}),(function(t){vQ(e,t)}),(function(t){!function(e,t){Uz(t,(function(t,n){mQ(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return iW[n]||(iW[n]=t()),iW[n]}(e.repoInfo_,(function(){return new UK(e.stats_,e.server_)})),e.infoData_=new DK,e.infoSyncTree_=new rG({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=sG(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),mQ(e,"connected",!1),e.serverSyncTree_=new rG({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);aQ(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function fQ(e){var t=e.infoData_.getNode(new kW(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function dQ(e){return EG({timestamp:fQ(e)})}function pQ(e,t,n,r,i){e.dataUpdateCount++;var a=new kW(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=tm(n,(function(e){return vK(e)}));o=function(e,t,n,r){var i=kG(e,r);if(i){var a=bG(i),o=a.path,s=a.queryId,u=PW(o,t),c=tH.fromObject(n);return wG(e,o,new HK(BK(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=vK(n);o=cG(e.serverSyncTree_,a,u,i)}else if(r){var c=tm(n,(function(e){return vK(e)}));o=function(e,t,n){var r=tH.fromObject(n);return dG(e,new HK({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=vK(n);o=sG(e.serverSyncTree_,a,l)}var h=a;o.length>0&&(h=CQ(e,a)),aQ(e.eventQueue_,h,o)}function vQ(e,t){mQ(e,"connected",t),!1===t&&function(e){xQ(e,"onDisconnectEvents");var t=dQ(e),n=OK();MK(e.onDisconnect_,bW(),(function(r,i){var a=PG(r,i,e.serverSyncTree_,t);jK(n,r,a)}));var r=[];MK(n,bW(),(function(t,n){r=r.concat(sG(e.serverSyncTree_,t,n));var i=RQ(e,t);CQ(e,i)})),e.onDisconnect_=OK(),aQ(e.eventQueue_,bW(),r)}(e)}function mQ(e,t,n){var r=new kW("/.info/"+t),i=vK(n);e.infoData_.updateSnapshot(r,i);var a=sG(e.infoSyncTree_,r,i);aQ(e.eventQueue_,r,a)}function yQ(e){return e.nextWriteId_++}function gQ(e,t,n,r,i){xQ(e,"set",{path:t.toString(),value:n,priority:r});var a=dQ(e),o=vK(n,r),s=hG(e.serverSyncTree_,t),u=NG(o,s,a),c=yQ(e),l=iG(e.serverSyncTree_,t,u,c,!0);rQ(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||Az("set at "+t+" failed: "+n);var o=oG(e.serverSyncTree_,c,!a);aQ(e.eventQueue_,t,o),SQ(e,i,n,r)}));var h=RQ(e,t);CQ(e,h),aQ(e.eventQueue_,h,[])}function kQ(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&LK(e.onDisconnect_,t),SQ(e,n,r,i)}))}function bQ(e,t,n,r){var i=vK(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&jK(e.onDisconnect_,t,i),SQ(e,r,n,a)}))}function wQ(e,t,n){var r;r=".info"===wW(t._path)?uG(e.infoSyncTree_,t,n):uG(e.serverSyncTree_,t,n),iQ(e.eventQueue_,t._path,r)}function _Q(e){e.persistentConnection_&&e.persistentConnection_.interrupt(uQ)}function xQ(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Cz.apply(void 0,[t].concat(r))}function SQ(e,t,n,r){t&&Wz((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function EQ(e,t,n){return hG(e.serverSyncTree_,t,n)||fK.EMPTY_NODE}function TQ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||AQ(e,t),OG(t)){var n=PQ(e,t);wv(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=EQ(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];wv(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=PW(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){xQ(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(oG(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);AQ(e,DG(e.transactionQueueTree_,t)),TQ(e,e.transactionQueueTree_),aQ(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Wz(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{Az("transaction at "+h.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}CQ(e,t)}}),o)}(e,VG(t),n)}else LG(t)&&MG(t,(function(t){TQ(e,t)}))}function CQ(e,t){var n=IQ(e,t),r=VG(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=PW(n,c.path),h=!1;if(wv(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,s=c.abortReason,i=i.concat(oG(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=cQ)h=!0,s="maxretry",i=i.concat(oG(e.serverSyncTree_,c.currentWriteId,!0));else{var f=EQ(e,c.path,o);c.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){QG("transaction failed: Data returned ",d,c.path);var p=vK(d);"object"===typeof d&&null!=d&&Jv(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,m=dQ(e),y=NG(p,f,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=yQ(e),o.splice(o.indexOf(v),1),i=(i=i.concat(iG(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(oG(e.serverSyncTree_,v,!0))}else h=!0,s="nodata",i=i.concat(oG(e.serverSyncTree_,c.currentWriteId,!0))}aQ(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);AQ(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Wz(r[c]);TQ(e,e.transactionQueueTree_)}(e,PQ(e,n),r),r}function IQ(e,t){var n,r=e.transactionQueueTree_;for(n=wW(t);null!==n&&void 0===OG(r);)r=DG(r,n),n=wW(t=xW(t));return r}function PQ(e,t){var n=[];return NQ(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function NQ(e,t,n){var r=OG(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);MG(t,(function(t){NQ(e,t,n)}))}function AQ(e,t){var n=OG(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,jG(t,n.length>0?n:void 0)}MG(t,(function(t){AQ(e,t)}))}function RQ(e,t){var n=VG(IQ(e,t)),r=DG(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){DQ(e,t)})),DQ(e,r),FG(r,(function(t){DQ(e,t)})),n}function DQ(e,t){var n=OG(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(wv(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(wv(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(oG(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?jG(t,void 0):n.length=a+1,aQ(e.eventQueue_,VG(t),i);for(var s=0;s<r.length;s++)Wz(r[s])}}var OQ=function(e,t){var n=jQ(e),r=n.namespace;"firebase.com"===n.domain&&Nz(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Nz("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Az("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new eW(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new kW(n.pathString)}},jQ=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=kn(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Az("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},LQ="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",MQ=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=LQ.charAt(n%64),n=Math.floor(n/64);wv(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=LQ.charAt(t[r]);return wv(20===o.length,"nextPushId: Length should be 20."),o}}(),FQ=function(){function e(t,n,r,i){tn(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return on(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+$v(this.snapshot.exportVal())}}]),e}(),VQ=function(){function e(t,n,r){tn(this,e),this.eventRegistration=t,this.error=n,this.path=r}return on(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),UQ=function(){function e(t,n){tn(this,e),this.snapshotCallback=t,this.cancelCallback=n}return on(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return wv(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),BQ=function(){function e(t,n){tn(this,e),this._repo=t,this._path=n}return on(e,[{key:"cancel",value:function(){var e=new Lv;return kQ(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){eQ("OnDisconnect.remove",this._path);var e=new Lv;return bQ(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){eQ("OnDisconnect.set",this._path),GG("OnDisconnect.set",e,this._path,!1);var t=new Lv;return bQ(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){eQ("OnDisconnect.setWithPriority",this._path),GG("OnDisconnect.setWithPriority",e,this._path,!1),$G("OnDisconnect.setWithPriority",t,!1);var n=new Lv;return function(e,t,n,r,i){var a=vK(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&jK(e.onDisconnect_,t,a),SQ(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){eQ("OnDisconnect.update",this._path),YG("OnDisconnect.update",e,this._path,!1);var t=new Lv;return function(e,t,n,r){if(em(n))return Cz("onDisconnect().update() called with empty data.  Don't do anything."),void SQ(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&Uz(n,(function(n,r){var i=vK(r);jK(e.onDisconnect_,CW(t,n),i)})),SQ(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),qQ=function(){function e(t,n,r,i){tn(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return on(e,[{key:"key",get:function(){return IW(this._path)?null:SW(this._path)}},{key:"ref",get:function(){return new HQ(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=AK(this._queryParams),t=Fz(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return AK(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=mm(t))instanceof e))return!1;var n=this._repo===t._repo,r=AW(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function zQ(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function WQ(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===zW){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Dz)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Oz)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===oK){if(null!=t&&!HG(t)||null!=n&&!HG(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(wv(e.getIndex()instanceof mK||e.getIndex()===gK,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function KQ(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var HQ=function(e){un(n,e);var t=fn(n);function n(e,r){return tn(this,n),t.call(this,e,r,new TK,!1)}return on(n,[{key:"parent",get:function(){var e=TW(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(qQ),GQ=function(){function e(t,n,r){tn(this,e),this._node=t,this.ref=n,this._index=r}return on(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new kW(t),r=$Q(this.ref,t);return new e(this._node.getChild(n),r,oK)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,$Q(n.ref,r),oK))}))}},{key:"hasChild",value:function(e){var t=new kW(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function QQ(e,t){return(e=mm(e))._checkNotDeleted("ref"),void 0!==t?$Q(e._root,t):e._root}function YQ(e,t){(e=mm(e))._checkNotDeleted("refFromURL");var n=OQ(t,e._repo.repoInfo_.nodeAdmin);tQ("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||Nz("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),QQ(e,n.path.toString())}function $Q(e,t){return null===wW((e=mm(e))._path)?ZG("child","path",t,!1):JG("child","path",t,!1),new HQ(e._repo,CW(e._path,t))}function XQ(e,t){e=mm(e),eQ("set",e._path),GG("set",t,e._path,!1);var n=new Lv;return gQ(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function JQ(e,t){YG("update",t,e._path,!1);var n=new Lv;return function(e,t,n,r){xQ(e,"update",{path:t.toString(),value:n});var i=!0,a=dQ(e),o={};if(Uz(n,(function(n,r){i=!1,o[n]=PG(CW(t,n),vK(r),e.serverSyncTree_,a)})),i)Cz("update() called with empty data.  Don't do anything."),SQ(0,r,"ok",void 0);else{var s=yQ(e),u=aG(e.serverSyncTree_,t,o,s);rQ(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||Az("update at "+t+" failed: "+n);var o=oG(e.serverSyncTree_,s,!a),u=o.length>0?CQ(e,t):t;aQ(e.eventQueue_,u,o),SQ(0,r,n,i)})),Uz(n,(function(n){var r=RQ(e,CW(t,n));CQ(e,r)})),aQ(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function ZQ(e){e=mm(e);var t=new UQ((function(){})),n=new eY(t);return function(e,t,n){var r=fG(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=vK(r).withIndex(t._queryParams.getIndex());if(lG(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=sG(e.serverSyncTree_,t._path,a);else{var o=yG(e.serverSyncTree_,t);i=cG(e.serverSyncTree_,t._path,a,o)}return aQ(e.eventQueue_,t._path,i),uG(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return xQ(e,"get for query "+$v(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new GQ(t,new HQ(e._repo,e._path),e._queryParams.getIndex())}))}var eY=function(){function e(t){tn(this,e),this.callbackContext=t}return on(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new FQ("value",this,new GQ(e.snapshotNode,new HQ(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new VQ(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),tY=function(){function e(t,n){tn(this,e),this.eventType=t,this.callbackContext=n}return on(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new VQ(this,e,t):null}},{key:"createEvent",value:function(e,t){wv(null!=e.childName,"Child events should have a childName.");var n=$Q(new HQ(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new FQ(e.type,this,new GQ(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function nY(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){wQ(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new UQ(n,a||void 0),c="value"===t?new eY(u):new tY(t,u);return function(e,t,n){var r;r=".info"===wW(t._path)?lG(e.infoSyncTree_,t,n):lG(e.serverSyncTree_,t,n),iQ(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return wQ(e._repo,e,c)}}function rY(e,t,n,r){return nY(e,"value",t,n,r)}function iY(e,t,n,r){return nY(e,"child_added",t,n,r)}function aY(e,t,n,r){return nY(e,"child_changed",t,n,r)}function oY(e,t,n,r){return nY(e,"child_moved",t,n,r)}function sY(e,t,n,r){return nY(e,"child_removed",t,n,r)}function uY(e,t,n){var r=null,i=n?new UQ(n):null;"value"===t?r=new eY(i):t&&(r=new tY(t,i)),wQ(e._repo,e,r)}var cY=on((function e(){tn(this,e)})),lY=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this))._value=e,i._key=r,i}return on(n,[{key:"_apply",value:function(e){GG("endAt",this._value,e._path,!0);var t=IK(e._queryParams,this._value,this._key);if(KQ(t),WQ(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qQ(e._repo,e._path,t,e._orderByCalled)}}]),n}(cY);var hY=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this))._value=e,i._key=r,i}return on(n,[{key:"_apply",value:function(e){GG("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===zW||n?IK(e,t,n):IK(e,t,Dz)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(KQ(t),WQ(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qQ(e._repo,e._path,t,e._orderByCalled)}}]),n}(cY);var fY=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this))._value=e,i._key=r,i}return on(n,[{key:"_apply",value:function(e){GG("startAt",this._value,e._path,!0);var t=CK(e._queryParams,this._value,this._key);if(KQ(t),WQ(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new qQ(e._repo,e._path,t,e._orderByCalled)}}]),n}(cY);var dY=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this))._value=e,i._key=r,i}return on(n,[{key:"_apply",value:function(e){GG("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===zW||n?CK(e,t,n):CK(e,t,Oz)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(KQ(t),WQ(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new qQ(e._repo,e._path,t,e._orderByCalled)}}]),n}(cY);var pY=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this))._limit=e,r}return on(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new qQ(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(cY);var vY=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this))._limit=e,r}return on(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new qQ(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(cY);var mY=function(e){un(n,e);var t=fn(n);function n(e){var r;return tn(this,n),(r=t.call(this))._path=e,r}return on(n,[{key:"_apply",value:function(e){zQ(e,"orderByChild");var t=new kW(this._path);if(IW(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new mK(t),r=PK(e._queryParams,n);return WQ(r),new qQ(e._repo,e._path,r,!0)}}]),n}(cY);var yY=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"_apply",value:function(e){zQ(e,"orderByKey");var t=PK(e._queryParams,zW);return WQ(t),new qQ(e._repo,e._path,t,!0)}}]),n}(cY);var gY=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"_apply",value:function(e){zQ(e,"orderByPriority");var t=PK(e._queryParams,oK);return WQ(t),new qQ(e._repo,e._path,t,!0)}}]),n}(cY);var kY=function(e){un(n,e);var t=fn(n);function n(){return tn(this,n),t.apply(this,arguments)}return on(n,[{key:"_apply",value:function(e){zQ(e,"orderByValue");var t=PK(e._queryParams,gK);return WQ(t),new qQ(e._repo,e._path,t,!0)}}]),n}(cY);var bY=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this))._value=e,i._key=r,i}return on(n,[{key:"_apply",value:function(e){if(GG("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new lY(this._value,this._key)._apply(new fY(this._value,this._key)._apply(e))}}]),n}(cY);function wY(e){for(var t=mm(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){wv(!MH,"__referenceConstructor has already been defined"),MH=e}(HQ),function(e){wv(!WH,"__referenceConstructor has already been defined"),WH=e}(HQ);var _Y="FIREBASE_DATABASE_EMULATOR_HOST",xY={},SY=!1;function EY(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Nz("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Cz("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=OQ(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/ReactEcomProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[_Y]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=OQ(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new Qz(Qz.OWNER):new Gz(e.name,e.options,t);tQ("Invalid Firebase Database URL",s),IW(s.path)||Nz("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=xY[t.name];i||(i={},xY[t.name]=i);var a=i[e.toURLString()];a&&Nz("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new lQ(e,SY,n,r),i[e.toURLString()]=a,a}(u,e,l,new Hz(e.name,n));return new TY(h,e)}var TY=function(){function e(t,n){tn(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return on(e,[{key:"_repo",get:function(){return this._instanceStarted||(hQ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new HQ(this._repo,bW())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=xY[t];n&&n[e.key]===e||Nz("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),_Q(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Nz("Cannot call "+e+" on a deleted database.")}}]),e}();function CY(){fW.IS_TRANSPORT_INITIALIZED&&Az("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function IY(){CY(),uW.forceDisallow()}function PY(){CY(),hW.forceDisallow(),uW.forceAllow()}function NY(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=mm(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Nz("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Nz('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Qz(Qz.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Mv(r.mockUserToken,e.app.options.projectId);a=new Qz(o)}!function(e,t,n,r){e.repoInfo_=new eW("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function AY(e){var t;(e=mm(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(uQ)}function RY(e,t){Tz(e,t)}var DY={".sv":"timestamp"};var OY=function(){function e(t,n){tn(this,e),this.committed=t,this.snapshot=n}return on(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function jY(e,t,n){var r;if(e=mm(e),eQ("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new Lv,o=rY(e,(function(){}));return function(e,t,n,r,i,a){xQ(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:wz(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=EQ(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{QG("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=DG(e.transactionQueueTree_,t),h=OG(l)||[];h.push(o),jG(l,h),"object"===typeof u&&null!==u&&Jv(u,".priority")?(c=Zv(u,".priority"),wv(HG(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(hG(e.serverSyncTree_,t)||fK.EMPTY_NODE).getPriority().val();var f=dQ(e),d=vK(u,c),p=NG(d,s,f);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=yQ(e);var v=iG(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);aQ(e.eventQueue_,t,v),TQ(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new GQ(r,new HQ(e._repo,e._path),oK),a.resolve(new OY(n,i)))}),o,i),a.promise}FW.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},FW.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){pz(fy),ay(new ym("database",(function(e,t){var n=t.instanceIdentifier;return EY(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),gy(hz,fz,e),gy(hz,fz,"esm2017")}();var LY=new Pm("@firebase/database-compat"),MY=function(e){var t="FIREBASE WARNING: "+e;LY.warn(t)},FY=function(){function e(t){tn(this,e),this._delegate=t}return on(e,[{key:"cancel",value:function(e){hm("OnDisconnect.cancel",0,1,arguments.length),dm("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){hm("OnDisconnect.remove",0,1,arguments.length),dm("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){hm("OnDisconnect.set",1,2,arguments.length),dm("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){hm("OnDisconnect.setWithPriority",2,3,arguments.length),dm("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(hm("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,MY("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}dm("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),VY=function(){function e(t,n){tn(this,e),this.committed=t,this.snapshot=n}return on(e,[{key:"toJSON",value:function(){return hm("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),UY=function(){function e(t,n){tn(this,e),this._database=t,this._delegate=n}return on(e,[{key:"val",value:function(){return hm("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return hm("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return hm("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return hm("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return hm("DataSnapshot.child",0,1,arguments.length),t=String(t),JG("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return hm("DataSnapshot.hasChild",1,1,arguments.length),JG("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return hm("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return hm("DataSnapshot.forEach",1,1,arguments.length),dm("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return hm("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return hm("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return hm("DataSnapshot.ref",0,0,arguments.length),new qY(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),BY=function(){function e(t,n){tn(this,e),this.database=t,this._delegate=n}return on(e,[{key:"on",value:function(t,n,r,i){var a,o=this;hm("Query.on",2,4,arguments.length),dm("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new UY(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return rY(this._delegate,u,c),n;case"child_added":return iY(this._delegate,u,c),n;case"child_removed":return sY(this._delegate,u,c),n;case"child_changed":return aY(this._delegate,u,c),n;case"child_moved":return oY(this._delegate,u,c),n;default:throw new Error(fm("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(hm("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(fm(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),dm("Query.off","callback",t,!0),pm("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,uY(this._delegate,e,r)}else uY(this._delegate,e)}},{key:"get",value:function(){var e=this;return ZQ(this._delegate).then((function(t){return new UY(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;hm("Query.once",1,4,arguments.length),dm("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Lv,u=function(e,t){var r=new UY(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":rY(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":iY(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":sY(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":aY(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":oY(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(fm("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return hm("Query.limitToFirst",1,1,arguments.length),new e(this.database,wY(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new pY(e)}(t)))}},{key:"limitToLast",value:function(t){return hm("Query.limitToLast",1,1,arguments.length),new e(this.database,wY(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new vY(e)}(t)))}},{key:"orderByChild",value:function(t){return hm("Query.orderByChild",1,1,arguments.length),new e(this.database,wY(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return JG("orderByChild","path",e,!1),new mY(e)}(t)))}},{key:"orderByKey",value:function(){return hm("Query.orderByKey",0,0,arguments.length),new e(this.database,wY(this._delegate,new yY))}},{key:"orderByPriority",value:function(){return hm("Query.orderByPriority",0,0,arguments.length),new e(this.database,wY(this._delegate,new gY))}},{key:"orderByValue",value:function(){return hm("Query.orderByValue",0,0,arguments.length),new e(this.database,wY(this._delegate,new kY))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return hm("Query.startAt",0,2,arguments.length),new e(this.database,wY(this._delegate,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return XG("startAt","key",t,!0),new fY(e,t)}(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return hm("Query.startAfter",0,2,arguments.length),new e(this.database,wY(this._delegate,function(e,t){return XG("startAfter","key",t,!0),new dY(e,t)}(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return hm("Query.endAt",0,2,arguments.length),new e(this.database,wY(this._delegate,function(e,t){return XG("endAt","key",t,!0),new lY(e,t)}(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return hm("Query.endBefore",0,2,arguments.length),new e(this.database,wY(this._delegate,function(e,t){return XG("endBefore","key",t,!0),new hY(e,t)}(t,n)))}},{key:"equalTo",value:function(t,n){return hm("Query.equalTo",1,2,arguments.length),new e(this.database,wY(this._delegate,function(e,t){return XG("equalTo","key",t,!0),new bY(e,t)}(t,n)))}},{key:"toString",value:function(){return hm("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return hm("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(hm("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new qY(this.database,new HQ(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,dm(e,"cancel",r.cancel,!0),r.context=n,pm(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(fm(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),qY=function(e){un(n,e);var t=fn(n);function n(e,r){var i;return tn(this,n),(i=t.call(this,e,new qQ(r._repo,r._path,new TK,!1))).database=e,i._delegate=r,i}return on(n,[{key:"getKey",value:function(){return hm("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return hm("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,$Q(this._delegate,e))}},{key:"getParent",value:function(){hm("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return hm("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){hm("Reference.set",1,2,arguments.length),dm("Reference.set","onComplete",t,!0);var n=XQ(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(hm("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,MY("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}eQ("Reference.update",this._delegate._path),dm("Reference.update","onComplete",t,!0);var i=JQ(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){hm("Reference.setWithPriority",2,3,arguments.length),dm("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(eQ("setWithPriority",e._path),GG("setWithPriority",t,e._path,!1),$G("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Lv;return gQ(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){hm("Reference.remove",0,1,arguments.length),dm("Reference.remove","onComplete",e,!0);var t,n=(t=this._delegate,eQ("remove",t._path),XQ(t,null));return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n}},{key:"transaction",value:function(e,t,n){var r=this;hm("Reference.transaction",1,3,arguments.length),dm("Reference.transaction","transactionUpdate",e,!1),dm("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(fm(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=jY(this._delegate,e,{applyLocally:n}).then((function(e){return new VY(e.committed,new UY(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){hm("Reference.setPriority",1,2,arguments.length),dm("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=mm(e),eQ("setPriority",e._path),$G("setPriority",t,!1);var n=new Lv;return gQ(e._repo,CW(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;hm("Reference.push",0,2,arguments.length),dm("Reference.push","onComplete",t,!0);var i=function(e,t){e=mm(e),eQ("push",e._path),GG("push",t,e._path,!0);var n,r=fQ(e._repo),i=MQ(r),a=$Q(e,i),o=$Q(e,i);return n=null!=t?XQ(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return eQ("Reference.onDisconnect",this._delegate._path),new FY(new BQ(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(BY),zY=function(){function e(t,n){var r=this;tn(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:IY,forceLongPolling:PY}}return on(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};NY(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(hm("database.ref",0,1,arguments.length),e instanceof qY){var t=YQ(this._delegate,e.toString());return new qY(this,t)}var n=QQ(this._delegate,e);return new qY(this,n)}},{key:"refFromURL",value:function(e){hm("database.refFromURL",1,1,arguments.length);var t=YQ(this._delegate,e);return new qY(this,t)}},{key:"goOffline",value:function(){return hm("database.goOffline",0,0,arguments.length),function(e){(e=mm(e))._checkNotDeleted("goOffline"),_Q(e._repo)}(this._delegate)}},{key:"goOnline",value:function(){return hm("database.goOnline",0,0,arguments.length),AY(this._delegate)}}]),e}();zY.ServerValue={TIMESTAMP:DY,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var WY=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.customAppCheckImpl,o=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;pz(r);var c=new xm("database-standalone"),l=new km("auth-internal",c);l.setComponent(new ym("auth-internal",(function(){return i}),"PRIVATE"));var h=void 0;return a&&(h=new km("app-check-internal",c)).setComponent(new ym("app-check-internal",(function(){return a}),"PRIVATE")),{instance:new zY(EY(t,l,h,n,u),t),namespace:o}}}),KY=zY.ServerValue;!function(e){e.INTERNAL.registerComponent(new ym("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new zY(i,r)}),"PUBLIC").setServiceProps({Reference:qY,Query:BY,Database:zY,DataSnapshot:UY,enableLogging:RY,INTERNAL:WY,ServerValue:KY}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","1.0.1")}(RB);var HY=RB.initializeApp({apiKey:"AIzaSyBw0y58SIEdqB-31x0M6UJMxAaUvLK8sAw",authDomain:"ecomm-386b2.firebaseapp.com",projectId:"ecomm-386b2",storageBucket:"ecomm-386b2.appspot.com",messagingSenderId:"1080736524036",appId:"1:1080736524036:web:32078a13e1c52ba5469251"}),GY=(HY.database().ref(),function(e,t){var n="string"==typeof e?e:t||"(default)",r=oy("object"==typeof e?e:py(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=Dv(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&AV.apply(void 0,[r].concat(en(i)))}return r}(HY));var QY=function(){return(0,pi.jsx)("div",{children:(0,pi.jsxs)("div",{role:"status",className:"absolute top-0 right-0 bottom-0 left-0 m-auto w-[3em] h-10 md:h-32 z-50",children:[(0,pi.jsxs)("svg",{"aria-hidden":"true",className:"w-10 h-10 text-gray-300 animate-spin fill-violet-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,pi.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,pi.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),(0,pi.jsx)("span",{className:"sr-only",children:"Loading..."})]})})},YY=function(){var e=cS(),n=yn((0,t.useState)(""),2),r=n[0],i=n[1],a=yn((0,t.useState)(""),2),o=a[0],s=a[1],u=yn((0,t.useState)(""),2),c=u[0],l=u[1],h=(0,t.useContext)(gi),f=h.loading,d=h.setLoading,p=function(){var t=yv(vv().mark((function t(){var n,a,u;return vv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(!0),""!==r&&""!==o&&""!==c){t.next=3;break}return t.abrupt("return",Rf.error("All Field are required"));case 3:return t.prev=3,t.next=6,cw(e,o,c);case 6:return n=t.sent,console.log(n),a={name:r,uid:n.user.uid,email:n.user.email,time:aP.now()},u=jV(GY,"users"),t.next=12,dB(u,a);case 12:Rf.success("signup succesfully "),i(""),s(""),l(""),d(!1),t.next=24;break;case 19:t.prev=19,t.t0=t.catch(3),console.log(t.t0),Rf.error("signup failed"),d(!1);case 24:case"end":return t.stop()}}),t,null,[[3,19]])})));return function(){return t.apply(this,arguments)}}();return(0,pi.jsx)(pi.Fragment,{children:(0,pi.jsx)("div",{className:"box4",children:(0,pi.jsxs)("div",{className:"section1",children:[(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{})," ",(0,pi.jsx)("span",{}),(0,pi.jsx)("div",{class:"signin",children:(0,pi.jsxs)("div",{class:"content",children:[(0,pi.jsx)("h2",{children:"Sign Up"}),(0,pi.jsxs)("div",{class:"form",children:[f&&(0,pi.jsx)(QY,{}),(0,pi.jsxs)("div",{class:"inputBox",children:[(0,pi.jsx)("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)},name:"name",required:!0})," ",(0,pi.jsx)("i",{children:"Username"})]}),(0,pi.jsxs)("div",{class:"inputBox",children:[(0,pi.jsx)("input",{type:"Email",value:o,onChange:function(e){return s(e.target.value)},name:"email",required:!0})," ",(0,pi.jsx)("i",{children:"Email"})]}),(0,pi.jsxs)("div",{class:"inputBox",children:[(0,pi.jsx)("input",{type:"password",value:c,onChange:function(e){return l(e.target.value)},name:"password",required:!0})," ",(0,pi.jsx)("i",{children:"Password"})]}),(0,pi.jsx)("div",{class:"inputBox",children:(0,pi.jsx)("input",{type:"submit",value:"SignUp",onClick:p})})]})]})})]})})})};var $Y,XY,JY=function(e){var n=yn((0,t.useState)(!1),2),r=n[0],i=n[1],a=yn((0,t.useState)({title:null,price:null,imageurl:null,category:null,description:null,time:aP.now(),date:(new Date).toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"})}),2),o=a[0],s=a[1],u=function(){var e=yv(vv().mark((function e(){var t;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=o.title&&null!=o.price&&null!=o.imageurl&&null!=o.category&&null!=o.description){e.next=2;break}return e.abrupt("return",Rf.error("all fields are required"));case 2:return e.prev=2,t=jV(GY,"products"),e.next=6,dB(t,o);case 6:Rf.success("add product successfully"),setTimeout((function(){window.location.href="/dashboard"}),800),f(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),c=yn((0,t.useState)([]),2),l=c[0],h=c[1],f=function(){var e=yv(vv().mark((function e(){var t,n;return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=OU(jV(GY,"products"),FU("time")),n=pB(t,(function(e){var t=[];e.forEach((function(e){t.push(_i(_i({},e.data()),{},{id:e.id}))})),h(t)})),e.abrupt("return",(function(){return n}));case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){f()}),[]);var d=function(){var e=yv(vv().mark((function e(){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lB(LV(GY,"products",o.id),o);case 3:Rf.success("product updated successfully"),setTimeout((function(){window.location.href="/dashboard"}),800),f(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=yv(vv().mark((function e(t){return vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fB(LV(GY,"products",t.id));case 3:Rf.success("product deleted succesfully"),f(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,pi.jsx)(gi.Provider,{value:{loading:r,setLoading:i,products:o,setProducts:s,addProduct:u,product:l,edithandle:function(e){s(e)},updateProduct:d,deleteProduct:p},children:e.children})},ZY=function(){return(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("h1",{className:"text-center text-info",children:"Let's Shop"}),(0,pi.jsx)("div",{className:"container-fluid mx-2",children:(0,pi.jsx)("div",{className:"row mt-5 mx-2",children:(0,pi.jsxs)("div",{className:"col-md-3",children:[(0,pi.jsx)("button",{className:"btn btn-warning w-100",children:"Men"}),(0,pi.jsx)("button",{className:"btn btn-warning w-100",children:"women"}),(0,pi.jsx)("button",{className:"btn btn-warning w-100",children:"Men"})]})})})]})},e$=function(){var e=Ht.section($Y||($Y=a(["\n    text-align: center;\n    .container {\n      margin-top: 4rem;\n      .contact-form {\n        max-width: 50rem;\n        margin: auto;\n        width:300px;\n        .contact-inputs {\n          display: flex;\n          flex-direction: column;\n          gap: 3rem;\n            input{\n            border:1px solid grey;\n            width:300px;\n          }\n        }\n        }\n       }\n      }\n    }\n  "])));return(0,pi.jsx)(yi,{children:(0,pi.jsxs)(e,{children:[(0,pi.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3782.265588856342!2d73.91455641541671!3d18.562061287384868!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2c147b8b3a3bf%3A0x6f7fdcc8e4d6c77e!2sPhoenix%20Marketcity%20-%20Viman%20Nagar!5e0!3m2!1sen!2sin!4v1664345115285!5m2!1sen!2sin",width:"100%",height:"400",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"}),(0,pi.jsx)("h4",{style:{color:"green",textAlign:"center",fontFamily:"Arial, Helvetica, sans-serif",paddingTop:"10px",fontSize:"25px"},children:"Feel Free to Contact Us \u260e\ufe0f"}),(0,pi.jsx)("div",{className:"container",children:(0,pi.jsx)("div",{className:"contact-form",children:(0,pi.jsxs)("form",{action:"https://formspree.io/f/mwkdagrr",method:"POST",className:"contact-inputs",children:[(0,pi.jsx)("input",{type:"text",placeholder:"username",name:"username",required:!0,autoComplete:"off",className:"b"}),(0,pi.jsx)("input",{type:"email",name:"Email",placeholder:"Email",autoComplete:"off",required:!0,className:"b"}),(0,pi.jsx)("textarea",{name:"Message",cols:"32",rows:"10",required:!0,autoComplete:"off",placeholder:"Enter you message",className:"a"}),(0,pi.jsx)("input",{type:"submit",value:"send",style:{backgroundColor:"green",borderRadius:"7px"}})]})})})]})})},t$=Ht.section(XY||(XY=a(["\n .container{\n    padding : 9rem 0;\n    text-align:center;\n    h2{\n        font-size:10rem;\n    }\n    p{\n        margin:2rem 0;\n    }\n    h3{\n        font-size:5.2rem;\n    }\n }\n"]))),n$=function(){return(0,pi.jsx)(yi,{children:(0,pi.jsx)(t$,{children:(0,pi.jsx)("div",{className:"container",children:(0,pi.jsxs)("div",{children:[(0,pi.jsx)("h2",{children:"404"}),(0,pi.jsx)("h3",{children:"Oh ! Somthing went wrong."}),(0,pi.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consectetur totam reiciendis eligendi! A eaque suscipit enim voluptates consectetur asperiores dicta!"}),(0,pi.jsx)(Ur,{to:"/",children:"Go Back to Home"})]})})})})},r$=function(){return(0,pi.jsx)(yi,{children:(0,pi.jsx)(pi.Fragment,{children:"productinfo"})})},i$=function(){var e=(0,t.useContext)(gi),n=e.products,r=e.setProducts,i=e.addProduct;return(0,pi.jsx)(pi.Fragment,{children:(0,pi.jsx)("div",{className:"box-add",children:(0,pi.jsxs)("div",{class:"form",children:[(0,pi.jsx)("div",{class:"title",children:"Welcome Admin"}),(0,pi.jsx)("div",{class:"subtitle",children:"Add Your Product!"}),(0,pi.jsxs)("div",{class:"input-container ic1",children:[(0,pi.jsx)("input",{class:"input",type:"text",placeholder:" ",value:n.title,onChange:function(e){return r(_i(_i({},n),{},{title:e.target.value}))}}),(0,pi.jsx)("div",{class:"cut"}),(0,pi.jsx)("label",{class:"placeholder",children:"Product title"})]}),(0,pi.jsxs)("div",{class:"input-container ic2",children:[(0,pi.jsx)("input",{class:"input",type:"text",placeholder:" ",value:n.price,onChange:function(e){return r(_i(_i({},n),{},{price:e.target.value}))}}),(0,pi.jsx)("div",{class:"cut"}),(0,pi.jsx)("label",{class:"placeholder",children:"product price"})]}),(0,pi.jsxs)("div",{class:"input-container ic2",children:[(0,pi.jsx)("input",{class:"input",type:"text",placeholder:" ",value:n.imageurl,onChange:function(e){return r(_i(_i({},n),{},{imageurl:e.target.value}))}}),(0,pi.jsx)("div",{class:"cut"}),(0,pi.jsx)("label",{class:"placeholder",children:"product imageurl"})]}),(0,pi.jsxs)("div",{class:"input-container ic2",children:[(0,pi.jsx)("input",{class:"input",type:"text",placeholder:" ",value:n.category,onChange:function(e){return r(_i(_i({},n),{},{category:e.target.value}))}}),(0,pi.jsx)("div",{class:"cut"}),(0,pi.jsx)("label",{class:"placeholder",children:"product category"})]}),(0,pi.jsxs)("div",{class:"input-container ic2",children:[(0,pi.jsx)("input",{class:"input",type:"text",placeholder:" ",value:n.description,onChange:function(e){return r(_i(_i({},n),{},{description:e.target.value}))}}),(0,pi.jsx)("div",{class:"cut"}),(0,pi.jsx)("label",{class:"placeholder",children:"product description "})]}),(0,pi.jsx)("button",{type:"text",class:"submit",onClick:i,children:"Add Product"})]})})})},a$=function(){var e=(0,t.useContext)(gi),n=e.products,r=e.setProducts,i=e.updateProduct;return(0,pi.jsx)(pi.Fragment,{children:(0,pi.jsx)("div",{className:"box-add",children:(0,pi.jsxs)("div",{class:"form",children:[(0,pi.jsx)("div",{class:"title",children:"Welcome Admin"}),(0,pi.jsx)("div",{class:"subtitle",children:"Update Your Product!"}),(0,pi.jsxs)("div",{class:"input-container ic1",children:[(0,pi.jsx)("input",{class:"input",type:"text",placeholder:" ",value:n.title,onChange:function(e){return r(_i(_i({},n),{},{title:e.target.value}))}}),(0,pi.jsx)("div",{class:"cut"}),(0,pi.jsx)("label",{class:"placeholder",children:"Product title"})]}),(0,pi.jsxs)("div",{class:"input-container ic2",children:[(0,pi.jsx)("input",{class:"input",type:"text",placeholder:" ",value:n.price,onChange:function(e){return r(_i(_i({},n),{},{price:e.target.value}))}}),(0,pi.jsx)("div",{class:"cut"}),(0,pi.jsx)("label",{class:"placeholder",children:"product price"})]}),(0,pi.jsxs)("div",{class:"input-container ic2",children:[(0,pi.jsx)("input",{class:"input",type:"text",placeholder:" ",value:n.imageurl,onChange:function(e){return r(_i(_i({},n),{},{imageurl:e.target.value}))}}),(0,pi.jsx)("div",{class:"cut cut-short"}),(0,pi.jsx)("label",{class:"placeholder",children:"product imageurl"})]}),(0,pi.jsxs)("div",{class:"input-container ic2",children:[(0,pi.jsx)("input",{class:"input",type:"text",placeholder:" ",value:n.category,onChange:function(e){return r(_i(_i({},n),{},{category:e.target.value}))}}),(0,pi.jsx)("div",{class:"cut cut-short"}),(0,pi.jsx)("label",{class:"placeholder",children:"product category"})]}),(0,pi.jsxs)("div",{class:"input-container ic2",children:[(0,pi.jsx)("input",{class:"input",type:"text",placeholder:" ",value:n.description,onChange:function(e){return r(_i(_i({},n),{},{description:e.target.value}))}}),(0,pi.jsx)("div",{class:"cut cut-short"}),(0,pi.jsx)("label",{class:"placeholder",children:"product description "})]}),(0,pi.jsx)("button",{type:"text",class:"submit",onClick:i,children:"Update Product"})]})})})};var o$=function(){return(0,pi.jsx)(pi.Fragment,{children:(0,pi.jsx)(JY,{children:(0,pi.jsxs)(Ft,{theme:{colors:{heading:"rgb(24 24 29)",text:"rgba(29 ,29, 29, .8)",white:"#fff",black:" #212529",helper:"#8490ff",bg:"#F6F8FA",footer_bg:"#0a1435",btn:"rgb(98 84 243)",border:"rgba(98, 84, 243, 0.5)",hr:"#ffffff",gradient:"linear-gradient(0deg, rgb(132 144 255) 0%, rgb(98 189 252) 100%)",shadow:"rgba(0, 0, 0, 0.02) 0px 1px 3px 0px,rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;",shadowSupport:" rgba(0, 0, 0, 0.16) 0px 1px 4px"},media:{mobile:"768px",tab:"998px"}},children:[(0,pi.jsx)($t,{}),(0,pi.jsxs)(Pr,{children:[(0,pi.jsx)(Cr,{exact:!0,path:"/",Component:Pp}),(0,pi.jsx)(Cr,{exact:!0,path:"/order",element:(0,pi.jsx)(s$,{children:(0,pi.jsx)(pv,{})})}),(0,pi.jsx)(Cr,{exact:!0,path:"/cart",Component:Np}),(0,pi.jsx)(Cr,{exact:!0,path:"/trendyproduct",Component:Ip}),(0,pi.jsx)(Cr,{exact:!0,path:"/dashboard",element:(0,pi.jsx)(u$,{children:(0,pi.jsx)(dv,{})})}),(0,pi.jsx)(Cr,{exact:!0,path:"/login",Component:hS}),(0,pi.jsx)(Cr,{exact:!0,path:"/signup",Component:YY}),(0,pi.jsx)(Cr,{exact:!0,path:"/category",Component:ZY}),(0,pi.jsx)(Cr,{exact:!0,path:"/contact",Component:e$}),(0,pi.jsx)(Cr,{exact:!0,path:"/productinfo/:id",Component:r$}),(0,pi.jsx)(Cr,{exact:!0,path:"/addproduct",element:(0,pi.jsx)(u$,{children:(0,pi.jsx)(i$,{})})}),(0,pi.jsx)(Cr,{exact:!0,path:"/updateproduct",element:(0,pi.jsx)(u$,{children:(0,pi.jsx)(a$,{})})}),(0,pi.jsx)(Cr,{path:"*",Component:n$})]}),(0,pi.jsx)(_f,{})]})})})},s$=function(e){var t=e.children;return localStorage.getItem("user")?t:(0,pi.jsx)(Tr,{to:"/login"})},u$=function(e){var t=e.children;return"muskansingh7105@gmail.com"===JSON.parse(localStorage.getItem("user")).user.email?t:(0,pi.jsx)(Tr,{to:"/login"})},c$=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},l$=function(e){var t,n=hp(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,h=void 0===l?void 0:l,f=r.enhancers,d=void 0===f?void 0:f;if("function"===typeof a)t=a;else{if(!op(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ud(a)}var p=s;"function"===typeof p&&(p=p(n));var v=qd.apply(void 0,p),m=Bd;c&&(m=ap(np({trace:!1},"object"===typeof c&&c)));var y=new cp(v),g=y;return Array.isArray(d)?g=Qd([v],d):"function"===typeof d&&(g=d(y)),Vd(t,h,m.apply(void 0,g))}({reducer:{cart:Cp},devTools:!0});i.createRoot(document.getElementById("root")).render((0,pi.jsx)(Mr,{children:(0,pi.jsx)(t.StrictMode,{children:(0,pi.jsx)(ui,{store:l$,children:(0,pi.jsx)(o$,{})})})})),c$()}()}();
//# sourceMappingURL=main.183acc5a.js.map